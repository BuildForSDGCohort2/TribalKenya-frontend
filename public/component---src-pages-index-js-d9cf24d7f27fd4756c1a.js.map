{"version":3,"sources":["webpack:///./src/components/slider/adventure.svg","webpack:///./node_modules/mux.js/lib/aac/utils.js","webpack:///./node_modules/videojs-vtt.js/lib/vttregion.js","webpack:///./node_modules/videojs-vtt.js/lib/vtt.js","webpack:///./node_modules/url-toolkit/src/url-toolkit.js","webpack:///./node_modules/m3u8-parser/dist/m3u8-parser.es.js","webpack:///./node_modules/xmldom/sax.js","webpack:///./node_modules/mux.js/lib/tools/ts-inspector.js","webpack:///./node_modules/mux.js/lib/tools/caption-packet-parser.js","webpack:///./node_modules/keycode/index.js","webpack:///./node_modules/@babel/runtime/helpers/inherits.js","webpack:///./node_modules/global/document.js","webpack:///./node_modules/react-slick/lib/slider.js","webpack:///./node_modules/lodash.debounce/index.js","webpack:///./node_modules/react-slick/lib/default-props.js","webpack:///./node_modules/@videojs/xhr/index.js","webpack:///./node_modules/string-convert/camel2hyphen.js","webpack:///./src/components/slider/navigate.svg","webpack:///./src/components/slider/people.svg","webpack:///./src/components/slider/memories.svg","webpack:///./node_modules/enquire.js/src/Util.js","webpack:///./node_modules/mux.js/lib/m2ts/timestamp-rollover-stream.js","webpack:///./node_modules/videojs-vtt.js/lib/browser-index.js","webpack:///./node_modules/mux.js/lib/mp4/probe.js","webpack:///./node_modules/react-slick/lib/arrows.js","webpack:///./node_modules/xmldom/dom-parser.js","webpack:///./node_modules/mux.js/lib/utils/clock.js","webpack:///./node_modules/@babel/runtime/helpers/getPrototypeOf.js","webpack:///./node_modules/react-slick/lib/index.js","webpack:///./node_modules/pkcs7/dist/pkcs7.es.js","webpack:///./node_modules/aes-decrypter/dist/aes-decrypter.es.js","webpack:///./node_modules/mux.js/lib/m2ts/probe.js","webpack:///./node_modules/mux.js/lib/utils/stream.js","webpack:///./src/components/slider/Slide.js","webpack:///./src/components/slider/CustomSlider.js","webpack:///./src/components/TextContent.js","webpack:///./src/components/VideoPlayBtn.js","webpack:///./src/state/intro/intro.actions.js","webpack:///./src/components/homepage/Intro.js","webpack:///./src/components/homepage/CustomVideoPlayer.js","webpack:///./src/pages/index.js","webpack:///./node_modules/@babel/runtime/helpers/setPrototypeOf.js","webpack:///./node_modules/mux.js/lib/m2ts/caption-stream.js","webpack:///./node_modules/react-slick/lib/track.js","webpack:///./node_modules/@videojs/vhs-utils/dist/resolve-url.js","webpack:///./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js","webpack:///./node_modules/react-slick/lib/dots.js","webpack:///./node_modules/@babel/runtime/helpers/isNativeReflectConstruct.js","webpack:///./node_modules/resize-observer-polyfill/dist/ResizeObserver.es.js","webpack:///./node_modules/xmldom/dom.js","webpack:///./node_modules/mux.js/lib/utils/bin.js","webpack:///./node_modules/is-function/index.js","webpack:///./node_modules/mpd-parser/dist/mpd-parser.es.js","webpack:///./node_modules/@videojs/vhs-utils/dist/decode-b64-to-uint8-array.js","webpack:///./node_modules/safe-json-parse/tuple.js","webpack:///./node_modules/enquire.js/src/index.js","webpack:///./node_modules/enquire.js/src/QueryHandler.js","webpack:///./node_modules/mux.js/lib/tools/mp4-inspector.js","webpack:///./node_modules/json2mq/index.js","webpack:///./node_modules/mux.js/lib/mp4/caption-parser.js","webpack:///./node_modules/mux.js/lib/m2ts/stream-types.js","webpack:///./node_modules/react-slick/lib/initial-state.js","webpack:///./node_modules/videojs-vtt.js/lib/vttcue.js","webpack:///./node_modules/@babel/runtime/helpers/construct.js","webpack:///./node_modules/react-slick/lib/inner-slider.js","webpack:///./node_modules/enquire.js/src/MediaQuery.js","webpack:///./node_modules/global/window.js","webpack:///./node_modules/enquire.js/src/MediaQueryDispatch.js","webpack:///./node_modules/react-slick/lib/utils/innerSliderUtils.js"],"names":["module","exports","ADTS_SAMPLING_FREQUENCIES","parseSyncSafeInteger","data","isLikelyAacData","charCodeAt","parseId3TagSize","header","byteIndex","returnSize","parseAdtsSize","lowThree","middle","parseType","parseSampleRate","packet","i","length","parseAacTimestamp","frameStart","frameSize","frame","subarray","String","fromCharCode","byteLength","unescape","bytes","start","end","result","toString","slice","percentEncode","d","size","scrollSetting","isValidPercentValue","value","_width","_lines","_regionAnchorX","_regionAnchorY","_viewportAnchorX","_viewportAnchorY","_scroll","Object","defineProperties","this","enumerable","get","set","Error","TypeError","setting","toLowerCase","findScrollSetting","console","warn","document","_objCreate","create","F","o","arguments","prototype","ParsingError","errorData","message","name","code","parseTimeStamp","input","computeSeconds","h","m","s","f","match","replace","Settings","values","parseOptions","callback","keyValueDelim","groupDelim","groups","split","kv","parseCue","cue","regionList","oInput","consumeTimeStamp","ts","Errors","BadTimeStamp","skipWhitespace","startTime","substr","endTime","settings","k","v","id","region","alt","vals","vals0","integer","percent","vertical","line","e","lineAlign","snapToLines","align","position","left","center","right","positionAlign","consumeCueSettings","constructor","BadSignature","dflt","defaultKey","has","a","n","test","parseInt","parseFloat","TEXTAREA_ELEMENT","createElement","TAG_NAME","c","b","u","ruby","rt","lang","DEFAULT_COLOR_CLASS","white","lime","cyan","red","yellow","magenta","blue","black","TAG_ANNOTATION","NEEDS_PARENT","parseContent","window","nextToken","shouldAdd","current","element","localName","type","annotation","tagName","trim","t","rootDiv","tagStack","appendChild","createTextNode","innerHTML","textContent","pop","parentNode","node","createProcessingInstruction","classes","forEach","cl","bgColor","colorName","hasOwnProperty","propName","propValue","style","className","join","push","strongRTLRanges","isStrongRTLChar","charCode","currentRange","determineBidi","cueDiv","nodeStack","text","childNodes","pushNodes","nextTextNode","innerText","StyleBox","CueStyleBox","styleOptions","call","styles","color","backgroundColor","top","bottom","display","writingMode","unicodeBidi","applyStyles","div","direction","textAlign","font","whiteSpace","textPos","formatStyle","width","height","move","box","BoxPosition","obj","lh","offsetHeight","offsetWidth","offsetTop","rects","getClientRects","getBoundingClientRect","Math","max","lineHeight","undefined","moveBoxToLinePosition","styleBox","containerBox","boxPositions","boxPosition","linePos","track","textTrackList","mediaElement","trackList","count","mode","computeLinePos","axis","step","round","maxPosition","initialAxis","abs","ceil","reverse","calculatedPercentage","bestPosition","specifiedPosition","percentage","overlapsOppositeAxis","within","overlapsAny","p","intersectPercentage","findBestPosition","toCSSCompatValues","WebVTT","prop","val","unit","toMove","overlaps","b2","boxes","container","min","reference","getSimpleBoxPosition","StringDecoder","decode","decodeURIComponent","encodeURIComponent","convertCueToDOMTree","cuetext","processCues","cues","overlay","firstChild","removeChild","paddedOverlay","margin","hasBeenReset","displayState","shouldCompute","fontSize","Parser","vttjs","decoder","state","buffer","TextDecoder","reportOrThrowError","onparsingerror","parse","self","collectNextLine","pos","parseHeader","ontimestampmap","parseTimestampMap","xy","anchor","VTTRegion","lines","regionAnchorX","regionAnchorY","viewportAnchorX","viewportAnchorY","scroll","onregion","parseRegion","stream","alreadyCollectedLine","VTTCue","indexOf","hasSubstring","oncue","flush","onflush","URL_REGEX","FIRST_SEGMENT_REGEX","SLASH_DOT_REGEX","SLASH_DOT_DOT_REGEX","URLToolkit","buildAbsoluteURL","baseURL","relativeURL","opts","alwaysNormalize","basePartsForNormalise","parseURL","path","normalizePath","buildURLFromParts","relativeParts","scheme","baseParts","netLoc","pathParts","exec","builtParts","params","query","fragment","baseURLPath","newPath","substring","lastIndexOf","url","parts","_extends","assign","target","source","key","apply","_inheritsLoose","subClass","superClass","__proto__","Stream","listeners","_proto","on","listener","off","index","splice","trigger","args","callbacks","Array","dispose","pipe","destination","LineStream","_Stream","_this","nextNewline","parseAttributes","attributes","attr","attrs","RegExp","ParseStream","customParsers","tagMappers","event","_this2","reduce","acc","mapper","mappedLine","concat","newLine","tagType","duration","title","version","number","playlistType","offset","allowed","URI","uri","BYTERANGE","_attributes$BYTERANGE","byterange","RESOLUTION","resolution","BANDWIDTH","dateTimeString","dateTimeObject","Date","IV","Uint32Array","PRECISE","addParser","_ref","_this3","expression","customType","dataParser","segment","addTagMapper","_ref2","map","decodeB64ToUint8Array","b64Text","decodedString","atob","array","Uint8Array","lineStream","parseStream","currentMap","_key","ReferenceError","_assertThisInitialized","uris","currentUri","noop","defaultMediaGroups","currentTimeline","manifest","allowCache","discontinuityStarts","segments","entry","mediaGroup","rendition","tag","endlist","endList","inf","mediaSequence","discontinuitySequence","METHOD","KEYFORMAT","KEYID","contentProtection","schemeIdUri","keyId","pssh","method","iv","isFinite","playlist","playlists","mediaGroups","media","TYPE","NAME","mediaGroupType","default","DEFAULT","autoselect","AUTOSELECT","LANGUAGE","language","instreamId","CHARACTERISTICS","characteristics","FORCED","forced","discontinuity","targetduration","targetDuration","totalduration","totalDuration","isNaN","timeOffset","precise","cueOut","cueOutCont","cueIn","timeline","comment","custom","chunk","options","nameStartChar","nameChar","tagNamePattern","XMLReader","copyLocator","lineNumber","columnNumber","parseElementStartPart","el","currentNSMap","entityReplacer","errorHandler","attrName","charAt","warning","add","setTagName","closed","error","appendElement","domBuilder","localNSMap","qName","nsp","prefix","nsPrefix","_copy","startPrefixMapping","ns","startElement","endElement","endPrefixMapping","parseHtmlSpecialContent","elStartEnd","elEndStart","characters","fixSelfClosed","closeMap","parseDCC","startCDATA","endCDATA","matchs","buf","reg","lastIndex","len","pubid","sysid","lastMatch","startDTD","endDTD","parseInstruction","processingInstruction","ElementAttributes","_set_proto_","thiz","parent","defaultNSMap","entityMap","startDocument","defaultNSMapCopy","surrogate1","surrogate2","fixedFromCharCode","appendText","xt","locator","lineEnd","linePattern","lineStart","parseStack","tagStart","doc","currentElement","config","endMatch","fatalError","nbsp","locator2","_parse","endDocument","getLocalName","getLocator","getQName","getURI","getValue","StreamTypes","handleRollover","probe","aac","ONE_SECOND_IN_TS","parseAudioPes_","pmt","pesType","pusi","parsed","startIndex","endIndex","endLoop","pid","parsePesType","table","parsePayloadUnitStartIndicator","parsePesTime","audio","parseVideoPes_","pes","currentFrame","video","firstKeyFrame","shift","videoPacketContainsKeyFrame","inspectTs_","parsePat","parsePmt","parsePsi_","H264_STREAM_TYPE","ADTS_STREAM_TYPE","inspect","baseTimestamp","audioCount","sampleRate","timestamp","audioTimescale","dts","pts","inspectAac_","segmentInfo","audioBaseTimestamp","info","dtsTime","ptsTime","videoBaseTimestamp","adjustTimestamp_","parseSei","payloadType","payloadSize","payload","parseUserData","sei","parseCaptionPackets","userData","results","ccData","discardEmulationPreventionBytes","newLength","newData","emulationPreventionBytesPositions","sourceIndex","USER_DATA_REGISTERED_ITU_T_T35","keyCode","searchInput","hasKeyCode","which","names","foundNamedKey","search","codes","aliases","isEventKey","nameOrCode","alias","setPrototypeOf","writable","configurable","doccy","minDoc","topLevel","defineProperty","_react","_interopRequireDefault","_innerSlider","_json2mq","_defaultProps","_innerSliderUtils","__esModule","_typeof","Symbol","iterator","ownKeys","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","_objectSpread","_defineProperty","getOwnPropertyDescriptors","_defineProperties","props","descriptor","_getPrototypeOf","getPrototypeOf","_setPrototypeOf","enquire","canUseDOM","Slider","_React$Component","instance","Constructor","_classCallCheck","_possibleConstructorReturn","ref","innerSlider","slickPrev","slickNext","slide","dontAnimate","slickGoTo","pause","autoPlay","breakpoint","_responsiveMediaHandlers","protoProps","staticProps","_inherits","handler","register","responsive","breakpoints","breakpt","sort","x","y","bQuery","minWidth","maxWidth","setState","unregister","newProps","resp","centerMode","slidesToScroll","fade","slidesToShow","children","Children","toArray","child","variableWidth","rows","slidesPerRow","newChildren","currentWidth","newSlide","j","row","cloneElement","tabIndex","unslick","InnerSlider","innerSliderRefHandler","Component","reTrim","reIsBadHex","reIsBinary","reIsOctal","freeParseInt","freeGlobal","global","freeSelf","root","Function","objectToString","nativeMax","nativeMin","now","isObject","toNumber","isObjectLike","isSymbol","other","valueOf","isBinary","func","wait","lastArgs","lastThis","maxWait","timerId","lastCallTime","lastInvokeTime","leading","maxing","trailing","invokeFunc","time","thisArg","leadingEdge","setTimeout","timerExpired","shouldInvoke","timeSinceLastCall","trailingEdge","remainingWait","debounced","isInvoking","cancel","clearTimeout","_default","accessibility","adaptiveHeight","afterChange","appendDots","dots","arrows","autoplay","autoplaySpeed","beforeChange","centerPadding","cssEase","customPaging","dotsClass","draggable","easing","edgeFriction","focusOnSelect","infinite","initialSlide","lazyLoad","nextArrow","onEdge","onInit","onLazyLoadError","onReInit","pauseOnDotsHover","pauseOnFocus","pauseOnHover","prevArrow","rtl","speed","swipe","swipeEvent","swipeToSlide","touchMove","touchThreshold","useCSS","useTransform","waitForAnimate","isFunction","initParams","createXHR","_createXHR","called","err","response","body","getBody","xhr","responseText","responseType","responseXML","firefoxBugTakenEffect","documentElement","nodeName","getXml","isJson","JSON","errorFunc","evt","timeoutTimer","statusCode","failureResponse","loadFunc","aborted","status","useXDR","headers","rawRequest","getAllResponseHeaders","isArray","parseHeaders","cors","XDomainRequest","XMLHttpRequest","sync","json","stringify","onreadystatechange","readyState","onload","onerror","onprogress","onabort","ontimeout","open","username","password","withCredentials","timeout","abort","setRequestHeader","isEmpty","beforeSend","send","forEachArray","toUpperCase","str","each","collection","fn","TimestampRolloverStream","lastDTS","referenceDTS","init","type_","endTimeline","reset","cueShim","regionShim","nativeVTTCue","nativeVTTRegion","shim","restore","timescale","compositionStartTime","getVideoTrackIds","getTracks","toUnsigned","toHexString","mp4Inspector","findBox","trak","tkhd","mdhd","trafs","baseTimes","traf","tfhd","scale","tfdt","pow","Infinity","timescales","trackId","trafBoxes","baseMediaDecodeTime","compositionTimeOffset","parsedTraf","parseTraf","samples","traks","videoTrackIds","hdlrs","tkhds","hdlr","view","handlerType","DataView","byteOffset","getUint8","getUint32","tracks","stsd","sampleDescriptions","codec","codecConfig","codecBox","NextArrow","PrevArrow","_classnames","_createClass","_React$PureComponent","preventDefault","clickHandler","prevClasses","prevHandler","bind","currentSlide","slideCount","prevArrowProps","onClick","customProps","PureComponent","_React$PureComponent2","nextClasses","nextHandler","canGoNext","nextArrowProps","DOMParser","DOMHandler","cdata","_locator","l","systemId","_toString","chars","java","hander","parseFromString","mimeType","sax","xmlns","setDocumentLocator","errorImpl","isCallback","build","msg","buildErrorHandler","copy","xml","DOMImplementation","createDocument","documentURI","namespaceURI","createElementNS","createAttributeNS","nodeValue","setAttributeNode","ins","ignorableWhitespace","ch","charNode","createCDATASection","skippedEntity","normalize","comm","createComment","publicId","impl","implementation","createDocumentType","dt","_error","XMLSerializer","secondsToVideoTs","secondsToAudioTs","videoTsToSeconds","audioTsToSeconds","audioTsToVideoTs","videoTsToAudioTs","metadataTsToSeconds","seconds","timelineStartPts","keepOriginalTimestamps","classCallCheck","createClass","aesTables","AES","tables","encTable","decTable","sbox","sboxInv","xInv","th","x2","x4","tEnc","tDec","precompute","_tables","tmp","encKey","decKey","keyLen","rcon","decrypt","encrypted0","encrypted1","encrypted2","encrypted3","out","a2","c2","nInnerRounds","kIndex","table0","table1","table2","table3","_length","_i","AsyncStream","possibleConstructorReturn","jobs","delay","timeout_","inherits","processJob_","job","ntoh","word","encrypted","initVector","encrypted32","Int32Array","decipher","decrypted","decrypted32","init0","init1","init2","init3","wordIx","Decrypter","done","STEP","asyncStream_","decryptChunk_","padded","parsePid","parseAdaptionField","parseNalUnitType","pmtPid","programMapTable","payloadOffset","tableEnd","METADATA_STREAM_TYPE","ptsDtsFlags","frameBuffer","frameI","frameSyncPoint","foundKeyFrame","flushSource","partialFlush","Slide","content","image","src","CustomSlider","adventure","navigate","people","memories","TextContent","heading","VideoPlayBtn","activate","extraWrapper","extraClass","toggleVideo","showVideo","connect","dispatch","videoToggle","isVideoShown","CustomVideoPlayer","videoRef","poster","videoSRC","useEffect","videojs","data-setup","href","rel","videoPlayer","querySelector","ready","play","intro","introVideo","introPoster","NavBar","extraClasses","cea708Parser","CaptionStream","captionPackets_","ccStreams_","Cea608Stream","cc","newCaptionPackets","nalUnitType","escapedRBSP","latestDts_","ignoreNextEqualDts_","numSameDts_","flushCCStreams","flushType","flushStream","elem","idx","presortIndex","dispatchCea608Packet","activeCea608Channel_","ccStream","setsTextOrXDSActive","setsChannel1Active","setsChannel2Active","CHARACTER_TRANSLATION","getCharFromCode","ROWS","createDisplayBuffer","BOTTOM_ROW","field","dataChannel","field_","dataChannel_","name_","setConstants","swap","char0","char1","lastControlCode_","PADDING_","RESUME_CAPTION_LOADING_","mode_","END_OF_CAPTION_","clearFormatting","flushDisplayed","displayed_","nonDisplayed_","startPts_","ROLL_UP_2_ROWS_","rollUpRows_","setRollUp","ROLL_UP_3_ROWS_","ROLL_UP_4_ROWS_","CARRIAGE_RETURN_","shiftRowsUp_","BACKSPACE_","row_","ERASE_DISPLAYED_MEMORY_","ERASE_NON_DISPLAYED_MEMORY_","RESUME_DIRECT_CAPTIONING_","isSpecialCharacter","column_","isExtCharacter","isMidRowCode","addFormatting","isOffsetControlCode","isPAC","formatting_","isColorPAC","isNormalChar","startPts","endPts","topRow_","BASE_","EXT_","CONTROL_","OFFSET_","char","newBaseRow","format","popOn","baseRow","rollUp","paintOn","Track","getSlideClasses","spec","slickActive","slickCenter","slickCloned","centerOffset","floor","targetSlide","getKey","fallbackKey","renderSlides","slides","preCloneSlides","postCloneSlides","childrenCount","lazyStartIndex","lazyEndIndex","childOnClickOptions","lazyLoadedList","childStyle","slideWidth","slideHeight","opacity","transition","getSlideStyle","slideClass","slideClasses","outline","preCloneNo","getPreClones","_getPrototypeOf2","_len","_this$props","mouseEvents","onMouseEnter","onMouseOver","onMouseLeave","handleRef","trackStyle","_interopDefault","ex","baseUrl","relativeUrl","location","assertThisInitialized","Dots","dotCount","_rightBound","rightBound","clamp","_leftBound","leftBound","dotOptions","Reflect","construct","sham","Proxy","MapShim","Map","getIndex","arr","some","class_1","__entries__","delete","entries","clear","ctx","_a","isBrowser","global$1","requestAnimationFrame$1","requestAnimationFrame","transitionKeys","mutationObserverSupported","MutationObserver","ResizeObserverController","connected_","mutationEventsAdded_","mutationsObserver_","observers_","onTransitionEnd_","refresh","leadingCall","trailingCall","resolvePending","proxy","timeoutCallback","timeStamp","throttle","addObserver","observer","connect_","removeObserver","observers","disconnect_","updateObservers_","activeObservers","gatherActive","hasActive","broadcastActive","addEventListener","observe","childList","characterData","subtree","removeEventListener","disconnect","_b","propertyName","getInstance","instance_","defineConfigurable","getWindowOf","ownerDocument","defaultView","emptyRect","createRectInit","toFloat","getBordersSize","positions","getHTMLElementContentRect","clientWidth","clientHeight","getComputedStyle","paddings","positions_1","getPaddings","horizPad","vertPad","boxSizing","isDocumentElement","vertScrollbar","horizScrollbar","isSVGGraphicsElement","SVGGraphicsElement","SVGElement","getBBox","getContentRect","bbox","getSVGContentRect","ResizeObservation","broadcastWidth","broadcastHeight","contentRect_","isActive","rect","broadcastRect","ResizeObserverEntry","rectInit","Constr","contentRect","DOMRectReadOnly","ResizeObserverSPI","controller","callbackCtx","activeObservations_","observations_","callback_","controller_","callbackCtx_","Element","observations","unobserve","clearActive","observation","WeakMap","ResizeObserver","dest","Class","Super","pt","ppt","NodeType","ELEMENT_NODE","ATTRIBUTE_NODE","TEXT_NODE","CDATA_SECTION_NODE","ENTITY_REFERENCE_NODE","ENTITY_NODE","PROCESSING_INSTRUCTION_NODE","COMMENT_NODE","DOCUMENT_NODE","DOCUMENT_TYPE_NODE","DOCUMENT_FRAGMENT_NODE","NOTATION_NODE","ExceptionCode","ExceptionMessage","HIERARCHY_REQUEST_ERR","INDEX_SIZE_ERR","DOMSTRING_SIZE_ERR","NOT_FOUND_ERR","WRONG_DOCUMENT_ERR","INVALID_CHARACTER_ERR","NO_DATA_ALLOWED_ERR","NO_MODIFICATION_ALLOWED_ERR","INUSE_ATTRIBUTE_ERR","NOT_SUPPORTED_ERR","INVALID_STATE_ERR","SYNTAX_ERR","INVALID_MODIFICATION_ERR","NAMESPACE_ERR","INVALID_ACCESS_ERR","DOMException","captureStackTrace","NodeList","LiveNodeList","_node","_refresh","_updateLiveList","list","inc","_inc","ls","__set__","NamedNodeMap","_findNodeIndex","_addNamedNode","newAttr","oldAttr","ownerElement","_onRemoveAttribute","_nsMap","_onAddAttribute","_removeNamedNode","features","_features","feature","Node","_xmlEncoder","_visitNode","nextSibling","Document","remove","_onUpdateChild","newChild","cs","_removeChild","previous","previousSibling","next","lastChild","_insertBefore","nextChild","cp","nodeType","newFirst","newLast","pre","Attr","CharacterData","Text","Comment","CDATASection","DocumentType","Notation","Entity","EntityReference","DocumentFragment","ProcessingInstruction","nodeSerializeToString","isHtml","nodeFilter","refNode","lookupPrefix","visibleNamespaces","namespace","serializeToString","needNamespaceDefine","isHTML","item","sub","internalSubset","getNamedItem","setNamedItem","_ownerElement","setNamedItemNS","getNamedItemNS","removeNamedItem","removeNamedItemNS","hasFeature","versions","qualifiedName","doctype","insertBefore","refChild","replaceChild","oldChild","hasChildNodes","cloneNode","deep","_cloneNode","node2","attrs2","appendData","isSupported","hasAttributes","lookupNamespaceURI","isDefaultNamespace","importNode","importedNode","_importNode","getElementById","rtv","getAttribute","createDocumentFragment","createAttribute","specified","createEntityReference","pl","hasAttribute","getAttributeNode","setAttribute","removeAttribute","removeAttributeNode","_appendSingleChild","setAttributeNodeNS","removeAttributeNS","old","getAttributeNodeNS","hasAttributeNS","getAttributeNS","setAttributeNS","getElementsByTagName","base","getElementsByTagNameNS","substringData","insertData","replaceData","deleteData","splitText","newText","newNode","$$length","getTextContent","string","alert","confirm","prompt","merge","objects","flatten","lists","from","errors","urlTypeToSegment","_ref$baseUrl","_ref$source","_ref$range","range","_ref$indexRange","indexRange","resolvedUri","ranges","startRange","endRange","segmentRange","static","_attributes$timescale","sourceDuration","dynamic","NOW","clientOffset","availabilityStartTime","_attributes$timescale2","_attributes$start","_attributes$minimumUp","minimumUpdatePeriod","_attributes$timeShift","timeShiftBufferDepth","periodStartWC","periodDuration","segmentCount","availableStart","availableEnd","parseByDuration","_attributes$type","_attributes$timescale4","_segmentRange$type","_attributes$timescale3","periodIndex","_attributes$startNumb","startNumber","toSegments","segmentsFromBase","_attributes$initializ","initialization","_attributes$indexRang","initSegment","sourceURL","segmentTimeInfo","addSegmentsToPlaylist","sidx","sidxByteRange","sidxEnd","mediaReferences","references","r","referenceType","firstOffset","referencedSize","subsegmentDuration","mergeDiscontiguousPlaylists","_acc$name$segments","addSegmentInfoFromSidx","sidxMapping","sidxKey","sidxMatch","formatAudioPlaylist","_attributes","bandwidth","CODECS","codecs","formatVideoPlaylist","_ref3","_attributes3","AUDIO","SUBTITLES","toM3u8","dashPlaylists","_mediaGroups","_dashPlaylists$0$attr","_dashPlaylists$0$attr2","suggestedPresentationDelay","_dashPlaylists$0$attr3","videoPlaylists","_ref4","contentType","audioPlaylists","_ref5","vttPlaylists","_ref6","master","VIDEO","mainPlaylist","formattedPlaylists","role","label","roleLabel","organizeAudioPlaylists","subs","_attributes2","organizeVttPlaylists","getLiveRValue","parseByTimeline","segmentTimeline","_attributes$minimumUp2","_attributes$media","sIndex","S","repeat","segmentTime","nextS","identifierPattern","constructTemplateUrl","identifier","identifierReplacement","segmentsFromTemplate","templateValues","RepresentationID","Bandwidth","mapSegment","parseTemplateInfo","Number","Time","segmentsFromList","_attributes$segmentUr","segmentUrls","segmentUrlMap","segmentUrlObject","segmentUrl","mediaRange","SegmentURLToSegmentObject","generateSegments","segmentAttributes","segmentsFn","template","segmentsInfo","_segmentAttributes","_segmentAttributes$ti","findChildren","getContent","parseDuration","_match$slice","year","month","day","hour","minute","second","parsers","mediaPresentationDuration","parsedValue","parseFn","keySystemsMap","buildBaseUrls","referenceUrls","baseUrlElements","baseUrlElement","getSegmentInformation","adaptationSet","segmentTemplate","segmentList","segmentBase","segmentTimelineParentNode","segmentInitializationParentNode","segmentInitialization","toRepresentations","periodAttributes","periodBaseUrls","periodSegmentInfo","adaptationSetAttributes","adaptationSetBaseUrls","roleAttributes","keySystem","psshNode","psshBuffer","representations","adaptationSetSegmentInfo","representation","repBaseUrlElements","repBaseUrls","representationSegmentInfo","inheritBaseUrls","inheritAttributes","mpd","_options","_options$manifestUri","manifestUri","_options$NOW","_options$clientOffset","periods","mpdAttributes","mpdBaseUrls","period","periodAtt","parsedPeriodId","adaptationSets","toAdaptationSets","stringToMpdXml","manifestString","parseUTCTiming","UTCTimingNode","parseUTCTimingScheme","Buffer","reviver","MediaQueryDispatch","QueryHandler","deferSetup","setup","initialised","unmatch","destroy","equals","inspectMp4","_textifyMp","parseMp4Date","parseSampleFlags","flags","isLeading","dependsOn","isDependedOn","hasRedundancy","paddingValue","isNonSyncSample","degradationPriority","nalParse","avcStream","avcView","avc1","dataReferenceIndex","getUint16","horizresolution","vertresolution","frameCount","depth","avcC","numOfPictureParameterSets","nalSize","configurationVersion","avcProfileIndication","profileCompatibility","avcLevelIndication","lengthSizeMinusOne","sps","pps","numOfSequenceParameterSets","btrt","bufferSizeDB","maxBitrate","avgBitrate","esds","esId","streamPriority","decoderConfig","objectProfileIndication","streamType","bufferSize","decoderConfigDescriptor","audioObjectType","samplingFrequencyIndex","channelConfiguration","ftyp","majorBrand","minorVersion","compatibleBrands","dinf","dref","dataReferences","escape","mdat","nals","creationTime","modificationTime","mdia","mfhd","sequenceNumber","minf","mp4a","channelcount","samplesize","samplerate","streamDescriptor","moof","moov","mvex","mvhd","rate","volume","matrix","nextTrackId","pdin","initialDelay","sdtp","referenceId","earliestPresentationTime","referenceCount","startsWithSap","sapType","sapDeltaTime","smhd","balance","stbl","stco","chunkOffsets","entryCount","stsc","sampleToChunks","firstChunk","samplesPerChunk","sampleDescriptionIndex","stsz","sampleSize","stts","timeToSamples","sampleCount","sampleDelta","styp","baseDataOffsetPresent","sampleDescriptionIndexPresent","defaultSampleDurationPresent","defaultSampleSizePresent","defaultSampleFlagsPresent","durationIsEmpty","defaultBaseIsMoof","baseDataOffset","defaultSampleDuration","defaultSampleSize","defaultSampleFlags","baseDataOffsetIsMoof","layer","alternateGroup","trex","defaultSampleDescriptionIndex","sampleDependsOn","sampleIsDependedOn","sampleHasRedundancy","samplePaddingValue","sampleIsDifferenceSample","sampleDegradationPriority","trun","sample","dataOffsetPresent","firstSampleFlagsPresent","sampleDurationPresent","sampleSizePresent","sampleFlagsPresent","sampleCompositionTimeOffsetPresent","dataOffset","getInt32","vmhd","graphicsmode","opcolor","Uint16Array","ab","ArrayBuffer","z","inspectedMp4","indent","byte","textify","subresults","parseTfdt","parseHdlr","parseTfhd","parseTrun","parseSidx","camel2hyphen","obj2mq","mq","isDimension","q","mapToSample","approximateOffset","parseCaptionNals","videoTrackId","mdats","captionNals","mdatTrafPairs","matchingTraf","pair","seiNals","headerInfo","truns","seiNal","lastMatchedSample","matchingSample","findSeiNals","currentDts","allSamples","parseSamples","captionStream","segmentCache","parsedCaptions","parsingPartial","isInitialized","isPartial","captions","captionStreams","isNewInit","parsedData","cachedSegment","parseEmbeddedCaptions","pushNals","nal","clearParsedCaptions","resetCaptionStream","clearAllCaptions","animating","autoplaying","currentDirection","currentLeft","dragging","edgeDragged","initialized","listHeight","listWidth","scrolling","swipeLeft","swiped","swiping","touchObject","startX","startY","curX","curY","trackWidth","directionSetting","alignSetting","findAlignSetting","_id","_pauseOnExit","_startTime","_endTime","_text","_region","_vertical","_snapToLines","_line","_lineAlign","_position","_positionAlign","_size","_align","findDirectionSetting","SyntaxError","getCueAsHTML","isNativeReflectConstruct","_construct","Parent","_initialState","_lodash","_track","_dots","_arrows","_resizeObserverPolyfill","_objectWithoutProperties","excluded","sourceKeys","_objectWithoutPropertiesLoose","sourceSymbolKeys","propertyIsEnumerable","getHeight","slidesToLoad","getOnDemandLazySlides","prevState","onLazyLoad","listRef","trackRef","updateState","adaptHeight","lazyLoadTimer","setInterval","progressiveLazyLoad","ro","onWindowResized","callbackTimers","querySelectorAll","onfocus","onSlideFocus","onblur","onSlideBlur","attachEvent","animationEndCallback","clearInterval","timer","detachEvent","autoplayTimer","prevProps","checkImagesLoad","setTrackStyle","didPropsChange","changeSlide","debouncedResize","resizeWindow","isTrackMounted","Boolean","updatedState","initializedState","slideIndex","getTrackLeft","getTrackCSS","_trackWidth","_trackLeft","childrenWidths","preClones","postClones","getPostClones","_i2","_trackStyle","trackLeft","images","imagesCount","loadedCount","onclick","prevClickHandler","focus","_index","asNavFor","_slideHandler","slideHandler","nextState","asNavForIndex","firstBatch","nodes","clickable","stopPropagation","dir","keyHandler","ontouchmove","returnValue","verticalSwiping","disableBodyScroll","swipeStart","swipeMove","swipeEnd","triggerSlideHandler","enableBodyScroll","nextIndex","playType","pauseType","trackProps","extractObject","onTrackOver","onTrackLeave","selectHandler","dotProps","onDotsLeave","onDotsOver","arrowProps","verticalHeightStyle","centerPaddingStyle","padding","listStyle","listProps","onMouseDown","onMouseMove","onMouseUp","onTouchStart","onTouchMove","onTouchEnd","touchEnd","onTouchCancel","onKeyDown","innerSliderProps","listRefHandler","trackRefHandler","ssrState","ssrInit","_i3","_Object$keys","MediaQuery","isUnconditional","handlers","mql","matchMedia","currentTarget","assess","addListener","constuctor","addHandler","qh","matches","removeHandler","removeListener","action","win","Util","queries","browserIsIncapable","shouldDegrade","slidesOnLeft","slidesOnRight","siblingDirection","getTotalSlides","getTrackAnimateCSS","checkSpecKeys","getSlideCount","checkNavigable","getNavigableIndexes","getSwipeDirection","getWidth","lazySlidesOnRight","lazySlidesOnLeft","getRequiredLazySlides","lowerBound","upperBound","onDemandSlides","requiredSlides","xDist","yDist","swipeAngle","atan2","PI","canGo","newObject","listNode","trackNode","centerPaddingAdj","finalSlide","animationLeft","finalLeft","animationSlide","indexOffset","previousInt","slideOffset","previousTargetSlide","touches","pageX","clientX","pageY","clientY","curLeft","swipeLength","sqrt","verticalSwipeLength","positionOffset","swipeDirection","touchSwipeLength","onSwipe","minSwipe","activeSlide","counter","indexes","navigables","prevNavigable","swipedSlide","every","offsetLeft","currentIndex","dataset","keysArray","trackHeight","trackChildren","WebkitTransition","WebkitTransform","transform","msTransform","marginTop","marginLeft","targetLeft","slidesToOffset","targetSlideIndex","trackElem"],"mappings":"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AQ,CAAC,KAAO,MAAQ,CAAC,KAAO,MAAQ,CAAC,KAAO,MAAQ,CAAC,KAAO,MAAQ,CAAC,KAAO,MAAQ,CAAC,KAAO,MAAQ,CAAC,KAAO,MAAQ,CAAC,KAAO,MAAQ,CAAC,KAAO,MAAQ,CAAC,KAAO,MAAQ,CAAC,KAAO,MAAQ,CAAC,KAAO,MAAQ,CAAC,KAAO,MAAQ,CAAC,KAAO,MAAQ,CAAC,KAAO,MAAQ,CAAC,KAAO,MAAQ,CAAC,KAAO,MAAQ,CAAC,KAAO,MAAQ,CAAC,KAAO,MAAQ,CAAC,KAAO,MAAQ,CAAC,KAAO,MAAQ,CAAC,KAAO,MAAQ,CAAC,KAAO,MAAQ,CAAC,KAAO,MAAQ,CAAC,KAAO,MAAQ,CAAC,KAAO,MAAQ,CAAC,KAAO,MAAQ,CAAC,KAAO,MAAQ,CAAC,KAAO,MAAQ,CAAC,KAAO,MAAQ,CAAC,KAAQ,MAAS,CAAC,MAAQ,OAAS,CAAC,MAAQ,OAAS,CAAC,MAAQ,OAAS,CAAC,MAAQ,OAAS,CAAC,MAAQ,OAAS,CAAC,MAAQ,OAAS,CAAC,MAAQ,OAAS,CAAC,MAAQ,OAAS,CAAC,MAAQ,OAAS,CAAC,MAAQ,OAAS,CAAC,MAAQ,OAAS,CAAC,MAAQ,OAAS,CAAC,MAAQ,OAAS,CAAC,MAAQ,OAAS,CAAC,MAAS,OAAU,CAAC,MAAS,OAAU,CAAC,MAAS,OAAU,CAAC,MAAS,OAAU,CAAC,MAAS,OAAU,CAAC,MAAS,OAAU,CAAC,MAAS,OAAU,CAAC,MAAS,OAAU,CAAC,MAAS,OAAU,CAAC,MAAS,OAAU,CAAC,MAAS,OAAU,CAAC,MAAS,OAAU,CAAC,MAAS,OAAU,CAAC,MAAS,OAAU,CAAC,MAAS,OAAU,CAAC,MAAS,OAAU,CAAC,MAAS,OAAU,CAAC,MAAS,OAAU,CAAC,MAAS,OAAU,CAAC,MAAS,OAAU,CAAC,MAAS,OAAU,CAAC,MAAS,OAAU,CAAC,MAAS,OAAU,CAAC,MAAS,OAAU,CAAC,OAAS,QAAU,CAAC,OAAS,QAAU,CAAC,OAAS,QAAU,CAAC,OAAS,QAAU,CAAC,OAAS,QAAU,CAAC,OAAS,QAAU,CAAC,OAAS,QAAU,CAAC,OAAS,QAAU,CAAC,OAAS,QAAU,CAAC,OAAS,QAAU,CAAC,OAAS,QA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","file":"component---src-pages-index-js-d9cf24d7f27fd4756c1a.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/adventure-27424c6357ee4f4e51ab8830fd532506.svg\";","/**\n * mux.js\n *\n * Copyright (c) Brightcove\n * Licensed Apache-2.0 https://github.com/videojs/mux.js/blob/master/LICENSE\n *\n * Utilities to detect basic properties and metadata about Aac data.\n */\n'use strict';\n\nvar ADTS_SAMPLING_FREQUENCIES = [96000, 88200, 64000, 48000, 44100, 32000, 24000, 22050, 16000, 12000, 11025, 8000, 7350];\n\nvar isLikelyAacData = function isLikelyAacData(data) {\n  if (data[0] === 'I'.charCodeAt(0) && data[1] === 'D'.charCodeAt(0) && data[2] === '3'.charCodeAt(0)) {\n    return true;\n  }\n\n  return false;\n};\n\nvar parseSyncSafeInteger = function parseSyncSafeInteger(data) {\n  return data[0] << 21 | data[1] << 14 | data[2] << 7 | data[3];\n}; // return a percent-encoded representation of the specified byte range\n// @see http://en.wikipedia.org/wiki/Percent-encoding\n\n\nvar percentEncode = function percentEncode(bytes, start, end) {\n  var i,\n      result = '';\n\n  for (i = start; i < end; i++) {\n    result += '%' + ('00' + bytes[i].toString(16)).slice(-2);\n  }\n\n  return result;\n}; // return the string representation of the specified byte range,\n// interpreted as ISO-8859-1.\n\n\nvar parseIso88591 = function parseIso88591(bytes, start, end) {\n  return unescape(percentEncode(bytes, start, end)); // jshint ignore:line\n};\n\nvar parseId3TagSize = function parseId3TagSize(header, byteIndex) {\n  var returnSize = header[byteIndex + 6] << 21 | header[byteIndex + 7] << 14 | header[byteIndex + 8] << 7 | header[byteIndex + 9],\n      flags = header[byteIndex + 5],\n      footerPresent = (flags & 16) >> 4;\n\n  if (footerPresent) {\n    return returnSize + 20;\n  }\n\n  return returnSize + 10;\n};\n\nvar parseAdtsSize = function parseAdtsSize(header, byteIndex) {\n  var lowThree = (header[byteIndex + 5] & 0xE0) >> 5,\n      middle = header[byteIndex + 4] << 3,\n      highTwo = header[byteIndex + 3] & 0x3 << 11;\n  return highTwo | middle | lowThree;\n};\n\nvar parseType = function parseType(header, byteIndex) {\n  if (header[byteIndex] === 'I'.charCodeAt(0) && header[byteIndex + 1] === 'D'.charCodeAt(0) && header[byteIndex + 2] === '3'.charCodeAt(0)) {\n    return 'timed-metadata';\n  } else if (header[byteIndex] & 0xff === 0xff && (header[byteIndex + 1] & 0xf0) === 0xf0) {\n    return 'audio';\n  }\n\n  return null;\n};\n\nvar parseSampleRate = function parseSampleRate(packet) {\n  var i = 0;\n\n  while (i + 5 < packet.length) {\n    if (packet[i] !== 0xFF || (packet[i + 1] & 0xF6) !== 0xF0) {\n      // If a valid header was not found,  jump one forward and attempt to\n      // find a valid ADTS header starting at the next byte\n      i++;\n      continue;\n    }\n\n    return ADTS_SAMPLING_FREQUENCIES[(packet[i + 2] & 0x3c) >>> 2];\n  }\n\n  return null;\n};\n\nvar parseAacTimestamp = function parseAacTimestamp(packet) {\n  var frameStart, frameSize, frame, frameHeader; // find the start of the first frame and the end of the tag\n\n  frameStart = 10;\n\n  if (packet[5] & 0x40) {\n    // advance the frame start past the extended header\n    frameStart += 4; // header size field\n\n    frameStart += parseSyncSafeInteger(packet.subarray(10, 14));\n  } // parse one or more ID3 frames\n  // http://id3.org/id3v2.3.0#ID3v2_frame_overview\n\n\n  do {\n    // determine the number of bytes in this frame\n    frameSize = parseSyncSafeInteger(packet.subarray(frameStart + 4, frameStart + 8));\n\n    if (frameSize < 1) {\n      return null;\n    }\n\n    frameHeader = String.fromCharCode(packet[frameStart], packet[frameStart + 1], packet[frameStart + 2], packet[frameStart + 3]);\n\n    if (frameHeader === 'PRIV') {\n      frame = packet.subarray(frameStart + 10, frameStart + frameSize + 10);\n\n      for (var i = 0; i < frame.byteLength; i++) {\n        if (frame[i] === 0) {\n          var owner = parseIso88591(frame, 0, i);\n\n          if (owner === 'com.apple.streaming.transportStreamTimestamp') {\n            var d = frame.subarray(i + 1);\n            var size = (d[3] & 0x01) << 30 | d[4] << 22 | d[5] << 14 | d[6] << 6 | d[7] >>> 2;\n            size *= 4;\n            size += d[7] & 0x03;\n            return size;\n          }\n\n          break;\n        }\n      }\n    }\n\n    frameStart += 10; // advance past the frame header\n\n    frameStart += frameSize; // advance past the frame body\n  } while (frameStart < packet.byteLength);\n\n  return null;\n};\n\nmodule.exports = {\n  isLikelyAacData: isLikelyAacData,\n  parseId3TagSize: parseId3TagSize,\n  parseAdtsSize: parseAdtsSize,\n  parseType: parseType,\n  parseSampleRate: parseSampleRate,\n  parseAacTimestamp: parseAacTimestamp\n};","/**\n * Copyright 2013 vtt.js Contributors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar scrollSetting = {\n  \"\": true,\n  \"up\": true\n};\n\nfunction findScrollSetting(value) {\n  if (typeof value !== \"string\") {\n    return false;\n  }\n\n  var scroll = scrollSetting[value.toLowerCase()];\n  return scroll ? value.toLowerCase() : false;\n}\n\nfunction isValidPercentValue(value) {\n  return typeof value === \"number\" && value >= 0 && value <= 100;\n} // VTTRegion shim http://dev.w3.org/html5/webvtt/#vttregion-interface\n\n\nfunction VTTRegion() {\n  var _width = 100;\n  var _lines = 3;\n  var _regionAnchorX = 0;\n  var _regionAnchorY = 100;\n  var _viewportAnchorX = 0;\n  var _viewportAnchorY = 100;\n  var _scroll = \"\";\n  Object.defineProperties(this, {\n    \"width\": {\n      enumerable: true,\n      get: function get() {\n        return _width;\n      },\n      set: function set(value) {\n        if (!isValidPercentValue(value)) {\n          throw new Error(\"Width must be between 0 and 100.\");\n        }\n\n        _width = value;\n      }\n    },\n    \"lines\": {\n      enumerable: true,\n      get: function get() {\n        return _lines;\n      },\n      set: function set(value) {\n        if (typeof value !== \"number\") {\n          throw new TypeError(\"Lines must be set to a number.\");\n        }\n\n        _lines = value;\n      }\n    },\n    \"regionAnchorY\": {\n      enumerable: true,\n      get: function get() {\n        return _regionAnchorY;\n      },\n      set: function set(value) {\n        if (!isValidPercentValue(value)) {\n          throw new Error(\"RegionAnchorX must be between 0 and 100.\");\n        }\n\n        _regionAnchorY = value;\n      }\n    },\n    \"regionAnchorX\": {\n      enumerable: true,\n      get: function get() {\n        return _regionAnchorX;\n      },\n      set: function set(value) {\n        if (!isValidPercentValue(value)) {\n          throw new Error(\"RegionAnchorY must be between 0 and 100.\");\n        }\n\n        _regionAnchorX = value;\n      }\n    },\n    \"viewportAnchorY\": {\n      enumerable: true,\n      get: function get() {\n        return _viewportAnchorY;\n      },\n      set: function set(value) {\n        if (!isValidPercentValue(value)) {\n          throw new Error(\"ViewportAnchorY must be between 0 and 100.\");\n        }\n\n        _viewportAnchorY = value;\n      }\n    },\n    \"viewportAnchorX\": {\n      enumerable: true,\n      get: function get() {\n        return _viewportAnchorX;\n      },\n      set: function set(value) {\n        if (!isValidPercentValue(value)) {\n          throw new Error(\"ViewportAnchorX must be between 0 and 100.\");\n        }\n\n        _viewportAnchorX = value;\n      }\n    },\n    \"scroll\": {\n      enumerable: true,\n      get: function get() {\n        return _scroll;\n      },\n      set: function set(value) {\n        var setting = findScrollSetting(value); // Have to check for false as an empty string is a legal value.\n\n        if (setting === false) {\n          console.warn(\"Scroll: an invalid or illegal string was specified.\");\n        } else {\n          _scroll = setting;\n        }\n      }\n    }\n  });\n}\n\nmodule.exports = VTTRegion;","/**\n * Copyright 2013 vtt.js Contributors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/* -*- Mode: Java; tab-width: 2; indent-tabs-mode: nil; c-basic-offset: 2 -*- */\n\n/* vim: set shiftwidth=2 tabstop=2 autoindent cindent expandtab: */\nvar document = require('global/document');\n\nvar _objCreate = Object.create || function () {\n  function F() {}\n\n  return function (o) {\n    if (arguments.length !== 1) {\n      throw new Error('Object.create shim only accepts one parameter.');\n    }\n\n    F.prototype = o;\n    return new F();\n  };\n}(); // Creates a new ParserError object from an errorData object. The errorData\n// object should have default code and message properties. The default message\n// property can be overriden by passing in a message parameter.\n// See ParsingError.Errors below for acceptable errors.\n\n\nfunction ParsingError(errorData, message) {\n  this.name = \"ParsingError\";\n  this.code = errorData.code;\n  this.message = message || errorData.message;\n}\n\nParsingError.prototype = _objCreate(Error.prototype);\nParsingError.prototype.constructor = ParsingError; // ParsingError metadata for acceptable ParsingErrors.\n\nParsingError.Errors = {\n  BadSignature: {\n    code: 0,\n    message: \"Malformed WebVTT signature.\"\n  },\n  BadTimeStamp: {\n    code: 1,\n    message: \"Malformed time stamp.\"\n  }\n}; // Try to parse input as a time stamp.\n\nfunction parseTimeStamp(input) {\n  function computeSeconds(h, m, s, f) {\n    return (h | 0) * 3600 + (m | 0) * 60 + (s | 0) + (f | 0) / 1000;\n  }\n\n  var m = input.match(/^(\\d+):(\\d{1,2})(:\\d{1,2})?\\.(\\d{3})/);\n\n  if (!m) {\n    return null;\n  }\n\n  if (m[3]) {\n    // Timestamp takes the form of [hours]:[minutes]:[seconds].[milliseconds]\n    return computeSeconds(m[1], m[2], m[3].replace(\":\", \"\"), m[4]);\n  } else if (m[1] > 59) {\n    // Timestamp takes the form of [hours]:[minutes].[milliseconds]\n    // First position is hours as it's over 59.\n    return computeSeconds(m[1], m[2], 0, m[4]);\n  } else {\n    // Timestamp takes the form of [minutes]:[seconds].[milliseconds]\n    return computeSeconds(0, m[1], m[2], m[4]);\n  }\n} // A settings object holds key/value pairs and will ignore anything but the first\n// assignment to a specific key.\n\n\nfunction Settings() {\n  this.values = _objCreate(null);\n}\n\nSettings.prototype = {\n  // Only accept the first assignment to any key.\n  set: function set(k, v) {\n    if (!this.get(k) && v !== \"\") {\n      this.values[k] = v;\n    }\n  },\n  // Return the value for a key, or a default value.\n  // If 'defaultKey' is passed then 'dflt' is assumed to be an object with\n  // a number of possible default values as properties where 'defaultKey' is\n  // the key of the property that will be chosen; otherwise it's assumed to be\n  // a single value.\n  get: function get(k, dflt, defaultKey) {\n    if (defaultKey) {\n      return this.has(k) ? this.values[k] : dflt[defaultKey];\n    }\n\n    return this.has(k) ? this.values[k] : dflt;\n  },\n  // Check whether we have a value for a key.\n  has: function has(k) {\n    return k in this.values;\n  },\n  // Accept a setting if its one of the given alternatives.\n  alt: function alt(k, v, a) {\n    for (var n = 0; n < a.length; ++n) {\n      if (v === a[n]) {\n        this.set(k, v);\n        break;\n      }\n    }\n  },\n  // Accept a setting if its a valid (signed) integer.\n  integer: function integer(k, v) {\n    if (/^-?\\d+$/.test(v)) {\n      // integer\n      this.set(k, parseInt(v, 10));\n    }\n  },\n  // Accept a setting if its a valid percentage.\n  percent: function percent(k, v) {\n    var m;\n\n    if (m = v.match(/^([\\d]{1,3})(\\.[\\d]*)?%$/)) {\n      v = parseFloat(v);\n\n      if (v >= 0 && v <= 100) {\n        this.set(k, v);\n        return true;\n      }\n    }\n\n    return false;\n  }\n}; // Helper function to parse input into groups separated by 'groupDelim', and\n// interprete each group as a key/value pair separated by 'keyValueDelim'.\n\nfunction parseOptions(input, callback, keyValueDelim, groupDelim) {\n  var groups = groupDelim ? input.split(groupDelim) : [input];\n\n  for (var i in groups) {\n    if (typeof groups[i] !== \"string\") {\n      continue;\n    }\n\n    var kv = groups[i].split(keyValueDelim);\n\n    if (kv.length !== 2) {\n      continue;\n    }\n\n    var k = kv[0];\n    var v = kv[1];\n    callback(k, v);\n  }\n}\n\nfunction parseCue(input, cue, regionList) {\n  // Remember the original input if we need to throw an error.\n  var oInput = input; // 4.1 WebVTT timestamp\n\n  function consumeTimeStamp() {\n    var ts = parseTimeStamp(input);\n\n    if (ts === null) {\n      throw new ParsingError(ParsingError.Errors.BadTimeStamp, \"Malformed timestamp: \" + oInput);\n    } // Remove time stamp from input.\n\n\n    input = input.replace(/^[^\\sa-zA-Z-]+/, \"\");\n    return ts;\n  } // 4.4.2 WebVTT cue settings\n\n\n  function consumeCueSettings(input, cue) {\n    var settings = new Settings();\n    parseOptions(input, function (k, v) {\n      switch (k) {\n        case \"region\":\n          // Find the last region we parsed with the same region id.\n          for (var i = regionList.length - 1; i >= 0; i--) {\n            if (regionList[i].id === v) {\n              settings.set(k, regionList[i].region);\n              break;\n            }\n          }\n\n          break;\n\n        case \"vertical\":\n          settings.alt(k, v, [\"rl\", \"lr\"]);\n          break;\n\n        case \"line\":\n          var vals = v.split(\",\"),\n              vals0 = vals[0];\n          settings.integer(k, vals0);\n          settings.percent(k, vals0) ? settings.set(\"snapToLines\", false) : null;\n          settings.alt(k, vals0, [\"auto\"]);\n\n          if (vals.length === 2) {\n            settings.alt(\"lineAlign\", vals[1], [\"start\", \"center\", \"end\"]);\n          }\n\n          break;\n\n        case \"position\":\n          vals = v.split(\",\");\n          settings.percent(k, vals[0]);\n\n          if (vals.length === 2) {\n            settings.alt(\"positionAlign\", vals[1], [\"start\", \"center\", \"end\"]);\n          }\n\n          break;\n\n        case \"size\":\n          settings.percent(k, v);\n          break;\n\n        case \"align\":\n          settings.alt(k, v, [\"start\", \"center\", \"end\", \"left\", \"right\"]);\n          break;\n      }\n    }, /:/, /\\s/); // Apply default values for any missing fields.\n\n    cue.region = settings.get(\"region\", null);\n    cue.vertical = settings.get(\"vertical\", \"\");\n\n    try {\n      cue.line = settings.get(\"line\", \"auto\");\n    } catch (e) {}\n\n    cue.lineAlign = settings.get(\"lineAlign\", \"start\");\n    cue.snapToLines = settings.get(\"snapToLines\", true);\n    cue.size = settings.get(\"size\", 100); // Safari still uses the old middle value and won't accept center\n\n    try {\n      cue.align = settings.get(\"align\", \"center\");\n    } catch (e) {\n      cue.align = settings.get(\"align\", \"middle\");\n    }\n\n    try {\n      cue.position = settings.get(\"position\", \"auto\");\n    } catch (e) {\n      cue.position = settings.get(\"position\", {\n        start: 0,\n        left: 0,\n        center: 50,\n        middle: 50,\n        end: 100,\n        right: 100\n      }, cue.align);\n    }\n\n    cue.positionAlign = settings.get(\"positionAlign\", {\n      start: \"start\",\n      left: \"start\",\n      center: \"center\",\n      middle: \"center\",\n      end: \"end\",\n      right: \"end\"\n    }, cue.align);\n  }\n\n  function skipWhitespace() {\n    input = input.replace(/^\\s+/, \"\");\n  } // 4.1 WebVTT cue timings.\n\n\n  skipWhitespace();\n  cue.startTime = consumeTimeStamp(); // (1) collect cue start time\n\n  skipWhitespace();\n\n  if (input.substr(0, 3) !== \"-->\") {\n    // (3) next characters must match \"-->\"\n    throw new ParsingError(ParsingError.Errors.BadTimeStamp, \"Malformed time stamp (time stamps must be separated by '-->'): \" + oInput);\n  }\n\n  input = input.substr(3);\n  skipWhitespace();\n  cue.endTime = consumeTimeStamp(); // (5) collect cue end time\n  // 4.1 WebVTT cue settings list.\n\n  skipWhitespace();\n  consumeCueSettings(input, cue);\n}\n\nvar TEXTAREA_ELEMENT = document.createElement(\"textarea\");\nvar TAG_NAME = {\n  c: \"span\",\n  i: \"i\",\n  b: \"b\",\n  u: \"u\",\n  ruby: \"ruby\",\n  rt: \"rt\",\n  v: \"span\",\n  lang: \"span\"\n}; // 5.1 default text color\n// 5.2 default text background color is equivalent to text color with bg_ prefix\n\nvar DEFAULT_COLOR_CLASS = {\n  white: 'rgba(255,255,255,1)',\n  lime: 'rgba(0,255,0,1)',\n  cyan: 'rgba(0,255,255,1)',\n  red: 'rgba(255,0,0,1)',\n  yellow: 'rgba(255,255,0,1)',\n  magenta: 'rgba(255,0,255,1)',\n  blue: 'rgba(0,0,255,1)',\n  black: 'rgba(0,0,0,1)'\n};\nvar TAG_ANNOTATION = {\n  v: \"title\",\n  lang: \"lang\"\n};\nvar NEEDS_PARENT = {\n  rt: \"ruby\"\n}; // Parse content into a document fragment.\n\nfunction parseContent(window, input) {\n  function nextToken() {\n    // Check for end-of-string.\n    if (!input) {\n      return null;\n    } // Consume 'n' characters from the input.\n\n\n    function consume(result) {\n      input = input.substr(result.length);\n      return result;\n    }\n\n    var m = input.match(/^([^<]*)(<[^>]*>?)?/); // If there is some text before the next tag, return it, otherwise return\n    // the tag.\n\n    return consume(m[1] ? m[1] : m[2]);\n  }\n\n  function unescape(s) {\n    TEXTAREA_ELEMENT.innerHTML = s;\n    s = TEXTAREA_ELEMENT.textContent;\n    TEXTAREA_ELEMENT.textContent = \"\";\n    return s;\n  }\n\n  function shouldAdd(current, element) {\n    return !NEEDS_PARENT[element.localName] || NEEDS_PARENT[element.localName] === current.localName;\n  } // Create an element for this tag.\n\n\n  function createElement(type, annotation) {\n    var tagName = TAG_NAME[type];\n\n    if (!tagName) {\n      return null;\n    }\n\n    var element = window.document.createElement(tagName);\n    var name = TAG_ANNOTATION[type];\n\n    if (name && annotation) {\n      element[name] = annotation.trim();\n    }\n\n    return element;\n  }\n\n  var rootDiv = window.document.createElement(\"div\"),\n      current = rootDiv,\n      t,\n      tagStack = [];\n\n  while ((t = nextToken()) !== null) {\n    if (t[0] === '<') {\n      if (t[1] === \"/\") {\n        // If the closing tag matches, move back up to the parent node.\n        if (tagStack.length && tagStack[tagStack.length - 1] === t.substr(2).replace(\">\", \"\")) {\n          tagStack.pop();\n          current = current.parentNode;\n        } // Otherwise just ignore the end tag.\n\n\n        continue;\n      }\n\n      var ts = parseTimeStamp(t.substr(1, t.length - 2));\n      var node;\n\n      if (ts) {\n        // Timestamps are lead nodes as well.\n        node = window.document.createProcessingInstruction(\"timestamp\", ts);\n        current.appendChild(node);\n        continue;\n      }\n\n      var m = t.match(/^<([^.\\s/0-9>]+)(\\.[^\\s\\\\>]+)?([^>\\\\]+)?(\\\\?)>?$/); // If we can't parse the tag, skip to the next tag.\n\n      if (!m) {\n        continue;\n      } // Try to construct an element, and ignore the tag if we couldn't.\n\n\n      node = createElement(m[1], m[3]);\n\n      if (!node) {\n        continue;\n      } // Determine if the tag should be added based on the context of where it\n      // is placed in the cuetext.\n\n\n      if (!shouldAdd(current, node)) {\n        continue;\n      } // Set the class list (as a list of classes, separated by space).\n\n\n      if (m[2]) {\n        var classes = m[2].split('.');\n        classes.forEach(function (cl) {\n          var bgColor = /^bg_/.test(cl); // slice out `bg_` if it's a background color\n\n          var colorName = bgColor ? cl.slice(3) : cl;\n\n          if (DEFAULT_COLOR_CLASS.hasOwnProperty(colorName)) {\n            var propName = bgColor ? 'background-color' : 'color';\n            var propValue = DEFAULT_COLOR_CLASS[colorName];\n            node.style[propName] = propValue;\n          }\n        });\n        node.className = classes.join(' ');\n      } // Append the node to the current node, and enter the scope of the new\n      // node.\n\n\n      tagStack.push(m[1]);\n      current.appendChild(node);\n      current = node;\n      continue;\n    } // Text nodes are leaf nodes.\n\n\n    current.appendChild(window.document.createTextNode(unescape(t)));\n  }\n\n  return rootDiv;\n} // This is a list of all the Unicode characters that have a strong\n// right-to-left category. What this means is that these characters are\n// written right-to-left for sure. It was generated by pulling all the strong\n// right-to-left characters out of the Unicode data table. That table can\n// found at: http://www.unicode.org/Public/UNIDATA/UnicodeData.txt\n\n\nvar strongRTLRanges = [[0x5be, 0x5be], [0x5c0, 0x5c0], [0x5c3, 0x5c3], [0x5c6, 0x5c6], [0x5d0, 0x5ea], [0x5f0, 0x5f4], [0x608, 0x608], [0x60b, 0x60b], [0x60d, 0x60d], [0x61b, 0x61b], [0x61e, 0x64a], [0x66d, 0x66f], [0x671, 0x6d5], [0x6e5, 0x6e6], [0x6ee, 0x6ef], [0x6fa, 0x70d], [0x70f, 0x710], [0x712, 0x72f], [0x74d, 0x7a5], [0x7b1, 0x7b1], [0x7c0, 0x7ea], [0x7f4, 0x7f5], [0x7fa, 0x7fa], [0x800, 0x815], [0x81a, 0x81a], [0x824, 0x824], [0x828, 0x828], [0x830, 0x83e], [0x840, 0x858], [0x85e, 0x85e], [0x8a0, 0x8a0], [0x8a2, 0x8ac], [0x200f, 0x200f], [0xfb1d, 0xfb1d], [0xfb1f, 0xfb28], [0xfb2a, 0xfb36], [0xfb38, 0xfb3c], [0xfb3e, 0xfb3e], [0xfb40, 0xfb41], [0xfb43, 0xfb44], [0xfb46, 0xfbc1], [0xfbd3, 0xfd3d], [0xfd50, 0xfd8f], [0xfd92, 0xfdc7], [0xfdf0, 0xfdfc], [0xfe70, 0xfe74], [0xfe76, 0xfefc], [0x10800, 0x10805], [0x10808, 0x10808], [0x1080a, 0x10835], [0x10837, 0x10838], [0x1083c, 0x1083c], [0x1083f, 0x10855], [0x10857, 0x1085f], [0x10900, 0x1091b], [0x10920, 0x10939], [0x1093f, 0x1093f], [0x10980, 0x109b7], [0x109be, 0x109bf], [0x10a00, 0x10a00], [0x10a10, 0x10a13], [0x10a15, 0x10a17], [0x10a19, 0x10a33], [0x10a40, 0x10a47], [0x10a50, 0x10a58], [0x10a60, 0x10a7f], [0x10b00, 0x10b35], [0x10b40, 0x10b55], [0x10b58, 0x10b72], [0x10b78, 0x10b7f], [0x10c00, 0x10c48], [0x1ee00, 0x1ee03], [0x1ee05, 0x1ee1f], [0x1ee21, 0x1ee22], [0x1ee24, 0x1ee24], [0x1ee27, 0x1ee27], [0x1ee29, 0x1ee32], [0x1ee34, 0x1ee37], [0x1ee39, 0x1ee39], [0x1ee3b, 0x1ee3b], [0x1ee42, 0x1ee42], [0x1ee47, 0x1ee47], [0x1ee49, 0x1ee49], [0x1ee4b, 0x1ee4b], [0x1ee4d, 0x1ee4f], [0x1ee51, 0x1ee52], [0x1ee54, 0x1ee54], [0x1ee57, 0x1ee57], [0x1ee59, 0x1ee59], [0x1ee5b, 0x1ee5b], [0x1ee5d, 0x1ee5d], [0x1ee5f, 0x1ee5f], [0x1ee61, 0x1ee62], [0x1ee64, 0x1ee64], [0x1ee67, 0x1ee6a], [0x1ee6c, 0x1ee72], [0x1ee74, 0x1ee77], [0x1ee79, 0x1ee7c], [0x1ee7e, 0x1ee7e], [0x1ee80, 0x1ee89], [0x1ee8b, 0x1ee9b], [0x1eea1, 0x1eea3], [0x1eea5, 0x1eea9], [0x1eeab, 0x1eebb], [0x10fffd, 0x10fffd]];\n\nfunction isStrongRTLChar(charCode) {\n  for (var i = 0; i < strongRTLRanges.length; i++) {\n    var currentRange = strongRTLRanges[i];\n\n    if (charCode >= currentRange[0] && charCode <= currentRange[1]) {\n      return true;\n    }\n  }\n\n  return false;\n}\n\nfunction determineBidi(cueDiv) {\n  var nodeStack = [],\n      text = \"\",\n      charCode;\n\n  if (!cueDiv || !cueDiv.childNodes) {\n    return \"ltr\";\n  }\n\n  function pushNodes(nodeStack, node) {\n    for (var i = node.childNodes.length - 1; i >= 0; i--) {\n      nodeStack.push(node.childNodes[i]);\n    }\n  }\n\n  function nextTextNode(nodeStack) {\n    if (!nodeStack || !nodeStack.length) {\n      return null;\n    }\n\n    var node = nodeStack.pop(),\n        text = node.textContent || node.innerText;\n\n    if (text) {\n      // TODO: This should match all unicode type B characters (paragraph\n      // separator characters). See issue #115.\n      var m = text.match(/^.*(\\n|\\r)/);\n\n      if (m) {\n        nodeStack.length = 0;\n        return m[0];\n      }\n\n      return text;\n    }\n\n    if (node.tagName === \"ruby\") {\n      return nextTextNode(nodeStack);\n    }\n\n    if (node.childNodes) {\n      pushNodes(nodeStack, node);\n      return nextTextNode(nodeStack);\n    }\n  }\n\n  pushNodes(nodeStack, cueDiv);\n\n  while (text = nextTextNode(nodeStack)) {\n    for (var i = 0; i < text.length; i++) {\n      charCode = text.charCodeAt(i);\n\n      if (isStrongRTLChar(charCode)) {\n        return \"rtl\";\n      }\n    }\n  }\n\n  return \"ltr\";\n}\n\nfunction computeLinePos(cue) {\n  if (typeof cue.line === \"number\" && (cue.snapToLines || cue.line >= 0 && cue.line <= 100)) {\n    return cue.line;\n  }\n\n  if (!cue.track || !cue.track.textTrackList || !cue.track.textTrackList.mediaElement) {\n    return -1;\n  }\n\n  var track = cue.track,\n      trackList = track.textTrackList,\n      count = 0;\n\n  for (var i = 0; i < trackList.length && trackList[i] !== track; i++) {\n    if (trackList[i].mode === \"showing\") {\n      count++;\n    }\n  }\n\n  return ++count * -1;\n}\n\nfunction StyleBox() {} // Apply styles to a div. If there is no div passed then it defaults to the\n// div on 'this'.\n\n\nStyleBox.prototype.applyStyles = function (styles, div) {\n  div = div || this.div;\n\n  for (var prop in styles) {\n    if (styles.hasOwnProperty(prop)) {\n      div.style[prop] = styles[prop];\n    }\n  }\n};\n\nStyleBox.prototype.formatStyle = function (val, unit) {\n  return val === 0 ? 0 : val + unit;\n}; // Constructs the computed display state of the cue (a div). Places the div\n// into the overlay which should be a block level element (usually a div).\n\n\nfunction CueStyleBox(window, cue, styleOptions) {\n  StyleBox.call(this);\n  this.cue = cue; // Parse our cue's text into a DOM tree rooted at 'cueDiv'. This div will\n  // have inline positioning and will function as the cue background box.\n\n  this.cueDiv = parseContent(window, cue.text);\n  var styles = {\n    color: \"rgba(255, 255, 255, 1)\",\n    backgroundColor: \"rgba(0, 0, 0, 0.8)\",\n    position: \"relative\",\n    left: 0,\n    right: 0,\n    top: 0,\n    bottom: 0,\n    display: \"inline\",\n    writingMode: cue.vertical === \"\" ? \"horizontal-tb\" : cue.vertical === \"lr\" ? \"vertical-lr\" : \"vertical-rl\",\n    unicodeBidi: \"plaintext\"\n  };\n  this.applyStyles(styles, this.cueDiv); // Create an absolutely positioned div that will be used to position the cue\n  // div. Note, all WebVTT cue-setting alignments are equivalent to the CSS\n  // mirrors of them except middle instead of center on Safari.\n\n  this.div = window.document.createElement(\"div\");\n  styles = {\n    direction: determineBidi(this.cueDiv),\n    writingMode: cue.vertical === \"\" ? \"horizontal-tb\" : cue.vertical === \"lr\" ? \"vertical-lr\" : \"vertical-rl\",\n    unicodeBidi: \"plaintext\",\n    textAlign: cue.align === \"middle\" ? \"center\" : cue.align,\n    font: styleOptions.font,\n    whiteSpace: \"pre-line\",\n    position: \"absolute\"\n  };\n  this.applyStyles(styles);\n  this.div.appendChild(this.cueDiv); // Calculate the distance from the reference edge of the viewport to the text\n  // position of the cue box. The reference edge will be resolved later when\n  // the box orientation styles are applied.\n\n  var textPos = 0;\n\n  switch (cue.positionAlign) {\n    case \"start\":\n      textPos = cue.position;\n      break;\n\n    case \"center\":\n      textPos = cue.position - cue.size / 2;\n      break;\n\n    case \"end\":\n      textPos = cue.position - cue.size;\n      break;\n  } // Horizontal box orientation; textPos is the distance from the left edge of the\n  // area to the left edge of the box and cue.size is the distance extending to\n  // the right from there.\n\n\n  if (cue.vertical === \"\") {\n    this.applyStyles({\n      left: this.formatStyle(textPos, \"%\"),\n      width: this.formatStyle(cue.size, \"%\")\n    }); // Vertical box orientation; textPos is the distance from the top edge of the\n    // area to the top edge of the box and cue.size is the height extending\n    // downwards from there.\n  } else {\n    this.applyStyles({\n      top: this.formatStyle(textPos, \"%\"),\n      height: this.formatStyle(cue.size, \"%\")\n    });\n  }\n\n  this.move = function (box) {\n    this.applyStyles({\n      top: this.formatStyle(box.top, \"px\"),\n      bottom: this.formatStyle(box.bottom, \"px\"),\n      left: this.formatStyle(box.left, \"px\"),\n      right: this.formatStyle(box.right, \"px\"),\n      height: this.formatStyle(box.height, \"px\"),\n      width: this.formatStyle(box.width, \"px\")\n    });\n  };\n}\n\nCueStyleBox.prototype = _objCreate(StyleBox.prototype);\nCueStyleBox.prototype.constructor = CueStyleBox; // Represents the co-ordinates of an Element in a way that we can easily\n// compute things with such as if it overlaps or intersects with another Element.\n// Can initialize it with either a StyleBox or another BoxPosition.\n\nfunction BoxPosition(obj) {\n  // Either a BoxPosition was passed in and we need to copy it, or a StyleBox\n  // was passed in and we need to copy the results of 'getBoundingClientRect'\n  // as the object returned is readonly. All co-ordinate values are in reference\n  // to the viewport origin (top left).\n  var lh, height, width, top;\n\n  if (obj.div) {\n    height = obj.div.offsetHeight;\n    width = obj.div.offsetWidth;\n    top = obj.div.offsetTop;\n    var rects = (rects = obj.div.childNodes) && (rects = rects[0]) && rects.getClientRects && rects.getClientRects();\n    obj = obj.div.getBoundingClientRect(); // In certain cases the outter div will be slightly larger then the sum of\n    // the inner div's lines. This could be due to bold text, etc, on some platforms.\n    // In this case we should get the average line height and use that. This will\n    // result in the desired behaviour.\n\n    lh = rects ? Math.max(rects[0] && rects[0].height || 0, obj.height / rects.length) : 0;\n  }\n\n  this.left = obj.left;\n  this.right = obj.right;\n  this.top = obj.top || top;\n  this.height = obj.height || height;\n  this.bottom = obj.bottom || top + (obj.height || height);\n  this.width = obj.width || width;\n  this.lineHeight = lh !== undefined ? lh : obj.lineHeight;\n} // Move the box along a particular axis. Optionally pass in an amount to move\n// the box. If no amount is passed then the default is the line height of the\n// box.\n\n\nBoxPosition.prototype.move = function (axis, toMove) {\n  toMove = toMove !== undefined ? toMove : this.lineHeight;\n\n  switch (axis) {\n    case \"+x\":\n      this.left += toMove;\n      this.right += toMove;\n      break;\n\n    case \"-x\":\n      this.left -= toMove;\n      this.right -= toMove;\n      break;\n\n    case \"+y\":\n      this.top += toMove;\n      this.bottom += toMove;\n      break;\n\n    case \"-y\":\n      this.top -= toMove;\n      this.bottom -= toMove;\n      break;\n  }\n}; // Check if this box overlaps another box, b2.\n\n\nBoxPosition.prototype.overlaps = function (b2) {\n  return this.left < b2.right && this.right > b2.left && this.top < b2.bottom && this.bottom > b2.top;\n}; // Check if this box overlaps any other boxes in boxes.\n\n\nBoxPosition.prototype.overlapsAny = function (boxes) {\n  for (var i = 0; i < boxes.length; i++) {\n    if (this.overlaps(boxes[i])) {\n      return true;\n    }\n  }\n\n  return false;\n}; // Check if this box is within another box.\n\n\nBoxPosition.prototype.within = function (container) {\n  return this.top >= container.top && this.bottom <= container.bottom && this.left >= container.left && this.right <= container.right;\n}; // Check if this box is entirely within the container or it is overlapping\n// on the edge opposite of the axis direction passed. For example, if \"+x\" is\n// passed and the box is overlapping on the left edge of the container, then\n// return true.\n\n\nBoxPosition.prototype.overlapsOppositeAxis = function (container, axis) {\n  switch (axis) {\n    case \"+x\":\n      return this.left < container.left;\n\n    case \"-x\":\n      return this.right > container.right;\n\n    case \"+y\":\n      return this.top < container.top;\n\n    case \"-y\":\n      return this.bottom > container.bottom;\n  }\n}; // Find the percentage of the area that this box is overlapping with another\n// box.\n\n\nBoxPosition.prototype.intersectPercentage = function (b2) {\n  var x = Math.max(0, Math.min(this.right, b2.right) - Math.max(this.left, b2.left)),\n      y = Math.max(0, Math.min(this.bottom, b2.bottom) - Math.max(this.top, b2.top)),\n      intersectArea = x * y;\n  return intersectArea / (this.height * this.width);\n}; // Convert the positions from this box to CSS compatible positions using\n// the reference container's positions. This has to be done because this\n// box's positions are in reference to the viewport origin, whereas, CSS\n// values are in referecne to their respective edges.\n\n\nBoxPosition.prototype.toCSSCompatValues = function (reference) {\n  return {\n    top: this.top - reference.top,\n    bottom: reference.bottom - this.bottom,\n    left: this.left - reference.left,\n    right: reference.right - this.right,\n    height: this.height,\n    width: this.width\n  };\n}; // Get an object that represents the box's position without anything extra.\n// Can pass a StyleBox, HTMLElement, or another BoxPositon.\n\n\nBoxPosition.getSimpleBoxPosition = function (obj) {\n  var height = obj.div ? obj.div.offsetHeight : obj.tagName ? obj.offsetHeight : 0;\n  var width = obj.div ? obj.div.offsetWidth : obj.tagName ? obj.offsetWidth : 0;\n  var top = obj.div ? obj.div.offsetTop : obj.tagName ? obj.offsetTop : 0;\n  obj = obj.div ? obj.div.getBoundingClientRect() : obj.tagName ? obj.getBoundingClientRect() : obj;\n  var ret = {\n    left: obj.left,\n    right: obj.right,\n    top: obj.top || top,\n    height: obj.height || height,\n    bottom: obj.bottom || top + (obj.height || height),\n    width: obj.width || width\n  };\n  return ret;\n}; // Move a StyleBox to its specified, or next best, position. The containerBox\n// is the box that contains the StyleBox, such as a div. boxPositions are\n// a list of other boxes that the styleBox can't overlap with.\n\n\nfunction moveBoxToLinePosition(window, styleBox, containerBox, boxPositions) {\n  // Find the best position for a cue box, b, on the video. The axis parameter\n  // is a list of axis, the order of which, it will move the box along. For example:\n  // Passing [\"+x\", \"-x\"] will move the box first along the x axis in the positive\n  // direction. If it doesn't find a good position for it there it will then move\n  // it along the x axis in the negative direction.\n  function findBestPosition(b, axis) {\n    var bestPosition,\n        specifiedPosition = new BoxPosition(b),\n        percentage = 1; // Highest possible so the first thing we get is better.\n\n    for (var i = 0; i < axis.length; i++) {\n      while (b.overlapsOppositeAxis(containerBox, axis[i]) || b.within(containerBox) && b.overlapsAny(boxPositions)) {\n        b.move(axis[i]);\n      } // We found a spot where we aren't overlapping anything. This is our\n      // best position.\n\n\n      if (b.within(containerBox)) {\n        return b;\n      }\n\n      var p = b.intersectPercentage(containerBox); // If we're outside the container box less then we were on our last try\n      // then remember this position as the best position.\n\n      if (percentage > p) {\n        bestPosition = new BoxPosition(b);\n        percentage = p;\n      } // Reset the box position to the specified position.\n\n\n      b = new BoxPosition(specifiedPosition);\n    }\n\n    return bestPosition || specifiedPosition;\n  }\n\n  var boxPosition = new BoxPosition(styleBox),\n      cue = styleBox.cue,\n      linePos = computeLinePos(cue),\n      axis = []; // If we have a line number to align the cue to.\n\n  if (cue.snapToLines) {\n    var size;\n\n    switch (cue.vertical) {\n      case \"\":\n        axis = [\"+y\", \"-y\"];\n        size = \"height\";\n        break;\n\n      case \"rl\":\n        axis = [\"+x\", \"-x\"];\n        size = \"width\";\n        break;\n\n      case \"lr\":\n        axis = [\"-x\", \"+x\"];\n        size = \"width\";\n        break;\n    }\n\n    var step = boxPosition.lineHeight,\n        position = step * Math.round(linePos),\n        maxPosition = containerBox[size] + step,\n        initialAxis = axis[0]; // If the specified intial position is greater then the max position then\n    // clamp the box to the amount of steps it would take for the box to\n    // reach the max position.\n\n    if (Math.abs(position) > maxPosition) {\n      position = position < 0 ? -1 : 1;\n      position *= Math.ceil(maxPosition / step) * step;\n    } // If computed line position returns negative then line numbers are\n    // relative to the bottom of the video instead of the top. Therefore, we\n    // need to increase our initial position by the length or width of the\n    // video, depending on the writing direction, and reverse our axis directions.\n\n\n    if (linePos < 0) {\n      position += cue.vertical === \"\" ? containerBox.height : containerBox.width;\n      axis = axis.reverse();\n    } // Move the box to the specified position. This may not be its best\n    // position.\n\n\n    boxPosition.move(initialAxis, position);\n  } else {\n    // If we have a percentage line value for the cue.\n    var calculatedPercentage = boxPosition.lineHeight / containerBox.height * 100;\n\n    switch (cue.lineAlign) {\n      case \"center\":\n        linePos -= calculatedPercentage / 2;\n        break;\n\n      case \"end\":\n        linePos -= calculatedPercentage;\n        break;\n    } // Apply initial line position to the cue box.\n\n\n    switch (cue.vertical) {\n      case \"\":\n        styleBox.applyStyles({\n          top: styleBox.formatStyle(linePos, \"%\")\n        });\n        break;\n\n      case \"rl\":\n        styleBox.applyStyles({\n          left: styleBox.formatStyle(linePos, \"%\")\n        });\n        break;\n\n      case \"lr\":\n        styleBox.applyStyles({\n          right: styleBox.formatStyle(linePos, \"%\")\n        });\n        break;\n    }\n\n    axis = [\"+y\", \"-x\", \"+x\", \"-y\"]; // Get the box position again after we've applied the specified positioning\n    // to it.\n\n    boxPosition = new BoxPosition(styleBox);\n  }\n\n  var bestPosition = findBestPosition(boxPosition, axis);\n  styleBox.move(bestPosition.toCSSCompatValues(containerBox));\n}\n\nfunction WebVTT() {// Nothing\n} // Helper to allow strings to be decoded instead of the default binary utf8 data.\n\n\nWebVTT.StringDecoder = function () {\n  return {\n    decode: function decode(data) {\n      if (!data) {\n        return \"\";\n      }\n\n      if (typeof data !== \"string\") {\n        throw new Error(\"Error - expected string data.\");\n      }\n\n      return decodeURIComponent(encodeURIComponent(data));\n    }\n  };\n};\n\nWebVTT.convertCueToDOMTree = function (window, cuetext) {\n  if (!window || !cuetext) {\n    return null;\n  }\n\n  return parseContent(window, cuetext);\n};\n\nvar FONT_SIZE_PERCENT = 0.05;\nvar FONT_STYLE = \"sans-serif\";\nvar CUE_BACKGROUND_PADDING = \"1.5%\"; // Runs the processing model over the cues and regions passed to it.\n// @param overlay A block level element (usually a div) that the computed cues\n//                and regions will be placed into.\n\nWebVTT.processCues = function (window, cues, overlay) {\n  if (!window || !cues || !overlay) {\n    return null;\n  } // Remove all previous children.\n\n\n  while (overlay.firstChild) {\n    overlay.removeChild(overlay.firstChild);\n  }\n\n  var paddedOverlay = window.document.createElement(\"div\");\n  paddedOverlay.style.position = \"absolute\";\n  paddedOverlay.style.left = \"0\";\n  paddedOverlay.style.right = \"0\";\n  paddedOverlay.style.top = \"0\";\n  paddedOverlay.style.bottom = \"0\";\n  paddedOverlay.style.margin = CUE_BACKGROUND_PADDING;\n  overlay.appendChild(paddedOverlay); // Determine if we need to compute the display states of the cues. This could\n  // be the case if a cue's state has been changed since the last computation or\n  // if it has not been computed yet.\n\n  function shouldCompute(cues) {\n    for (var i = 0; i < cues.length; i++) {\n      if (cues[i].hasBeenReset || !cues[i].displayState) {\n        return true;\n      }\n    }\n\n    return false;\n  } // We don't need to recompute the cues' display states. Just reuse them.\n\n\n  if (!shouldCompute(cues)) {\n    for (var i = 0; i < cues.length; i++) {\n      paddedOverlay.appendChild(cues[i].displayState);\n    }\n\n    return;\n  }\n\n  var boxPositions = [],\n      containerBox = BoxPosition.getSimpleBoxPosition(paddedOverlay),\n      fontSize = Math.round(containerBox.height * FONT_SIZE_PERCENT * 100) / 100;\n  var styleOptions = {\n    font: fontSize + \"px \" + FONT_STYLE\n  };\n\n  (function () {\n    var styleBox, cue;\n\n    for (var i = 0; i < cues.length; i++) {\n      cue = cues[i]; // Compute the intial position and styles of the cue div.\n\n      styleBox = new CueStyleBox(window, cue, styleOptions);\n      paddedOverlay.appendChild(styleBox.div); // Move the cue div to it's correct line position.\n\n      moveBoxToLinePosition(window, styleBox, containerBox, boxPositions); // Remember the computed div so that we don't have to recompute it later\n      // if we don't have too.\n\n      cue.displayState = styleBox.div;\n      boxPositions.push(BoxPosition.getSimpleBoxPosition(styleBox));\n    }\n  })();\n};\n\nWebVTT.Parser = function (window, vttjs, decoder) {\n  if (!decoder) {\n    decoder = vttjs;\n    vttjs = {};\n  }\n\n  if (!vttjs) {\n    vttjs = {};\n  }\n\n  this.window = window;\n  this.vttjs = vttjs;\n  this.state = \"INITIAL\";\n  this.buffer = \"\";\n  this.decoder = decoder || new TextDecoder(\"utf8\");\n  this.regionList = [];\n};\n\nWebVTT.Parser.prototype = {\n  // If the error is a ParsingError then report it to the consumer if\n  // possible. If it's not a ParsingError then throw it like normal.\n  reportOrThrowError: function reportOrThrowError(e) {\n    if (e instanceof ParsingError) {\n      this.onparsingerror && this.onparsingerror(e);\n    } else {\n      throw e;\n    }\n  },\n  parse: function parse(data) {\n    var self = this; // If there is no data then we won't decode it, but will just try to parse\n    // whatever is in buffer already. This may occur in circumstances, for\n    // example when flush() is called.\n\n    if (data) {\n      // Try to decode the data that we received.\n      self.buffer += self.decoder.decode(data, {\n        stream: true\n      });\n    }\n\n    function collectNextLine() {\n      var buffer = self.buffer;\n      var pos = 0;\n\n      while (pos < buffer.length && buffer[pos] !== '\\r' && buffer[pos] !== '\\n') {\n        ++pos;\n      }\n\n      var line = buffer.substr(0, pos); // Advance the buffer early in case we fail below.\n\n      if (buffer[pos] === '\\r') {\n        ++pos;\n      }\n\n      if (buffer[pos] === '\\n') {\n        ++pos;\n      }\n\n      self.buffer = buffer.substr(pos);\n      return line;\n    } // 3.4 WebVTT region and WebVTT region settings syntax\n\n\n    function parseRegion(input) {\n      var settings = new Settings();\n      parseOptions(input, function (k, v) {\n        switch (k) {\n          case \"id\":\n            settings.set(k, v);\n            break;\n\n          case \"width\":\n            settings.percent(k, v);\n            break;\n\n          case \"lines\":\n            settings.integer(k, v);\n            break;\n\n          case \"regionanchor\":\n          case \"viewportanchor\":\n            var xy = v.split(',');\n\n            if (xy.length !== 2) {\n              break;\n            } // We have to make sure both x and y parse, so use a temporary\n            // settings object here.\n\n\n            var anchor = new Settings();\n            anchor.percent(\"x\", xy[0]);\n            anchor.percent(\"y\", xy[1]);\n\n            if (!anchor.has(\"x\") || !anchor.has(\"y\")) {\n              break;\n            }\n\n            settings.set(k + \"X\", anchor.get(\"x\"));\n            settings.set(k + \"Y\", anchor.get(\"y\"));\n            break;\n\n          case \"scroll\":\n            settings.alt(k, v, [\"up\"]);\n            break;\n        }\n      }, /=/, /\\s/); // Create the region, using default values for any values that were not\n      // specified.\n\n      if (settings.has(\"id\")) {\n        var region = new (self.vttjs.VTTRegion || self.window.VTTRegion)();\n        region.width = settings.get(\"width\", 100);\n        region.lines = settings.get(\"lines\", 3);\n        region.regionAnchorX = settings.get(\"regionanchorX\", 0);\n        region.regionAnchorY = settings.get(\"regionanchorY\", 100);\n        region.viewportAnchorX = settings.get(\"viewportanchorX\", 0);\n        region.viewportAnchorY = settings.get(\"viewportanchorY\", 100);\n        region.scroll = settings.get(\"scroll\", \"\"); // Register the region.\n\n        self.onregion && self.onregion(region); // Remember the VTTRegion for later in case we parse any VTTCues that\n        // reference it.\n\n        self.regionList.push({\n          id: settings.get(\"id\"),\n          region: region\n        });\n      }\n    } // draft-pantos-http-live-streaming-20\n    // https://tools.ietf.org/html/draft-pantos-http-live-streaming-20#section-3.5\n    // 3.5 WebVTT\n\n\n    function parseTimestampMap(input) {\n      var settings = new Settings();\n      parseOptions(input, function (k, v) {\n        switch (k) {\n          case \"MPEGT\":\n            settings.integer(k + 'S', v);\n            break;\n\n          case \"LOCA\":\n            settings.set(k + 'L', parseTimeStamp(v));\n            break;\n        }\n      }, /[^\\d]:/, /,/);\n      self.ontimestampmap && self.ontimestampmap({\n        \"MPEGTS\": settings.get(\"MPEGTS\"),\n        \"LOCAL\": settings.get(\"LOCAL\")\n      });\n    } // 3.2 WebVTT metadata header syntax\n\n\n    function parseHeader(input) {\n      if (input.match(/X-TIMESTAMP-MAP/)) {\n        // This line contains HLS X-TIMESTAMP-MAP metadata\n        parseOptions(input, function (k, v) {\n          switch (k) {\n            case \"X-TIMESTAMP-MAP\":\n              parseTimestampMap(v);\n              break;\n          }\n        }, /=/);\n      } else {\n        parseOptions(input, function (k, v) {\n          switch (k) {\n            case \"Region\":\n              // 3.3 WebVTT region metadata header syntax\n              parseRegion(v);\n              break;\n          }\n        }, /:/);\n      }\n    } // 5.1 WebVTT file parsing.\n\n\n    try {\n      var line;\n\n      if (self.state === \"INITIAL\") {\n        // We can't start parsing until we have the first line.\n        if (!/\\r\\n|\\n/.test(self.buffer)) {\n          return this;\n        }\n\n        line = collectNextLine();\n        var m = line.match(/^WEBVTT([ \\t].*)?$/);\n\n        if (!m || !m[0]) {\n          throw new ParsingError(ParsingError.Errors.BadSignature);\n        }\n\n        self.state = \"HEADER\";\n      }\n\n      var alreadyCollectedLine = false;\n\n      while (self.buffer) {\n        // We can't parse a line until we have the full line.\n        if (!/\\r\\n|\\n/.test(self.buffer)) {\n          return this;\n        }\n\n        if (!alreadyCollectedLine) {\n          line = collectNextLine();\n        } else {\n          alreadyCollectedLine = false;\n        }\n\n        switch (self.state) {\n          case \"HEADER\":\n            // 13-18 - Allow a header (metadata) under the WEBVTT line.\n            if (/:/.test(line)) {\n              parseHeader(line);\n            } else if (!line) {\n              // An empty line terminates the header and starts the body (cues).\n              self.state = \"ID\";\n            }\n\n            continue;\n\n          case \"NOTE\":\n            // Ignore NOTE blocks.\n            if (!line) {\n              self.state = \"ID\";\n            }\n\n            continue;\n\n          case \"ID\":\n            // Check for the start of NOTE blocks.\n            if (/^NOTE($|[ \\t])/.test(line)) {\n              self.state = \"NOTE\";\n              break;\n            } // 19-29 - Allow any number of line terminators, then initialize new cue values.\n\n\n            if (!line) {\n              continue;\n            }\n\n            self.cue = new (self.vttjs.VTTCue || self.window.VTTCue)(0, 0, \"\"); // Safari still uses the old middle value and won't accept center\n\n            try {\n              self.cue.align = \"center\";\n            } catch (e) {\n              self.cue.align = \"middle\";\n            }\n\n            self.state = \"CUE\"; // 30-39 - Check if self line contains an optional identifier or timing data.\n\n            if (line.indexOf(\"-->\") === -1) {\n              self.cue.id = line;\n              continue;\n            }\n\n          // Process line as start of a cue.\n\n          /*falls through*/\n\n          case \"CUE\":\n            // 40 - Collect cue timings and settings.\n            try {\n              parseCue(line, self.cue, self.regionList);\n            } catch (e) {\n              self.reportOrThrowError(e); // In case of an error ignore rest of the cue.\n\n              self.cue = null;\n              self.state = \"BADCUE\";\n              continue;\n            }\n\n            self.state = \"CUETEXT\";\n            continue;\n\n          case \"CUETEXT\":\n            var hasSubstring = line.indexOf(\"-->\") !== -1; // 34 - If we have an empty line then report the cue.\n            // 35 - If we have the special substring '-->' then report the cue,\n            // but do not collect the line as we need to process the current\n            // one as a new cue.\n\n            if (!line || hasSubstring && (alreadyCollectedLine = true)) {\n              // We are done parsing self cue.\n              self.oncue && self.oncue(self.cue);\n              self.cue = null;\n              self.state = \"ID\";\n              continue;\n            }\n\n            if (self.cue.text) {\n              self.cue.text += \"\\n\";\n            }\n\n            self.cue.text += line.replace(/\\u2028/g, '\\n').replace(/u2029/g, '\\n');\n            continue;\n\n          case \"BADCUE\":\n            // BADCUE\n            // 54-62 - Collect and discard the remaining cue.\n            if (!line) {\n              self.state = \"ID\";\n            }\n\n            continue;\n        }\n      }\n    } catch (e) {\n      self.reportOrThrowError(e); // If we are currently parsing a cue, report what we have.\n\n      if (self.state === \"CUETEXT\" && self.cue && self.oncue) {\n        self.oncue(self.cue);\n      }\n\n      self.cue = null; // Enter BADWEBVTT state if header was not parsed correctly otherwise\n      // another exception occurred so enter BADCUE state.\n\n      self.state = self.state === \"INITIAL\" ? \"BADWEBVTT\" : \"BADCUE\";\n    }\n\n    return this;\n  },\n  flush: function flush() {\n    var self = this;\n\n    try {\n      // Finish decoding the stream.\n      self.buffer += self.decoder.decode(); // Synthesize the end of the current cue or region.\n\n      if (self.cue || self.state === \"HEADER\") {\n        self.buffer += \"\\n\\n\";\n        self.parse();\n      } // If we've flushed, parsed, and we're still on the INITIAL state then\n      // that means we don't have enough of the stream to parse the first\n      // line.\n\n\n      if (self.state === \"INITIAL\") {\n        throw new ParsingError(ParsingError.Errors.BadSignature);\n      }\n    } catch (e) {\n      self.reportOrThrowError(e);\n    }\n\n    self.onflush && self.onflush();\n    return this;\n  }\n};\nmodule.exports = WebVTT;","// see https://tools.ietf.org/html/rfc1808\n(function (root) {\n  var URL_REGEX = /^((?:[a-zA-Z0-9+\\-.]+:)?)(\\/\\/[^\\/?#]*)?((?:[^\\/?#]*\\/)*[^;?#]*)?(;[^?#]*)?(\\?[^#]*)?(#.*)?$/;\n  var FIRST_SEGMENT_REGEX = /^([^\\/?#]*)(.*)$/;\n  var SLASH_DOT_REGEX = /(?:\\/|^)\\.(?=\\/)/g;\n  var SLASH_DOT_DOT_REGEX = /(?:\\/|^)\\.\\.\\/(?!\\.\\.\\/)[^\\/]*(?=\\/)/g;\n  var URLToolkit = {\n    // If opts.alwaysNormalize is true then the path will always be normalized even when it starts with / or //\n    // E.g\n    // With opts.alwaysNormalize = false (default, spec compliant)\n    // http://a.com/b/cd + /e/f/../g => http://a.com/e/f/../g\n    // With opts.alwaysNormalize = true (not spec compliant)\n    // http://a.com/b/cd + /e/f/../g => http://a.com/e/g\n    buildAbsoluteURL: function buildAbsoluteURL(baseURL, relativeURL, opts) {\n      opts = opts || {}; // remove any remaining space and CRLF\n\n      baseURL = baseURL.trim();\n      relativeURL = relativeURL.trim();\n\n      if (!relativeURL) {\n        // 2a) If the embedded URL is entirely empty, it inherits the\n        // entire base URL (i.e., is set equal to the base URL)\n        // and we are done.\n        if (!opts.alwaysNormalize) {\n          return baseURL;\n        }\n\n        var basePartsForNormalise = URLToolkit.parseURL(baseURL);\n\n        if (!basePartsForNormalise) {\n          throw new Error('Error trying to parse base URL.');\n        }\n\n        basePartsForNormalise.path = URLToolkit.normalizePath(basePartsForNormalise.path);\n        return URLToolkit.buildURLFromParts(basePartsForNormalise);\n      }\n\n      var relativeParts = URLToolkit.parseURL(relativeURL);\n\n      if (!relativeParts) {\n        throw new Error('Error trying to parse relative URL.');\n      }\n\n      if (relativeParts.scheme) {\n        // 2b) If the embedded URL starts with a scheme name, it is\n        // interpreted as an absolute URL and we are done.\n        if (!opts.alwaysNormalize) {\n          return relativeURL;\n        }\n\n        relativeParts.path = URLToolkit.normalizePath(relativeParts.path);\n        return URLToolkit.buildURLFromParts(relativeParts);\n      }\n\n      var baseParts = URLToolkit.parseURL(baseURL);\n\n      if (!baseParts) {\n        throw new Error('Error trying to parse base URL.');\n      }\n\n      if (!baseParts.netLoc && baseParts.path && baseParts.path[0] !== '/') {\n        // If netLoc missing and path doesn't start with '/', assume everthing before the first '/' is the netLoc\n        // This causes 'example.com/a' to be handled as '//example.com/a' instead of '/example.com/a'\n        var pathParts = FIRST_SEGMENT_REGEX.exec(baseParts.path);\n        baseParts.netLoc = pathParts[1];\n        baseParts.path = pathParts[2];\n      }\n\n      if (baseParts.netLoc && !baseParts.path) {\n        baseParts.path = '/';\n      }\n\n      var builtParts = {\n        // 2c) Otherwise, the embedded URL inherits the scheme of\n        // the base URL.\n        scheme: baseParts.scheme,\n        netLoc: relativeParts.netLoc,\n        path: null,\n        params: relativeParts.params,\n        query: relativeParts.query,\n        fragment: relativeParts.fragment\n      };\n\n      if (!relativeParts.netLoc) {\n        // 3) If the embedded URL's <net_loc> is non-empty, we skip to\n        // Step 7.  Otherwise, the embedded URL inherits the <net_loc>\n        // (if any) of the base URL.\n        builtParts.netLoc = baseParts.netLoc; // 4) If the embedded URL path is preceded by a slash \"/\", the\n        // path is not relative and we skip to Step 7.\n\n        if (relativeParts.path[0] !== '/') {\n          if (!relativeParts.path) {\n            // 5) If the embedded URL path is empty (and not preceded by a\n            // slash), then the embedded URL inherits the base URL path\n            builtParts.path = baseParts.path; // 5a) if the embedded URL's <params> is non-empty, we skip to\n            // step 7; otherwise, it inherits the <params> of the base\n            // URL (if any) and\n\n            if (!relativeParts.params) {\n              builtParts.params = baseParts.params; // 5b) if the embedded URL's <query> is non-empty, we skip to\n              // step 7; otherwise, it inherits the <query> of the base\n              // URL (if any) and we skip to step 7.\n\n              if (!relativeParts.query) {\n                builtParts.query = baseParts.query;\n              }\n            }\n          } else {\n            // 6) The last segment of the base URL's path (anything\n            // following the rightmost slash \"/\", or the entire path if no\n            // slash is present) is removed and the embedded URL's path is\n            // appended in its place.\n            var baseURLPath = baseParts.path;\n            var newPath = baseURLPath.substring(0, baseURLPath.lastIndexOf('/') + 1) + relativeParts.path;\n            builtParts.path = URLToolkit.normalizePath(newPath);\n          }\n        }\n      }\n\n      if (builtParts.path === null) {\n        builtParts.path = opts.alwaysNormalize ? URLToolkit.normalizePath(relativeParts.path) : relativeParts.path;\n      }\n\n      return URLToolkit.buildURLFromParts(builtParts);\n    },\n    parseURL: function parseURL(url) {\n      var parts = URL_REGEX.exec(url);\n\n      if (!parts) {\n        return null;\n      }\n\n      return {\n        scheme: parts[1] || '',\n        netLoc: parts[2] || '',\n        path: parts[3] || '',\n        params: parts[4] || '',\n        query: parts[5] || '',\n        fragment: parts[6] || ''\n      };\n    },\n    normalizePath: function normalizePath(path) {\n      // The following operations are\n      // then applied, in order, to the new path:\n      // 6a) All occurrences of \"./\", where \".\" is a complete path\n      // segment, are removed.\n      // 6b) If the path ends with \".\" as a complete path segment,\n      // that \".\" is removed.\n      path = path.split('').reverse().join('').replace(SLASH_DOT_REGEX, ''); // 6c) All occurrences of \"<segment>/../\", where <segment> is a\n      // complete path segment not equal to \"..\", are removed.\n      // Removal of these path segments is performed iteratively,\n      // removing the leftmost matching pattern on each iteration,\n      // until no matching pattern remains.\n      // 6d) If the path ends with \"<segment>/..\", where <segment> is a\n      // complete path segment not equal to \"..\", that\n      // \"<segment>/..\" is removed.\n\n      while (path.length !== (path = path.replace(SLASH_DOT_DOT_REGEX, '')).length) {}\n\n      return path.split('').reverse().join('');\n    },\n    buildURLFromParts: function buildURLFromParts(parts) {\n      return parts.scheme + parts.netLoc + parts.path + parts.params + parts.query + parts.fragment;\n    }\n  };\n  if (typeof exports === 'object' && typeof module === 'object') module.exports = URLToolkit;else if (typeof define === 'function' && define.amd) define([], function () {\n    return URLToolkit;\n  });else if (typeof exports === 'object') exports['URLToolkit'] = URLToolkit;else root['URLToolkit'] = URLToolkit;\n})(this);","/*! @name m3u8-parser @version 4.4.0 @license Apache-2.0 */\nimport window from 'global/window';\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction _inheritsLoose(subClass, superClass) {\n  subClass.prototype = Object.create(superClass.prototype);\n  subClass.prototype.constructor = subClass;\n  subClass.__proto__ = superClass;\n}\n\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n/**\n * @file stream.js\n */\n\n/**\n * A lightweight readable stream implementation that handles event dispatching.\n *\n * @class Stream\n */\n\n\nvar Stream = /*#__PURE__*/function () {\n  function Stream() {\n    this.listeners = {};\n  }\n  /**\n   * Add a listener for a specified event type.\n   *\n   * @param {string} type the event name\n   * @param {Function} listener the callback to be invoked when an event of\n   * the specified type occurs\n   */\n\n\n  var _proto = Stream.prototype;\n\n  _proto.on = function on(type, listener) {\n    if (!this.listeners[type]) {\n      this.listeners[type] = [];\n    }\n\n    this.listeners[type].push(listener);\n  }\n  /**\n   * Remove a listener for a specified event type.\n   *\n   * @param {string} type the event name\n   * @param {Function} listener  a function previously registered for this\n   * type of event through `on`\n   * @return {boolean} if we could turn it off or not\n   */\n  ;\n\n  _proto.off = function off(type, listener) {\n    if (!this.listeners[type]) {\n      return false;\n    }\n\n    var index = this.listeners[type].indexOf(listener);\n    this.listeners[type].splice(index, 1);\n    return index > -1;\n  }\n  /**\n   * Trigger an event of the specified type on this stream. Any additional\n   * arguments to this function are passed as parameters to event listeners.\n   *\n   * @param {string} type the event name\n   */\n  ;\n\n  _proto.trigger = function trigger(type) {\n    var callbacks = this.listeners[type];\n    var i;\n    var length;\n    var args;\n\n    if (!callbacks) {\n      return;\n    } // Slicing the arguments on every invocation of this method\n    // can add a significant amount of overhead. Avoid the\n    // intermediate object creation for the common case of a\n    // single callback argument\n\n\n    if (arguments.length === 2) {\n      length = callbacks.length;\n\n      for (i = 0; i < length; ++i) {\n        callbacks[i].call(this, arguments[1]);\n      }\n    } else {\n      args = Array.prototype.slice.call(arguments, 1);\n      length = callbacks.length;\n\n      for (i = 0; i < length; ++i) {\n        callbacks[i].apply(this, args);\n      }\n    }\n  }\n  /**\n   * Destroys the stream and cleans up.\n   */\n  ;\n\n  _proto.dispose = function dispose() {\n    this.listeners = {};\n  }\n  /**\n   * Forwards all `data` events on this stream to the destination stream. The\n   * destination stream should provide a method `push` to receive the data\n   * events as they arrive.\n   *\n   * @param {Stream} destination the stream that will receive all `data` events\n   * @see http://nodejs.org/api/stream.html#stream_readable_pipe_destination_options\n   */\n  ;\n\n  _proto.pipe = function pipe(destination) {\n    this.on('data', function (data) {\n      destination.push(data);\n    });\n  };\n\n  return Stream;\n}();\n/**\n * A stream that buffers string input and generates a `data` event for each\n * line.\n *\n * @class LineStream\n * @extends Stream\n */\n\n\nvar LineStream = /*#__PURE__*/function (_Stream) {\n  _inheritsLoose(LineStream, _Stream);\n\n  function LineStream() {\n    var _this;\n\n    _this = _Stream.call(this) || this;\n    _this.buffer = '';\n    return _this;\n  }\n  /**\n   * Add new data to be parsed.\n   *\n   * @param {string} data the text to process\n   */\n\n\n  var _proto = LineStream.prototype;\n\n  _proto.push = function push(data) {\n    var nextNewline;\n    this.buffer += data;\n    nextNewline = this.buffer.indexOf('\\n');\n\n    for (; nextNewline > -1; nextNewline = this.buffer.indexOf('\\n')) {\n      this.trigger('data', this.buffer.substring(0, nextNewline));\n      this.buffer = this.buffer.substring(nextNewline + 1);\n    }\n  };\n\n  return LineStream;\n}(Stream);\n/**\n * \"forgiving\" attribute list psuedo-grammar:\n * attributes -> keyvalue (',' keyvalue)*\n * keyvalue   -> key '=' value\n * key        -> [^=]*\n * value      -> '\"' [^\"]* '\"' | [^,]*\n */\n\n\nvar attributeSeparator = function attributeSeparator() {\n  var key = '[^=]*';\n  var value = '\"[^\"]*\"|[^,]*';\n  var keyvalue = '(?:' + key + ')=(?:' + value + ')';\n  return new RegExp('(?:^|,)(' + keyvalue + ')');\n};\n/**\n * Parse attributes from a line given the separator\n *\n * @param {string} attributes the attribute line to parse\n */\n\n\nvar parseAttributes = function parseAttributes(attributes) {\n  // split the string using attributes as the separator\n  var attrs = attributes.split(attributeSeparator());\n  var result = {};\n  var i = attrs.length;\n  var attr;\n\n  while (i--) {\n    // filter out unmatched portions of the string\n    if (attrs[i] === '') {\n      continue;\n    } // split the key and value\n\n\n    attr = /([^=]*)=(.*)/.exec(attrs[i]).slice(1); // trim whitespace and remove optional quotes around the value\n\n    attr[0] = attr[0].replace(/^\\s+|\\s+$/g, '');\n    attr[1] = attr[1].replace(/^\\s+|\\s+$/g, '');\n    attr[1] = attr[1].replace(/^['\"](.*)['\"]$/g, '$1');\n    result[attr[0]] = attr[1];\n  }\n\n  return result;\n};\n/**\n * A line-level M3U8 parser event stream. It expects to receive input one\n * line at a time and performs a context-free parse of its contents. A stream\n * interpretation of a manifest can be useful if the manifest is expected to\n * be too large to fit comfortably into memory or the entirety of the input\n * is not immediately available. Otherwise, it's probably much easier to work\n * with a regular `Parser` object.\n *\n * Produces `data` events with an object that captures the parser's\n * interpretation of the input. That object has a property `tag` that is one\n * of `uri`, `comment`, or `tag`. URIs only have a single additional\n * property, `line`, which captures the entirety of the input without\n * interpretation. Comments similarly have a single additional property\n * `text` which is the input without the leading `#`.\n *\n * Tags always have a property `tagType` which is the lower-cased version of\n * the M3U8 directive without the `#EXT` or `#EXT-X-` prefix. For instance,\n * `#EXT-X-MEDIA-SEQUENCE` becomes `media-sequence` when parsed. Unrecognized\n * tags are given the tag type `unknown` and a single additional property\n * `data` with the remainder of the input.\n *\n * @class ParseStream\n * @extends Stream\n */\n\n\nvar ParseStream = /*#__PURE__*/function (_Stream) {\n  _inheritsLoose(ParseStream, _Stream);\n\n  function ParseStream() {\n    var _this;\n\n    _this = _Stream.call(this) || this;\n    _this.customParsers = [];\n    _this.tagMappers = [];\n    return _this;\n  }\n  /**\n   * Parses an additional line of input.\n   *\n   * @param {string} line a single line of an M3U8 file to parse\n   */\n\n\n  var _proto = ParseStream.prototype;\n\n  _proto.push = function push(line) {\n    var _this2 = this;\n\n    var match;\n    var event; // strip whitespace\n\n    line = line.trim();\n\n    if (line.length === 0) {\n      // ignore empty lines\n      return;\n    } // URIs\n\n\n    if (line[0] !== '#') {\n      this.trigger('data', {\n        type: 'uri',\n        uri: line\n      });\n      return;\n    } // map tags\n\n\n    var newLines = this.tagMappers.reduce(function (acc, mapper) {\n      var mappedLine = mapper(line); // skip if unchanged\n\n      if (mappedLine === line) {\n        return acc;\n      }\n\n      return acc.concat([mappedLine]);\n    }, [line]);\n    newLines.forEach(function (newLine) {\n      for (var i = 0; i < _this2.customParsers.length; i++) {\n        if (_this2.customParsers[i].call(_this2, newLine)) {\n          return;\n        }\n      } // Comments\n\n\n      if (newLine.indexOf('#EXT') !== 0) {\n        _this2.trigger('data', {\n          type: 'comment',\n          text: newLine.slice(1)\n        });\n\n        return;\n      } // strip off any carriage returns here so the regex matching\n      // doesn't have to account for them.\n\n\n      newLine = newLine.replace('\\r', ''); // Tags\n\n      match = /^#EXTM3U/.exec(newLine);\n\n      if (match) {\n        _this2.trigger('data', {\n          type: 'tag',\n          tagType: 'm3u'\n        });\n\n        return;\n      }\n\n      match = /^#EXTINF:?([0-9\\.]*)?,?(.*)?$/.exec(newLine);\n\n      if (match) {\n        event = {\n          type: 'tag',\n          tagType: 'inf'\n        };\n\n        if (match[1]) {\n          event.duration = parseFloat(match[1]);\n        }\n\n        if (match[2]) {\n          event.title = match[2];\n        }\n\n        _this2.trigger('data', event);\n\n        return;\n      }\n\n      match = /^#EXT-X-TARGETDURATION:?([0-9.]*)?/.exec(newLine);\n\n      if (match) {\n        event = {\n          type: 'tag',\n          tagType: 'targetduration'\n        };\n\n        if (match[1]) {\n          event.duration = parseInt(match[1], 10);\n        }\n\n        _this2.trigger('data', event);\n\n        return;\n      }\n\n      match = /^#ZEN-TOTAL-DURATION:?([0-9.]*)?/.exec(newLine);\n\n      if (match) {\n        event = {\n          type: 'tag',\n          tagType: 'totalduration'\n        };\n\n        if (match[1]) {\n          event.duration = parseInt(match[1], 10);\n        }\n\n        _this2.trigger('data', event);\n\n        return;\n      }\n\n      match = /^#EXT-X-VERSION:?([0-9.]*)?/.exec(newLine);\n\n      if (match) {\n        event = {\n          type: 'tag',\n          tagType: 'version'\n        };\n\n        if (match[1]) {\n          event.version = parseInt(match[1], 10);\n        }\n\n        _this2.trigger('data', event);\n\n        return;\n      }\n\n      match = /^#EXT-X-MEDIA-SEQUENCE:?(\\-?[0-9.]*)?/.exec(newLine);\n\n      if (match) {\n        event = {\n          type: 'tag',\n          tagType: 'media-sequence'\n        };\n\n        if (match[1]) {\n          event.number = parseInt(match[1], 10);\n        }\n\n        _this2.trigger('data', event);\n\n        return;\n      }\n\n      match = /^#EXT-X-DISCONTINUITY-SEQUENCE:?(\\-?[0-9.]*)?/.exec(newLine);\n\n      if (match) {\n        event = {\n          type: 'tag',\n          tagType: 'discontinuity-sequence'\n        };\n\n        if (match[1]) {\n          event.number = parseInt(match[1], 10);\n        }\n\n        _this2.trigger('data', event);\n\n        return;\n      }\n\n      match = /^#EXT-X-PLAYLIST-TYPE:?(.*)?$/.exec(newLine);\n\n      if (match) {\n        event = {\n          type: 'tag',\n          tagType: 'playlist-type'\n        };\n\n        if (match[1]) {\n          event.playlistType = match[1];\n        }\n\n        _this2.trigger('data', event);\n\n        return;\n      }\n\n      match = /^#EXT-X-BYTERANGE:?([0-9.]*)?@?([0-9.]*)?/.exec(newLine);\n\n      if (match) {\n        event = {\n          type: 'tag',\n          tagType: 'byterange'\n        };\n\n        if (match[1]) {\n          event.length = parseInt(match[1], 10);\n        }\n\n        if (match[2]) {\n          event.offset = parseInt(match[2], 10);\n        }\n\n        _this2.trigger('data', event);\n\n        return;\n      }\n\n      match = /^#EXT-X-ALLOW-CACHE:?(YES|NO)?/.exec(newLine);\n\n      if (match) {\n        event = {\n          type: 'tag',\n          tagType: 'allow-cache'\n        };\n\n        if (match[1]) {\n          event.allowed = !/NO/.test(match[1]);\n        }\n\n        _this2.trigger('data', event);\n\n        return;\n      }\n\n      match = /^#EXT-X-MAP:?(.*)$/.exec(newLine);\n\n      if (match) {\n        event = {\n          type: 'tag',\n          tagType: 'map'\n        };\n\n        if (match[1]) {\n          var attributes = parseAttributes(match[1]);\n\n          if (attributes.URI) {\n            event.uri = attributes.URI;\n          }\n\n          if (attributes.BYTERANGE) {\n            var _attributes$BYTERANGE = attributes.BYTERANGE.split('@'),\n                length = _attributes$BYTERANGE[0],\n                offset = _attributes$BYTERANGE[1];\n\n            event.byterange = {};\n\n            if (length) {\n              event.byterange.length = parseInt(length, 10);\n            }\n\n            if (offset) {\n              event.byterange.offset = parseInt(offset, 10);\n            }\n          }\n        }\n\n        _this2.trigger('data', event);\n\n        return;\n      }\n\n      match = /^#EXT-X-STREAM-INF:?(.*)$/.exec(newLine);\n\n      if (match) {\n        event = {\n          type: 'tag',\n          tagType: 'stream-inf'\n        };\n\n        if (match[1]) {\n          event.attributes = parseAttributes(match[1]);\n\n          if (event.attributes.RESOLUTION) {\n            var split = event.attributes.RESOLUTION.split('x');\n            var resolution = {};\n\n            if (split[0]) {\n              resolution.width = parseInt(split[0], 10);\n            }\n\n            if (split[1]) {\n              resolution.height = parseInt(split[1], 10);\n            }\n\n            event.attributes.RESOLUTION = resolution;\n          }\n\n          if (event.attributes.BANDWIDTH) {\n            event.attributes.BANDWIDTH = parseInt(event.attributes.BANDWIDTH, 10);\n          }\n\n          if (event.attributes['PROGRAM-ID']) {\n            event.attributes['PROGRAM-ID'] = parseInt(event.attributes['PROGRAM-ID'], 10);\n          }\n        }\n\n        _this2.trigger('data', event);\n\n        return;\n      }\n\n      match = /^#EXT-X-MEDIA:?(.*)$/.exec(newLine);\n\n      if (match) {\n        event = {\n          type: 'tag',\n          tagType: 'media'\n        };\n\n        if (match[1]) {\n          event.attributes = parseAttributes(match[1]);\n        }\n\n        _this2.trigger('data', event);\n\n        return;\n      }\n\n      match = /^#EXT-X-ENDLIST/.exec(newLine);\n\n      if (match) {\n        _this2.trigger('data', {\n          type: 'tag',\n          tagType: 'endlist'\n        });\n\n        return;\n      }\n\n      match = /^#EXT-X-DISCONTINUITY/.exec(newLine);\n\n      if (match) {\n        _this2.trigger('data', {\n          type: 'tag',\n          tagType: 'discontinuity'\n        });\n\n        return;\n      }\n\n      match = /^#EXT-X-PROGRAM-DATE-TIME:?(.*)$/.exec(newLine);\n\n      if (match) {\n        event = {\n          type: 'tag',\n          tagType: 'program-date-time'\n        };\n\n        if (match[1]) {\n          event.dateTimeString = match[1];\n          event.dateTimeObject = new Date(match[1]);\n        }\n\n        _this2.trigger('data', event);\n\n        return;\n      }\n\n      match = /^#EXT-X-KEY:?(.*)$/.exec(newLine);\n\n      if (match) {\n        event = {\n          type: 'tag',\n          tagType: 'key'\n        };\n\n        if (match[1]) {\n          event.attributes = parseAttributes(match[1]); // parse the IV string into a Uint32Array\n\n          if (event.attributes.IV) {\n            if (event.attributes.IV.substring(0, 2).toLowerCase() === '0x') {\n              event.attributes.IV = event.attributes.IV.substring(2);\n            }\n\n            event.attributes.IV = event.attributes.IV.match(/.{8}/g);\n            event.attributes.IV[0] = parseInt(event.attributes.IV[0], 16);\n            event.attributes.IV[1] = parseInt(event.attributes.IV[1], 16);\n            event.attributes.IV[2] = parseInt(event.attributes.IV[2], 16);\n            event.attributes.IV[3] = parseInt(event.attributes.IV[3], 16);\n            event.attributes.IV = new Uint32Array(event.attributes.IV);\n          }\n        }\n\n        _this2.trigger('data', event);\n\n        return;\n      }\n\n      match = /^#EXT-X-START:?(.*)$/.exec(newLine);\n\n      if (match) {\n        event = {\n          type: 'tag',\n          tagType: 'start'\n        };\n\n        if (match[1]) {\n          event.attributes = parseAttributes(match[1]);\n          event.attributes['TIME-OFFSET'] = parseFloat(event.attributes['TIME-OFFSET']);\n          event.attributes.PRECISE = /YES/.test(event.attributes.PRECISE);\n        }\n\n        _this2.trigger('data', event);\n\n        return;\n      }\n\n      match = /^#EXT-X-CUE-OUT-CONT:?(.*)?$/.exec(newLine);\n\n      if (match) {\n        event = {\n          type: 'tag',\n          tagType: 'cue-out-cont'\n        };\n\n        if (match[1]) {\n          event.data = match[1];\n        } else {\n          event.data = '';\n        }\n\n        _this2.trigger('data', event);\n\n        return;\n      }\n\n      match = /^#EXT-X-CUE-OUT:?(.*)?$/.exec(newLine);\n\n      if (match) {\n        event = {\n          type: 'tag',\n          tagType: 'cue-out'\n        };\n\n        if (match[1]) {\n          event.data = match[1];\n        } else {\n          event.data = '';\n        }\n\n        _this2.trigger('data', event);\n\n        return;\n      }\n\n      match = /^#EXT-X-CUE-IN:?(.*)?$/.exec(newLine);\n\n      if (match) {\n        event = {\n          type: 'tag',\n          tagType: 'cue-in'\n        };\n\n        if (match[1]) {\n          event.data = match[1];\n        } else {\n          event.data = '';\n        }\n\n        _this2.trigger('data', event);\n\n        return;\n      } // unknown tag type\n\n\n      _this2.trigger('data', {\n        type: 'tag',\n        data: newLine.slice(4)\n      });\n    });\n  }\n  /**\n   * Add a parser for custom headers\n   *\n   * @param {Object}   options              a map of options for the added parser\n   * @param {RegExp}   options.expression   a regular expression to match the custom header\n   * @param {string}   options.customType   the custom type to register to the output\n   * @param {Function} [options.dataParser] function to parse the line into an object\n   * @param {boolean}  [options.segment]    should tag data be attached to the segment object\n   */\n  ;\n\n  _proto.addParser = function addParser(_ref) {\n    var _this3 = this;\n\n    var expression = _ref.expression,\n        customType = _ref.customType,\n        dataParser = _ref.dataParser,\n        segment = _ref.segment;\n\n    if (typeof dataParser !== 'function') {\n      dataParser = function dataParser(line) {\n        return line;\n      };\n    }\n\n    this.customParsers.push(function (line) {\n      var match = expression.exec(line);\n\n      if (match) {\n        _this3.trigger('data', {\n          type: 'custom',\n          data: dataParser(line),\n          customType: customType,\n          segment: segment\n        });\n\n        return true;\n      }\n    });\n  }\n  /**\n   * Add a custom header mapper\n   *\n   * @param {Object}   options\n   * @param {RegExp}   options.expression   a regular expression to match the custom header\n   * @param {Function} options.map          function to translate tag into a different tag\n   */\n  ;\n\n  _proto.addTagMapper = function addTagMapper(_ref2) {\n    var expression = _ref2.expression,\n        map = _ref2.map;\n\n    var mapFn = function mapFn(line) {\n      if (expression.test(line)) {\n        return map(line);\n      }\n\n      return line;\n    };\n\n    this.tagMappers.push(mapFn);\n  };\n\n  return ParseStream;\n}(Stream);\n\nfunction decodeB64ToUint8Array(b64Text) {\n  var decodedString = window.atob(b64Text || '');\n  var array = new Uint8Array(decodedString.length);\n\n  for (var i = 0; i < decodedString.length; i++) {\n    array[i] = decodedString.charCodeAt(i);\n  }\n\n  return array;\n}\n/**\n * A parser for M3U8 files. The current interpretation of the input is\n * exposed as a property `manifest` on parser objects. It's just two lines to\n * create and parse a manifest once you have the contents available as a string:\n *\n * ```js\n * var parser = new m3u8.Parser();\n * parser.push(xhr.responseText);\n * ```\n *\n * New input can later be applied to update the manifest object by calling\n * `push` again.\n *\n * The parser attempts to create a usable manifest object even if the\n * underlying input is somewhat nonsensical. It emits `info` and `warning`\n * events during the parse if it encounters input that seems invalid or\n * requires some property of the manifest object to be defaulted.\n *\n * @class Parser\n * @extends Stream\n */\n\n\nvar Parser = /*#__PURE__*/function (_Stream) {\n  _inheritsLoose(Parser, _Stream);\n\n  function Parser() {\n    var _this;\n\n    _this = _Stream.call(this) || this;\n    _this.lineStream = new LineStream();\n    _this.parseStream = new ParseStream();\n\n    _this.lineStream.pipe(_this.parseStream);\n    /* eslint-disable consistent-this */\n\n\n    var self = _assertThisInitialized(_this);\n    /* eslint-enable consistent-this */\n\n\n    var uris = [];\n    var currentUri = {}; // if specified, the active EXT-X-MAP definition\n\n    var currentMap; // if specified, the active decryption key\n\n    var _key;\n\n    var noop = function noop() {};\n\n    var defaultMediaGroups = {\n      'AUDIO': {},\n      'VIDEO': {},\n      'CLOSED-CAPTIONS': {},\n      'SUBTITLES': {}\n    }; // This is the Widevine UUID from DASH IF IOP. The same exact string is\n    // used in MPDs with Widevine encrypted streams.\n\n    var widevineUuid = 'urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed'; // group segments into numbered timelines delineated by discontinuities\n\n    var currentTimeline = 0; // the manifest is empty until the parse stream begins delivering data\n\n    _this.manifest = {\n      allowCache: true,\n      discontinuityStarts: [],\n      segments: []\n    }; // update the manifest with the m3u8 entry from the parse stream\n\n    _this.parseStream.on('data', function (entry) {\n      var mediaGroup;\n      var rendition;\n      ({\n        tag: function tag() {\n          // switch based on the tag type\n          (({\n            'allow-cache': function allowCache() {\n              this.manifest.allowCache = entry.allowed;\n\n              if (!('allowed' in entry)) {\n                this.trigger('info', {\n                  message: 'defaulting allowCache to YES'\n                });\n                this.manifest.allowCache = true;\n              }\n            },\n            byterange: function byterange() {\n              var byterange = {};\n\n              if ('length' in entry) {\n                currentUri.byterange = byterange;\n                byterange.length = entry.length;\n\n                if (!('offset' in entry)) {\n                  this.trigger('info', {\n                    message: 'defaulting offset to zero'\n                  });\n                  entry.offset = 0;\n                }\n              }\n\n              if ('offset' in entry) {\n                currentUri.byterange = byterange;\n                byterange.offset = entry.offset;\n              }\n            },\n            endlist: function endlist() {\n              this.manifest.endList = true;\n            },\n            inf: function inf() {\n              if (!('mediaSequence' in this.manifest)) {\n                this.manifest.mediaSequence = 0;\n                this.trigger('info', {\n                  message: 'defaulting media sequence to zero'\n                });\n              }\n\n              if (!('discontinuitySequence' in this.manifest)) {\n                this.manifest.discontinuitySequence = 0;\n                this.trigger('info', {\n                  message: 'defaulting discontinuity sequence to zero'\n                });\n              }\n\n              if (entry.duration > 0) {\n                currentUri.duration = entry.duration;\n              }\n\n              if (entry.duration === 0) {\n                currentUri.duration = 0.01;\n                this.trigger('info', {\n                  message: 'updating zero segment duration to a small value'\n                });\n              }\n\n              this.manifest.segments = uris;\n            },\n            key: function key() {\n              if (!entry.attributes) {\n                this.trigger('warn', {\n                  message: 'ignoring key declaration without attribute list'\n                });\n                return;\n              } // clear the active encryption key\n\n\n              if (entry.attributes.METHOD === 'NONE') {\n                _key = null;\n                return;\n              }\n\n              if (!entry.attributes.URI) {\n                this.trigger('warn', {\n                  message: 'ignoring key declaration without URI'\n                });\n                return;\n              } // check if the content is encrypted for Widevine\n              // Widevine/HLS spec: https://storage.googleapis.com/wvdocs/Widevine_DRM_HLS.pdf\n\n\n              if (entry.attributes.KEYFORMAT === widevineUuid) {\n                var VALID_METHODS = ['SAMPLE-AES', 'SAMPLE-AES-CTR', 'SAMPLE-AES-CENC'];\n\n                if (VALID_METHODS.indexOf(entry.attributes.METHOD) === -1) {\n                  this.trigger('warn', {\n                    message: 'invalid key method provided for Widevine'\n                  });\n                  return;\n                }\n\n                if (entry.attributes.METHOD === 'SAMPLE-AES-CENC') {\n                  this.trigger('warn', {\n                    message: 'SAMPLE-AES-CENC is deprecated, please use SAMPLE-AES-CTR instead'\n                  });\n                }\n\n                if (entry.attributes.URI.substring(0, 23) !== 'data:text/plain;base64,') {\n                  this.trigger('warn', {\n                    message: 'invalid key URI provided for Widevine'\n                  });\n                  return;\n                }\n\n                if (!(entry.attributes.KEYID && entry.attributes.KEYID.substring(0, 2) === '0x')) {\n                  this.trigger('warn', {\n                    message: 'invalid key ID provided for Widevine'\n                  });\n                  return;\n                } // if Widevine key attributes are valid, store them as `contentProtection`\n                // on the manifest to emulate Widevine tag structure in a DASH mpd\n\n\n                this.manifest.contentProtection = {\n                  'com.widevine.alpha': {\n                    attributes: {\n                      schemeIdUri: entry.attributes.KEYFORMAT,\n                      // remove '0x' from the key id string\n                      keyId: entry.attributes.KEYID.substring(2)\n                    },\n                    // decode the base64-encoded PSSH box\n                    pssh: decodeB64ToUint8Array(entry.attributes.URI.split(',')[1])\n                  }\n                };\n                return;\n              }\n\n              if (!entry.attributes.METHOD) {\n                this.trigger('warn', {\n                  message: 'defaulting key method to AES-128'\n                });\n              } // setup an encryption key for upcoming segments\n\n\n              _key = {\n                method: entry.attributes.METHOD || 'AES-128',\n                uri: entry.attributes.URI\n              };\n\n              if (typeof entry.attributes.IV !== 'undefined') {\n                _key.iv = entry.attributes.IV;\n              }\n            },\n            'media-sequence': function mediaSequence() {\n              if (!isFinite(entry.number)) {\n                this.trigger('warn', {\n                  message: 'ignoring invalid media sequence: ' + entry.number\n                });\n                return;\n              }\n\n              this.manifest.mediaSequence = entry.number;\n            },\n            'discontinuity-sequence': function discontinuitySequence() {\n              if (!isFinite(entry.number)) {\n                this.trigger('warn', {\n                  message: 'ignoring invalid discontinuity sequence: ' + entry.number\n                });\n                return;\n              }\n\n              this.manifest.discontinuitySequence = entry.number;\n              currentTimeline = entry.number;\n            },\n            'playlist-type': function playlistType() {\n              if (!/VOD|EVENT/.test(entry.playlistType)) {\n                this.trigger('warn', {\n                  message: 'ignoring unknown playlist type: ' + entry.playlist\n                });\n                return;\n              }\n\n              this.manifest.playlistType = entry.playlistType;\n            },\n            map: function map() {\n              currentMap = {};\n\n              if (entry.uri) {\n                currentMap.uri = entry.uri;\n              }\n\n              if (entry.byterange) {\n                currentMap.byterange = entry.byterange;\n              }\n            },\n            'stream-inf': function streamInf() {\n              this.manifest.playlists = uris;\n              this.manifest.mediaGroups = this.manifest.mediaGroups || defaultMediaGroups;\n\n              if (!entry.attributes) {\n                this.trigger('warn', {\n                  message: 'ignoring empty stream-inf attributes'\n                });\n                return;\n              }\n\n              if (!currentUri.attributes) {\n                currentUri.attributes = {};\n              }\n\n              _extends(currentUri.attributes, entry.attributes);\n            },\n            media: function media() {\n              this.manifest.mediaGroups = this.manifest.mediaGroups || defaultMediaGroups;\n\n              if (!(entry.attributes && entry.attributes.TYPE && entry.attributes['GROUP-ID'] && entry.attributes.NAME)) {\n                this.trigger('warn', {\n                  message: 'ignoring incomplete or missing media group'\n                });\n                return;\n              } // find the media group, creating defaults as necessary\n\n\n              var mediaGroupType = this.manifest.mediaGroups[entry.attributes.TYPE];\n              mediaGroupType[entry.attributes['GROUP-ID']] = mediaGroupType[entry.attributes['GROUP-ID']] || {};\n              mediaGroup = mediaGroupType[entry.attributes['GROUP-ID']]; // collect the rendition metadata\n\n              rendition = {\n                default: /yes/i.test(entry.attributes.DEFAULT)\n              };\n\n              if (rendition.default) {\n                rendition.autoselect = true;\n              } else {\n                rendition.autoselect = /yes/i.test(entry.attributes.AUTOSELECT);\n              }\n\n              if (entry.attributes.LANGUAGE) {\n                rendition.language = entry.attributes.LANGUAGE;\n              }\n\n              if (entry.attributes.URI) {\n                rendition.uri = entry.attributes.URI;\n              }\n\n              if (entry.attributes['INSTREAM-ID']) {\n                rendition.instreamId = entry.attributes['INSTREAM-ID'];\n              }\n\n              if (entry.attributes.CHARACTERISTICS) {\n                rendition.characteristics = entry.attributes.CHARACTERISTICS;\n              }\n\n              if (entry.attributes.FORCED) {\n                rendition.forced = /yes/i.test(entry.attributes.FORCED);\n              } // insert the new rendition\n\n\n              mediaGroup[entry.attributes.NAME] = rendition;\n            },\n            discontinuity: function discontinuity() {\n              currentTimeline += 1;\n              currentUri.discontinuity = true;\n              this.manifest.discontinuityStarts.push(uris.length);\n            },\n            'program-date-time': function programDateTime() {\n              if (typeof this.manifest.dateTimeString === 'undefined') {\n                // PROGRAM-DATE-TIME is a media-segment tag, but for backwards\n                // compatibility, we add the first occurence of the PROGRAM-DATE-TIME tag\n                // to the manifest object\n                // TODO: Consider removing this in future major version\n                this.manifest.dateTimeString = entry.dateTimeString;\n                this.manifest.dateTimeObject = entry.dateTimeObject;\n              }\n\n              currentUri.dateTimeString = entry.dateTimeString;\n              currentUri.dateTimeObject = entry.dateTimeObject;\n            },\n            targetduration: function targetduration() {\n              if (!isFinite(entry.duration) || entry.duration < 0) {\n                this.trigger('warn', {\n                  message: 'ignoring invalid target duration: ' + entry.duration\n                });\n                return;\n              }\n\n              this.manifest.targetDuration = entry.duration;\n            },\n            totalduration: function totalduration() {\n              if (!isFinite(entry.duration) || entry.duration < 0) {\n                this.trigger('warn', {\n                  message: 'ignoring invalid total duration: ' + entry.duration\n                });\n                return;\n              }\n\n              this.manifest.totalDuration = entry.duration;\n            },\n            start: function start() {\n              if (!entry.attributes || isNaN(entry.attributes['TIME-OFFSET'])) {\n                this.trigger('warn', {\n                  message: 'ignoring start declaration without appropriate attribute list'\n                });\n                return;\n              }\n\n              this.manifest.start = {\n                timeOffset: entry.attributes['TIME-OFFSET'],\n                precise: entry.attributes.PRECISE\n              };\n            },\n            'cue-out': function cueOut() {\n              currentUri.cueOut = entry.data;\n            },\n            'cue-out-cont': function cueOutCont() {\n              currentUri.cueOutCont = entry.data;\n            },\n            'cue-in': function cueIn() {\n              currentUri.cueIn = entry.data;\n            }\n          })[entry.tagType] || noop).call(self);\n        },\n        uri: function uri() {\n          currentUri.uri = entry.uri;\n          uris.push(currentUri); // if no explicit duration was declared, use the target duration\n\n          if (this.manifest.targetDuration && !('duration' in currentUri)) {\n            this.trigger('warn', {\n              message: 'defaulting segment duration to the target duration'\n            });\n            currentUri.duration = this.manifest.targetDuration;\n          } // annotate with encryption information, if necessary\n\n\n          if (_key) {\n            currentUri.key = _key;\n          }\n\n          currentUri.timeline = currentTimeline; // annotate with initialization segment information, if necessary\n\n          if (currentMap) {\n            currentUri.map = currentMap;\n          } // prepare for the next URI\n\n\n          currentUri = {};\n        },\n        comment: function comment() {// comments are not important for playback\n        },\n        custom: function custom() {\n          // if this is segment-level data attach the output to the segment\n          if (entry.segment) {\n            currentUri.custom = currentUri.custom || {};\n            currentUri.custom[entry.customType] = entry.data; // if this is manifest-level data attach to the top level manifest object\n          } else {\n            this.manifest.custom = this.manifest.custom || {};\n            this.manifest.custom[entry.customType] = entry.data;\n          }\n        }\n      })[entry.type].call(self);\n    });\n\n    return _this;\n  }\n  /**\n   * Parse the input string and update the manifest object.\n   *\n   * @param {string} chunk a potentially incomplete portion of the manifest\n   */\n\n\n  var _proto = Parser.prototype;\n\n  _proto.push = function push(chunk) {\n    this.lineStream.push(chunk);\n  }\n  /**\n   * Flush any remaining input. This can be handy if the last line of an M3U8\n   * manifest did not contain a trailing newline but the file has been\n   * completely received.\n   */\n  ;\n\n  _proto.end = function end() {\n    // flush any buffered input\n    this.lineStream.push('\\n');\n  }\n  /**\n   * Add an additional parser for non-standard tags\n   *\n   * @param {Object}   options              a map of options for the added parser\n   * @param {RegExp}   options.expression   a regular expression to match the custom header\n   * @param {string}   options.type         the type to register to the output\n   * @param {Function} [options.dataParser] function to parse the line into an object\n   * @param {boolean}  [options.segment]    should tag data be attached to the segment object\n   */\n  ;\n\n  _proto.addParser = function addParser(options) {\n    this.parseStream.addParser(options);\n  }\n  /**\n   * Add a custom header mapper\n   *\n   * @param {Object}   options\n   * @param {RegExp}   options.expression   a regular expression to match the custom header\n   * @param {Function} options.map          function to translate tag into a different tag\n   */\n  ;\n\n  _proto.addTagMapper = function addTagMapper(options) {\n    this.parseStream.addTagMapper(options);\n  };\n\n  return Parser;\n}(Stream);\n\nexport { LineStream, ParseStream, Parser };","//[4]   \tNameStartChar\t   ::=   \t\":\" | [A-Z] | \"_\" | [a-z] | [#xC0-#xD6] | [#xD8-#xF6] | [#xF8-#x2FF] | [#x370-#x37D] | [#x37F-#x1FFF] | [#x200C-#x200D] | [#x2070-#x218F] | [#x2C00-#x2FEF] | [#x3001-#xD7FF] | [#xF900-#xFDCF] | [#xFDF0-#xFFFD] | [#x10000-#xEFFFF]\n//[4a]   \tNameChar\t   ::=   \tNameStartChar | \"-\" | \".\" | [0-9] | #xB7 | [#x0300-#x036F] | [#x203F-#x2040]\n//[5]   \tName\t   ::=   \tNameStartChar (NameChar)*\nvar nameStartChar = /[A-Z_a-z\\xC0-\\xD6\\xD8-\\xF6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD]/; //\\u10000-\\uEFFFF\n\nvar nameChar = new RegExp(\"[\\\\-\\\\.0-9\" + nameStartChar.source.slice(1, -1) + \"\\\\u00B7\\\\u0300-\\\\u036F\\\\u203F-\\\\u2040]\");\nvar tagNamePattern = new RegExp('^' + nameStartChar.source + nameChar.source + '*(?:\\:' + nameStartChar.source + nameChar.source + '*)?$'); //var tagNamePattern = /^[a-zA-Z_][\\w\\-\\.]*(?:\\:[a-zA-Z_][\\w\\-\\.]*)?$/\n//var handlers = 'resolveEntity,getExternalSubset,characters,endDocument,endElement,endPrefixMapping,ignorableWhitespace,processingInstruction,setDocumentLocator,skippedEntity,startDocument,startElement,startPrefixMapping,notationDecl,unparsedEntityDecl,error,fatalError,warning,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,comment,endCDATA,endDTD,endEntity,startCDATA,startDTD,startEntity'.split(',')\n//S_TAG,\tS_ATTR,\tS_EQ,\tS_ATTR_NOQUOT_VALUE\n//S_ATTR_SPACE,\tS_ATTR_END,\tS_TAG_SPACE, S_TAG_CLOSE\n\nvar S_TAG = 0; //tag name offerring\n\nvar S_ATTR = 1; //attr name offerring \n\nvar S_ATTR_SPACE = 2; //attr name end and space offer\n\nvar S_EQ = 3; //=space?\n\nvar S_ATTR_NOQUOT_VALUE = 4; //attr value(no quot value only)\n\nvar S_ATTR_END = 5; //attr value end and no space(quot end)\n\nvar S_TAG_SPACE = 6; //(attr value end || tag end ) && (space offer)\n\nvar S_TAG_CLOSE = 7; //closed el<el />\n\nfunction XMLReader() {}\n\nXMLReader.prototype = {\n  parse: function parse(source, defaultNSMap, entityMap) {\n    var domBuilder = this.domBuilder;\n    domBuilder.startDocument();\n\n    _copy(defaultNSMap, defaultNSMap = {});\n\n    _parse(source, defaultNSMap, entityMap, domBuilder, this.errorHandler);\n\n    domBuilder.endDocument();\n  }\n};\n\nfunction _parse(source, defaultNSMapCopy, entityMap, domBuilder, errorHandler) {\n  function fixedFromCharCode(code) {\n    // String.prototype.fromCharCode does not supports\n    // > 2 bytes unicode chars directly\n    if (code > 0xffff) {\n      code -= 0x10000;\n      var surrogate1 = 0xd800 + (code >> 10),\n          surrogate2 = 0xdc00 + (code & 0x3ff);\n      return String.fromCharCode(surrogate1, surrogate2);\n    } else {\n      return String.fromCharCode(code);\n    }\n  }\n\n  function entityReplacer(a) {\n    var k = a.slice(1, -1);\n\n    if (k in entityMap) {\n      return entityMap[k];\n    } else if (k.charAt(0) === '#') {\n      return fixedFromCharCode(parseInt(k.substr(1).replace('x', '0x')));\n    } else {\n      errorHandler.error('entity not found:' + a);\n      return a;\n    }\n  }\n\n  function appendText(end) {\n    //has some bugs\n    if (end > start) {\n      var xt = source.substring(start, end).replace(/&#?\\w+;/g, entityReplacer);\n      locator && position(start);\n      domBuilder.characters(xt, 0, end - start);\n      start = end;\n    }\n  }\n\n  function position(p, m) {\n    while (p >= lineEnd && (m = linePattern.exec(source))) {\n      lineStart = m.index;\n      lineEnd = lineStart + m[0].length;\n      locator.lineNumber++; //console.log('line++:',locator,startPos,endPos)\n    }\n\n    locator.columnNumber = p - lineStart + 1;\n  }\n\n  var lineStart = 0;\n  var lineEnd = 0;\n  var linePattern = /.*(?:\\r\\n?|\\n)|.*$/g;\n  var locator = domBuilder.locator;\n  var parseStack = [{\n    currentNSMap: defaultNSMapCopy\n  }];\n  var closeMap = {};\n  var start = 0;\n\n  while (true) {\n    try {\n      var tagStart = source.indexOf('<', start);\n\n      if (tagStart < 0) {\n        if (!source.substr(start).match(/^\\s*$/)) {\n          var doc = domBuilder.doc;\n          var text = doc.createTextNode(source.substr(start));\n          doc.appendChild(text);\n          domBuilder.currentElement = text;\n        }\n\n        return;\n      }\n\n      if (tagStart > start) {\n        appendText(tagStart);\n      }\n\n      switch (source.charAt(tagStart + 1)) {\n        case '/':\n          var end = source.indexOf('>', tagStart + 3);\n          var tagName = source.substring(tagStart + 2, end);\n          var config = parseStack.pop();\n\n          if (end < 0) {\n            tagName = source.substring(tagStart + 2).replace(/[\\s<].*/, ''); //console.error('#@@@@@@'+tagName)\n\n            errorHandler.error(\"end tag name: \" + tagName + ' is not complete:' + config.tagName);\n            end = tagStart + 1 + tagName.length;\n          } else if (tagName.match(/\\s</)) {\n            tagName = tagName.replace(/[\\s<].*/, '');\n            errorHandler.error(\"end tag name: \" + tagName + ' maybe not complete');\n            end = tagStart + 1 + tagName.length;\n          } //console.error(parseStack.length,parseStack)\n          //console.error(config);\n\n\n          var localNSMap = config.localNSMap;\n          var endMatch = config.tagName == tagName;\n          var endIgnoreCaseMach = endMatch || config.tagName && config.tagName.toLowerCase() == tagName.toLowerCase();\n\n          if (endIgnoreCaseMach) {\n            domBuilder.endElement(config.uri, config.localName, tagName);\n\n            if (localNSMap) {\n              for (var prefix in localNSMap) {\n                domBuilder.endPrefixMapping(prefix);\n              }\n            }\n\n            if (!endMatch) {\n              errorHandler.fatalError(\"end tag name: \" + tagName + ' is not match the current start tagName:' + config.tagName);\n            }\n          } else {\n            parseStack.push(config);\n          }\n\n          end++;\n          break;\n        // end elment\n\n        case '?':\n          // <?...?>\n          locator && position(tagStart);\n          end = parseInstruction(source, tagStart, domBuilder);\n          break;\n\n        case '!':\n          // <!doctype,<![CDATA,<!--\n          locator && position(tagStart);\n          end = parseDCC(source, tagStart, domBuilder, errorHandler);\n          break;\n\n        default:\n          locator && position(tagStart);\n          var el = new ElementAttributes();\n          var currentNSMap = parseStack[parseStack.length - 1].currentNSMap; //elStartEnd\n\n          var end = parseElementStartPart(source, tagStart, el, currentNSMap, entityReplacer, errorHandler);\n          var len = el.length;\n\n          if (!el.closed && fixSelfClosed(source, end, el.tagName, closeMap)) {\n            el.closed = true;\n\n            if (!entityMap.nbsp) {\n              errorHandler.warning('unclosed xml attribute');\n            }\n          }\n\n          if (locator && len) {\n            var locator2 = copyLocator(locator, {}); //try{//attribute position fixed\n\n            for (var i = 0; i < len; i++) {\n              var a = el[i];\n              position(a.offset);\n              a.locator = copyLocator(locator, {});\n            } //}catch(e){console.error('@@@@@'+e)}\n\n\n            domBuilder.locator = locator2;\n\n            if (appendElement(el, domBuilder, currentNSMap)) {\n              parseStack.push(el);\n            }\n\n            domBuilder.locator = locator;\n          } else {\n            if (appendElement(el, domBuilder, currentNSMap)) {\n              parseStack.push(el);\n            }\n          }\n\n          if (el.uri === 'http://www.w3.org/1999/xhtml' && !el.closed) {\n            end = parseHtmlSpecialContent(source, end, el.tagName, entityReplacer, domBuilder);\n          } else {\n            end++;\n          }\n\n      }\n    } catch (e) {\n      errorHandler.error('element parse error: ' + e); //errorHandler.error('element parse error: '+e);\n\n      end = -1; //throw e;\n    }\n\n    if (end > start) {\n      start = end;\n    } else {\n      //TODO: sax\n      appendText(Math.max(tagStart, start) + 1);\n    }\n  }\n}\n\nfunction copyLocator(f, t) {\n  t.lineNumber = f.lineNumber;\n  t.columnNumber = f.columnNumber;\n  return t;\n}\n/**\r\n * @see #appendElement(source,elStartEnd,el,selfClosed,entityReplacer,domBuilder,parseStack);\r\n * @return end of the elementStartPart(end of elementEndPart for selfClosed el)\r\n */\n\n\nfunction parseElementStartPart(source, start, el, currentNSMap, entityReplacer, errorHandler) {\n  var attrName;\n  var value;\n  var p = ++start;\n  var s = S_TAG; //status\n\n  while (true) {\n    var c = source.charAt(p);\n\n    switch (c) {\n      case '=':\n        if (s === S_ATTR) {\n          //attrName\n          attrName = source.slice(start, p);\n          s = S_EQ;\n        } else if (s === S_ATTR_SPACE) {\n          s = S_EQ;\n        } else {\n          //fatalError: equal must after attrName or space after attrName\n          throw new Error('attribute equal must after attrName');\n        }\n\n        break;\n\n      case '\\'':\n      case '\"':\n        if (s === S_EQ || s === S_ATTR //|| s == S_ATTR_SPACE\n        ) {\n            //equal\n            if (s === S_ATTR) {\n              errorHandler.warning('attribute value must after \"=\"');\n              attrName = source.slice(start, p);\n            }\n\n            start = p + 1;\n            p = source.indexOf(c, start);\n\n            if (p > 0) {\n              value = source.slice(start, p).replace(/&#?\\w+;/g, entityReplacer);\n              el.add(attrName, value, start - 1);\n              s = S_ATTR_END;\n            } else {\n              //fatalError: no end quot match\n              throw new Error('attribute value no end \\'' + c + '\\' match');\n            }\n          } else if (s == S_ATTR_NOQUOT_VALUE) {\n          value = source.slice(start, p).replace(/&#?\\w+;/g, entityReplacer); //console.log(attrName,value,start,p)\n\n          el.add(attrName, value, start); //console.dir(el)\n\n          errorHandler.warning('attribute \"' + attrName + '\" missed start quot(' + c + ')!!');\n          start = p + 1;\n          s = S_ATTR_END;\n        } else {\n          //fatalError: no equal before\n          throw new Error('attribute value must after \"=\"');\n        }\n\n        break;\n\n      case '/':\n        switch (s) {\n          case S_TAG:\n            el.setTagName(source.slice(start, p));\n\n          case S_ATTR_END:\n          case S_TAG_SPACE:\n          case S_TAG_CLOSE:\n            s = S_TAG_CLOSE;\n            el.closed = true;\n\n          case S_ATTR_NOQUOT_VALUE:\n          case S_ATTR:\n          case S_ATTR_SPACE:\n            break;\n          //case S_EQ:\n\n          default:\n            throw new Error(\"attribute invalid close char('/')\");\n        }\n\n        break;\n\n      case '':\n        //end document\n        //throw new Error('unexpected end of input')\n        errorHandler.error('unexpected end of input');\n\n        if (s == S_TAG) {\n          el.setTagName(source.slice(start, p));\n        }\n\n        return p;\n\n      case '>':\n        switch (s) {\n          case S_TAG:\n            el.setTagName(source.slice(start, p));\n\n          case S_ATTR_END:\n          case S_TAG_SPACE:\n          case S_TAG_CLOSE:\n            break;\n          //normal\n\n          case S_ATTR_NOQUOT_VALUE: //Compatible state\n\n          case S_ATTR:\n            value = source.slice(start, p);\n\n            if (value.slice(-1) === '/') {\n              el.closed = true;\n              value = value.slice(0, -1);\n            }\n\n          case S_ATTR_SPACE:\n            if (s === S_ATTR_SPACE) {\n              value = attrName;\n            }\n\n            if (s == S_ATTR_NOQUOT_VALUE) {\n              errorHandler.warning('attribute \"' + value + '\" missed quot(\")!!');\n              el.add(attrName, value.replace(/&#?\\w+;/g, entityReplacer), start);\n            } else {\n              if (currentNSMap[''] !== 'http://www.w3.org/1999/xhtml' || !value.match(/^(?:disabled|checked|selected)$/i)) {\n                errorHandler.warning('attribute \"' + value + '\" missed value!! \"' + value + '\" instead!!');\n              }\n\n              el.add(value, value, start);\n            }\n\n            break;\n\n          case S_EQ:\n            throw new Error('attribute value missed!!');\n        } //\t\t\tconsole.log(tagName,tagNamePattern,tagNamePattern.test(tagName))\n\n\n        return p;\n\n      /*xml space '\\x20' | #x9 | #xD | #xA; */\n\n      case \"\\x80\":\n        c = ' ';\n\n      default:\n        if (c <= ' ') {\n          //space\n          switch (s) {\n            case S_TAG:\n              el.setTagName(source.slice(start, p)); //tagName\n\n              s = S_TAG_SPACE;\n              break;\n\n            case S_ATTR:\n              attrName = source.slice(start, p);\n              s = S_ATTR_SPACE;\n              break;\n\n            case S_ATTR_NOQUOT_VALUE:\n              var value = source.slice(start, p).replace(/&#?\\w+;/g, entityReplacer);\n              errorHandler.warning('attribute \"' + value + '\" missed quot(\")!!');\n              el.add(attrName, value, start);\n\n            case S_ATTR_END:\n              s = S_TAG_SPACE;\n              break;\n            //case S_TAG_SPACE:\n            //case S_EQ:\n            //case S_ATTR_SPACE:\n            //\tvoid();break;\n            //case S_TAG_CLOSE:\n            //ignore warning\n          }\n        } else {\n          //not space\n          //S_TAG,\tS_ATTR,\tS_EQ,\tS_ATTR_NOQUOT_VALUE\n          //S_ATTR_SPACE,\tS_ATTR_END,\tS_TAG_SPACE, S_TAG_CLOSE\n          switch (s) {\n            //case S_TAG:void();break;\n            //case S_ATTR:void();break;\n            //case S_ATTR_NOQUOT_VALUE:void();break;\n            case S_ATTR_SPACE:\n              var tagName = el.tagName;\n\n              if (currentNSMap[''] !== 'http://www.w3.org/1999/xhtml' || !attrName.match(/^(?:disabled|checked|selected)$/i)) {\n                errorHandler.warning('attribute \"' + attrName + '\" missed value!! \"' + attrName + '\" instead2!!');\n              }\n\n              el.add(attrName, attrName, start);\n              start = p;\n              s = S_ATTR;\n              break;\n\n            case S_ATTR_END:\n              errorHandler.warning('attribute space is required\"' + attrName + '\"!!');\n\n            case S_TAG_SPACE:\n              s = S_ATTR;\n              start = p;\n              break;\n\n            case S_EQ:\n              s = S_ATTR_NOQUOT_VALUE;\n              start = p;\n              break;\n\n            case S_TAG_CLOSE:\n              throw new Error(\"elements closed character '/' and '>' must be connected to\");\n          }\n        }\n\n    } //end outer switch\n    //console.log('p++',p)\n\n\n    p++;\n  }\n}\n/**\r\n * @return true if has new namespace define\r\n */\n\n\nfunction appendElement(el, domBuilder, currentNSMap) {\n  var tagName = el.tagName;\n  var localNSMap = null; //var currentNSMap = parseStack[parseStack.length-1].currentNSMap;\n\n  var i = el.length;\n\n  while (i--) {\n    var a = el[i];\n    var qName = a.qName;\n    var value = a.value;\n    var nsp = qName.indexOf(':');\n\n    if (nsp > 0) {\n      var prefix = a.prefix = qName.slice(0, nsp);\n      var localName = qName.slice(nsp + 1);\n      var nsPrefix = prefix === 'xmlns' && localName;\n    } else {\n      localName = qName;\n      prefix = null;\n      nsPrefix = qName === 'xmlns' && '';\n    } //can not set prefix,because prefix !== ''\n\n\n    a.localName = localName; //prefix == null for no ns prefix attribute \n\n    if (nsPrefix !== false) {\n      //hack!!\n      if (localNSMap == null) {\n        localNSMap = {}; //console.log(currentNSMap,0)\n\n        _copy(currentNSMap, currentNSMap = {}); //console.log(currentNSMap,1)\n\n      }\n\n      currentNSMap[nsPrefix] = localNSMap[nsPrefix] = value;\n      a.uri = 'http://www.w3.org/2000/xmlns/';\n      domBuilder.startPrefixMapping(nsPrefix, value);\n    }\n  }\n\n  var i = el.length;\n\n  while (i--) {\n    a = el[i];\n    var prefix = a.prefix;\n\n    if (prefix) {\n      //no prefix attribute has no namespace\n      if (prefix === 'xml') {\n        a.uri = 'http://www.w3.org/XML/1998/namespace';\n      }\n\n      if (prefix !== 'xmlns') {\n        a.uri = currentNSMap[prefix || '']; //{console.log('###'+a.qName,domBuilder.locator.systemId+'',currentNSMap,a.uri)}\n      }\n    }\n  }\n\n  var nsp = tagName.indexOf(':');\n\n  if (nsp > 0) {\n    prefix = el.prefix = tagName.slice(0, nsp);\n    localName = el.localName = tagName.slice(nsp + 1);\n  } else {\n    prefix = null; //important!!\n\n    localName = el.localName = tagName;\n  } //no prefix element has default namespace\n\n\n  var ns = el.uri = currentNSMap[prefix || ''];\n  domBuilder.startElement(ns, localName, tagName, el); //endPrefixMapping and startPrefixMapping have not any help for dom builder\n  //localNSMap = null\n\n  if (el.closed) {\n    domBuilder.endElement(ns, localName, tagName);\n\n    if (localNSMap) {\n      for (prefix in localNSMap) {\n        domBuilder.endPrefixMapping(prefix);\n      }\n    }\n  } else {\n    el.currentNSMap = currentNSMap;\n    el.localNSMap = localNSMap; //parseStack.push(el);\n\n    return true;\n  }\n}\n\nfunction parseHtmlSpecialContent(source, elStartEnd, tagName, entityReplacer, domBuilder) {\n  if (/^(?:script|textarea)$/i.test(tagName)) {\n    var elEndStart = source.indexOf('</' + tagName + '>', elStartEnd);\n    var text = source.substring(elStartEnd + 1, elEndStart);\n\n    if (/[&<]/.test(text)) {\n      if (/^script$/i.test(tagName)) {\n        //if(!/\\]\\]>/.test(text)){\n        //lexHandler.startCDATA();\n        domBuilder.characters(text, 0, text.length); //lexHandler.endCDATA();\n\n        return elEndStart; //}\n      } //}else{//text area\n\n\n      text = text.replace(/&#?\\w+;/g, entityReplacer);\n      domBuilder.characters(text, 0, text.length);\n      return elEndStart; //}\n    }\n  }\n\n  return elStartEnd + 1;\n}\n\nfunction fixSelfClosed(source, elStartEnd, tagName, closeMap) {\n  //if(tagName in closeMap){\n  var pos = closeMap[tagName];\n\n  if (pos == null) {\n    //console.log(tagName)\n    pos = source.lastIndexOf('</' + tagName + '>');\n\n    if (pos < elStartEnd) {\n      //\n      pos = source.lastIndexOf('</' + tagName);\n    }\n\n    closeMap[tagName] = pos;\n  }\n\n  return pos < elStartEnd; //} \n}\n\nfunction _copy(source, target) {\n  for (var n in source) {\n    target[n] = source[n];\n  }\n}\n\nfunction parseDCC(source, start, domBuilder, errorHandler) {\n  //sure start with '<!'\n  var next = source.charAt(start + 2);\n\n  switch (next) {\n    case '-':\n      if (source.charAt(start + 3) === '-') {\n        var end = source.indexOf('-->', start + 4); //append comment source.substring(4,end)//<!--\n\n        if (end > start) {\n          domBuilder.comment(source, start + 4, end - start - 4);\n          return end + 3;\n        } else {\n          errorHandler.error(\"Unclosed comment\");\n          return -1;\n        }\n      } else {\n        //error\n        return -1;\n      }\n\n    default:\n      if (source.substr(start + 3, 6) == 'CDATA[') {\n        var end = source.indexOf(']]>', start + 9);\n        domBuilder.startCDATA();\n        domBuilder.characters(source, start + 9, end - start - 9);\n        domBuilder.endCDATA();\n        return end + 3;\n      } //<!DOCTYPE\n      //startDTD(java.lang.String name, java.lang.String publicId, java.lang.String systemId) \n\n\n      var matchs = split(source, start);\n      var len = matchs.length;\n\n      if (len > 1 && /!doctype/i.test(matchs[0][0])) {\n        var name = matchs[1][0];\n        var pubid = len > 3 && /^public$/i.test(matchs[2][0]) && matchs[3][0];\n        var sysid = len > 4 && matchs[4][0];\n        var lastMatch = matchs[len - 1];\n        domBuilder.startDTD(name, pubid && pubid.replace(/^(['\"])(.*?)\\1$/, '$2'), sysid && sysid.replace(/^(['\"])(.*?)\\1$/, '$2'));\n        domBuilder.endDTD();\n        return lastMatch.index + lastMatch[0].length;\n      }\n\n  }\n\n  return -1;\n}\n\nfunction parseInstruction(source, start, domBuilder) {\n  var end = source.indexOf('?>', start);\n\n  if (end) {\n    var match = source.substring(start, end).match(/^<\\?(\\S*)\\s*([\\s\\S]*?)\\s*$/);\n\n    if (match) {\n      var len = match[0].length;\n      domBuilder.processingInstruction(match[1], match[2]);\n      return end + 2;\n    } else {\n      //error\n      return -1;\n    }\n  }\n\n  return -1;\n}\n/**\r\n * @param source\r\n */\n\n\nfunction ElementAttributes(source) {}\n\nElementAttributes.prototype = {\n  setTagName: function setTagName(tagName) {\n    if (!tagNamePattern.test(tagName)) {\n      throw new Error('invalid tagName:' + tagName);\n    }\n\n    this.tagName = tagName;\n  },\n  add: function add(qName, value, offset) {\n    if (!tagNamePattern.test(qName)) {\n      throw new Error('invalid attribute:' + qName);\n    }\n\n    this[this.length++] = {\n      qName: qName,\n      value: value,\n      offset: offset\n    };\n  },\n  length: 0,\n  getLocalName: function getLocalName(i) {\n    return this[i].localName;\n  },\n  getLocator: function getLocator(i) {\n    return this[i].locator;\n  },\n  getQName: function getQName(i) {\n    return this[i].qName;\n  },\n  getURI: function getURI(i) {\n    return this[i].uri;\n  },\n  getValue: function getValue(i) {\n    return this[i].value;\n  } //\t,getIndex:function(uri, localName)){\n  //\t\tif(localName){\n  //\t\t\t\n  //\t\t}else{\n  //\t\t\tvar qName = uri\n  //\t\t}\n  //\t},\n  //\tgetValue:function(){return this.getValue(this.getIndex.apply(this,arguments))},\n  //\tgetType:function(uri,localName){}\n  //\tgetType:function(i){},\n\n};\n\nfunction _set_proto_(thiz, parent) {\n  thiz.__proto__ = parent;\n  return thiz;\n}\n\nif (!(_set_proto_({}, _set_proto_.prototype) instanceof _set_proto_)) {\n  _set_proto_ = function _set_proto_(thiz, parent) {\n    function p() {}\n\n    ;\n    p.prototype = parent;\n    p = new p();\n\n    for (parent in thiz) {\n      p[parent] = thiz[parent];\n    }\n\n    return p;\n  };\n}\n\nfunction split(source, start) {\n  var match;\n  var buf = [];\n  var reg = /'[^']+'|\"[^\"]+\"|[^\\s<>\\/=]+=?|(\\/?\\s*>|<)/g;\n  reg.lastIndex = start;\n  reg.exec(source); //skip <\n\n  while (match = reg.exec(source)) {\n    buf.push(match);\n    if (match[1]) return buf;\n  }\n}\n\nexports.XMLReader = XMLReader;","/**\n * mux.js\n *\n * Copyright (c) Brightcove\n * Licensed Apache-2.0 https://github.com/videojs/mux.js/blob/master/LICENSE\n *\n * Parse mpeg2 transport stream packets to extract basic timing information\n */\n'use strict';\n\nvar StreamTypes = require('../m2ts/stream-types.js');\n\nvar handleRollover = require('../m2ts/timestamp-rollover-stream.js').handleRollover;\n\nvar probe = {};\nprobe.ts = require('../m2ts/probe.js');\nprobe.aac = require('../aac/utils.js');\n\nvar ONE_SECOND_IN_TS = require('../utils/clock').ONE_SECOND_IN_TS;\n\nvar MP2T_PACKET_LENGTH = 188,\n    // bytes\nSYNC_BYTE = 0x47;\n/**\n * walks through segment data looking for pat and pmt packets to parse out\n * program map table information\n */\n\nvar parsePsi_ = function parsePsi_(bytes, pmt) {\n  var startIndex = 0,\n      endIndex = MP2T_PACKET_LENGTH,\n      packet,\n      type;\n\n  while (endIndex < bytes.byteLength) {\n    // Look for a pair of start and end sync bytes in the data..\n    if (bytes[startIndex] === SYNC_BYTE && bytes[endIndex] === SYNC_BYTE) {\n      // We found a packet\n      packet = bytes.subarray(startIndex, endIndex);\n      type = probe.ts.parseType(packet, pmt.pid);\n\n      switch (type) {\n        case 'pat':\n          if (!pmt.pid) {\n            pmt.pid = probe.ts.parsePat(packet);\n          }\n\n          break;\n\n        case 'pmt':\n          if (!pmt.table) {\n            pmt.table = probe.ts.parsePmt(packet);\n          }\n\n          break;\n\n        default:\n          break;\n      } // Found the pat and pmt, we can stop walking the segment\n\n\n      if (pmt.pid && pmt.table) {\n        return;\n      }\n\n      startIndex += MP2T_PACKET_LENGTH;\n      endIndex += MP2T_PACKET_LENGTH;\n      continue;\n    } // If we get here, we have somehow become de-synchronized and we need to step\n    // forward one byte at a time until we find a pair of sync bytes that denote\n    // a packet\n\n\n    startIndex++;\n    endIndex++;\n  }\n};\n/**\n * walks through the segment data from the start and end to get timing information\n * for the first and last audio pes packets\n */\n\n\nvar parseAudioPes_ = function parseAudioPes_(bytes, pmt, result) {\n  var startIndex = 0,\n      endIndex = MP2T_PACKET_LENGTH,\n      packet,\n      type,\n      pesType,\n      pusi,\n      parsed;\n  var endLoop = false; // Start walking from start of segment to get first audio packet\n\n  while (endIndex <= bytes.byteLength) {\n    // Look for a pair of start and end sync bytes in the data..\n    if (bytes[startIndex] === SYNC_BYTE && (bytes[endIndex] === SYNC_BYTE || endIndex === bytes.byteLength)) {\n      // We found a packet\n      packet = bytes.subarray(startIndex, endIndex);\n      type = probe.ts.parseType(packet, pmt.pid);\n\n      switch (type) {\n        case 'pes':\n          pesType = probe.ts.parsePesType(packet, pmt.table);\n          pusi = probe.ts.parsePayloadUnitStartIndicator(packet);\n\n          if (pesType === 'audio' && pusi) {\n            parsed = probe.ts.parsePesTime(packet);\n\n            if (parsed) {\n              parsed.type = 'audio';\n              result.audio.push(parsed);\n              endLoop = true;\n            }\n          }\n\n          break;\n\n        default:\n          break;\n      }\n\n      if (endLoop) {\n        break;\n      }\n\n      startIndex += MP2T_PACKET_LENGTH;\n      endIndex += MP2T_PACKET_LENGTH;\n      continue;\n    } // If we get here, we have somehow become de-synchronized and we need to step\n    // forward one byte at a time until we find a pair of sync bytes that denote\n    // a packet\n\n\n    startIndex++;\n    endIndex++;\n  } // Start walking from end of segment to get last audio packet\n\n\n  endIndex = bytes.byteLength;\n  startIndex = endIndex - MP2T_PACKET_LENGTH;\n  endLoop = false;\n\n  while (startIndex >= 0) {\n    // Look for a pair of start and end sync bytes in the data..\n    if (bytes[startIndex] === SYNC_BYTE && (bytes[endIndex] === SYNC_BYTE || endIndex === bytes.byteLength)) {\n      // We found a packet\n      packet = bytes.subarray(startIndex, endIndex);\n      type = probe.ts.parseType(packet, pmt.pid);\n\n      switch (type) {\n        case 'pes':\n          pesType = probe.ts.parsePesType(packet, pmt.table);\n          pusi = probe.ts.parsePayloadUnitStartIndicator(packet);\n\n          if (pesType === 'audio' && pusi) {\n            parsed = probe.ts.parsePesTime(packet);\n\n            if (parsed) {\n              parsed.type = 'audio';\n              result.audio.push(parsed);\n              endLoop = true;\n            }\n          }\n\n          break;\n\n        default:\n          break;\n      }\n\n      if (endLoop) {\n        break;\n      }\n\n      startIndex -= MP2T_PACKET_LENGTH;\n      endIndex -= MP2T_PACKET_LENGTH;\n      continue;\n    } // If we get here, we have somehow become de-synchronized and we need to step\n    // forward one byte at a time until we find a pair of sync bytes that denote\n    // a packet\n\n\n    startIndex--;\n    endIndex--;\n  }\n};\n/**\n * walks through the segment data from the start and end to get timing information\n * for the first and last video pes packets as well as timing information for the first\n * key frame.\n */\n\n\nvar parseVideoPes_ = function parseVideoPes_(bytes, pmt, result) {\n  var startIndex = 0,\n      endIndex = MP2T_PACKET_LENGTH,\n      packet,\n      type,\n      pesType,\n      pusi,\n      parsed,\n      frame,\n      i,\n      pes;\n  var endLoop = false;\n  var currentFrame = {\n    data: [],\n    size: 0\n  }; // Start walking from start of segment to get first video packet\n\n  while (endIndex < bytes.byteLength) {\n    // Look for a pair of start and end sync bytes in the data..\n    if (bytes[startIndex] === SYNC_BYTE && bytes[endIndex] === SYNC_BYTE) {\n      // We found a packet\n      packet = bytes.subarray(startIndex, endIndex);\n      type = probe.ts.parseType(packet, pmt.pid);\n\n      switch (type) {\n        case 'pes':\n          pesType = probe.ts.parsePesType(packet, pmt.table);\n          pusi = probe.ts.parsePayloadUnitStartIndicator(packet);\n\n          if (pesType === 'video') {\n            if (pusi && !endLoop) {\n              parsed = probe.ts.parsePesTime(packet);\n\n              if (parsed) {\n                parsed.type = 'video';\n                result.video.push(parsed);\n                endLoop = true;\n              }\n            }\n\n            if (!result.firstKeyFrame) {\n              if (pusi) {\n                if (currentFrame.size !== 0) {\n                  frame = new Uint8Array(currentFrame.size);\n                  i = 0;\n\n                  while (currentFrame.data.length) {\n                    pes = currentFrame.data.shift();\n                    frame.set(pes, i);\n                    i += pes.byteLength;\n                  }\n\n                  if (probe.ts.videoPacketContainsKeyFrame(frame)) {\n                    var firstKeyFrame = probe.ts.parsePesTime(frame); // PTS/DTS may not be available. Simply *not* setting\n                    // the keyframe seems to work fine with HLS playback\n                    // and definitely preferable to a crash with TypeError...\n\n                    if (firstKeyFrame) {\n                      result.firstKeyFrame = firstKeyFrame;\n                      result.firstKeyFrame.type = 'video';\n                    } else {\n                      // eslint-disable-next-line\n                      console.warn('Failed to extract PTS/DTS from PES at first keyframe. ' + 'This could be an unusual TS segment, or else mux.js did not ' + 'parse your TS segment correctly. If you know your TS ' + 'segments do contain PTS/DTS on keyframes please file a bug ' + 'report! You can try ffprobe to double check for yourself.');\n                    }\n                  }\n\n                  currentFrame.size = 0;\n                }\n              }\n\n              currentFrame.data.push(packet);\n              currentFrame.size += packet.byteLength;\n            }\n          }\n\n          break;\n\n        default:\n          break;\n      }\n\n      if (endLoop && result.firstKeyFrame) {\n        break;\n      }\n\n      startIndex += MP2T_PACKET_LENGTH;\n      endIndex += MP2T_PACKET_LENGTH;\n      continue;\n    } // If we get here, we have somehow become de-synchronized and we need to step\n    // forward one byte at a time until we find a pair of sync bytes that denote\n    // a packet\n\n\n    startIndex++;\n    endIndex++;\n  } // Start walking from end of segment to get last video packet\n\n\n  endIndex = bytes.byteLength;\n  startIndex = endIndex - MP2T_PACKET_LENGTH;\n  endLoop = false;\n\n  while (startIndex >= 0) {\n    // Look for a pair of start and end sync bytes in the data..\n    if (bytes[startIndex] === SYNC_BYTE && bytes[endIndex] === SYNC_BYTE) {\n      // We found a packet\n      packet = bytes.subarray(startIndex, endIndex);\n      type = probe.ts.parseType(packet, pmt.pid);\n\n      switch (type) {\n        case 'pes':\n          pesType = probe.ts.parsePesType(packet, pmt.table);\n          pusi = probe.ts.parsePayloadUnitStartIndicator(packet);\n\n          if (pesType === 'video' && pusi) {\n            parsed = probe.ts.parsePesTime(packet);\n\n            if (parsed) {\n              parsed.type = 'video';\n              result.video.push(parsed);\n              endLoop = true;\n            }\n          }\n\n          break;\n\n        default:\n          break;\n      }\n\n      if (endLoop) {\n        break;\n      }\n\n      startIndex -= MP2T_PACKET_LENGTH;\n      endIndex -= MP2T_PACKET_LENGTH;\n      continue;\n    } // If we get here, we have somehow become de-synchronized and we need to step\n    // forward one byte at a time until we find a pair of sync bytes that denote\n    // a packet\n\n\n    startIndex--;\n    endIndex--;\n  }\n};\n/**\n * Adjusts the timestamp information for the segment to account for\n * rollover and convert to seconds based on pes packet timescale (90khz clock)\n */\n\n\nvar adjustTimestamp_ = function adjustTimestamp_(segmentInfo, baseTimestamp) {\n  if (segmentInfo.audio && segmentInfo.audio.length) {\n    var audioBaseTimestamp = baseTimestamp;\n\n    if (typeof audioBaseTimestamp === 'undefined') {\n      audioBaseTimestamp = segmentInfo.audio[0].dts;\n    }\n\n    segmentInfo.audio.forEach(function (info) {\n      info.dts = handleRollover(info.dts, audioBaseTimestamp);\n      info.pts = handleRollover(info.pts, audioBaseTimestamp); // time in seconds\n\n      info.dtsTime = info.dts / ONE_SECOND_IN_TS;\n      info.ptsTime = info.pts / ONE_SECOND_IN_TS;\n    });\n  }\n\n  if (segmentInfo.video && segmentInfo.video.length) {\n    var videoBaseTimestamp = baseTimestamp;\n\n    if (typeof videoBaseTimestamp === 'undefined') {\n      videoBaseTimestamp = segmentInfo.video[0].dts;\n    }\n\n    segmentInfo.video.forEach(function (info) {\n      info.dts = handleRollover(info.dts, videoBaseTimestamp);\n      info.pts = handleRollover(info.pts, videoBaseTimestamp); // time in seconds\n\n      info.dtsTime = info.dts / ONE_SECOND_IN_TS;\n      info.ptsTime = info.pts / ONE_SECOND_IN_TS;\n    });\n\n    if (segmentInfo.firstKeyFrame) {\n      var frame = segmentInfo.firstKeyFrame;\n      frame.dts = handleRollover(frame.dts, videoBaseTimestamp);\n      frame.pts = handleRollover(frame.pts, videoBaseTimestamp); // time in seconds\n\n      frame.dtsTime = frame.dts / ONE_SECOND_IN_TS;\n      frame.ptsTime = frame.dts / ONE_SECOND_IN_TS;\n    }\n  }\n};\n/**\n * inspects the aac data stream for start and end time information\n */\n\n\nvar inspectAac_ = function inspectAac_(bytes) {\n  var endLoop = false,\n      audioCount = 0,\n      sampleRate = null,\n      timestamp = null,\n      frameSize = 0,\n      byteIndex = 0,\n      packet;\n\n  while (bytes.length - byteIndex >= 3) {\n    var type = probe.aac.parseType(bytes, byteIndex);\n\n    switch (type) {\n      case 'timed-metadata':\n        // Exit early because we don't have enough to parse\n        // the ID3 tag header\n        if (bytes.length - byteIndex < 10) {\n          endLoop = true;\n          break;\n        }\n\n        frameSize = probe.aac.parseId3TagSize(bytes, byteIndex); // Exit early if we don't have enough in the buffer\n        // to emit a full packet\n\n        if (frameSize > bytes.length) {\n          endLoop = true;\n          break;\n        }\n\n        if (timestamp === null) {\n          packet = bytes.subarray(byteIndex, byteIndex + frameSize);\n          timestamp = probe.aac.parseAacTimestamp(packet);\n        }\n\n        byteIndex += frameSize;\n        break;\n\n      case 'audio':\n        // Exit early because we don't have enough to parse\n        // the ADTS frame header\n        if (bytes.length - byteIndex < 7) {\n          endLoop = true;\n          break;\n        }\n\n        frameSize = probe.aac.parseAdtsSize(bytes, byteIndex); // Exit early if we don't have enough in the buffer\n        // to emit a full packet\n\n        if (frameSize > bytes.length) {\n          endLoop = true;\n          break;\n        }\n\n        if (sampleRate === null) {\n          packet = bytes.subarray(byteIndex, byteIndex + frameSize);\n          sampleRate = probe.aac.parseSampleRate(packet);\n        }\n\n        audioCount++;\n        byteIndex += frameSize;\n        break;\n\n      default:\n        byteIndex++;\n        break;\n    }\n\n    if (endLoop) {\n      return null;\n    }\n  }\n\n  if (sampleRate === null || timestamp === null) {\n    return null;\n  }\n\n  var audioTimescale = ONE_SECOND_IN_TS / sampleRate;\n  var result = {\n    audio: [{\n      type: 'audio',\n      dts: timestamp,\n      pts: timestamp\n    }, {\n      type: 'audio',\n      dts: timestamp + audioCount * 1024 * audioTimescale,\n      pts: timestamp + audioCount * 1024 * audioTimescale\n    }]\n  };\n  return result;\n};\n/**\n * inspects the transport stream segment data for start and end time information\n * of the audio and video tracks (when present) as well as the first key frame's\n * start time.\n */\n\n\nvar inspectTs_ = function inspectTs_(bytes) {\n  var pmt = {\n    pid: null,\n    table: null\n  };\n  var result = {};\n  parsePsi_(bytes, pmt);\n\n  for (var pid in pmt.table) {\n    if (pmt.table.hasOwnProperty(pid)) {\n      var type = pmt.table[pid];\n\n      switch (type) {\n        case StreamTypes.H264_STREAM_TYPE:\n          result.video = [];\n          parseVideoPes_(bytes, pmt, result);\n\n          if (result.video.length === 0) {\n            delete result.video;\n          }\n\n          break;\n\n        case StreamTypes.ADTS_STREAM_TYPE:\n          result.audio = [];\n          parseAudioPes_(bytes, pmt, result);\n\n          if (result.audio.length === 0) {\n            delete result.audio;\n          }\n\n          break;\n\n        default:\n          break;\n      }\n    }\n  }\n\n  return result;\n};\n/**\n * Inspects segment byte data and returns an object with start and end timing information\n *\n * @param {Uint8Array} bytes The segment byte data\n * @param {Number} baseTimestamp Relative reference timestamp used when adjusting frame\n *  timestamps for rollover. This value must be in 90khz clock.\n * @return {Object} Object containing start and end frame timing info of segment.\n */\n\n\nvar inspect = function inspect(bytes, baseTimestamp) {\n  var isAacData = probe.aac.isLikelyAacData(bytes);\n  var result;\n\n  if (isAacData) {\n    result = inspectAac_(bytes);\n  } else {\n    result = inspectTs_(bytes);\n  }\n\n  if (!result || !result.audio && !result.video) {\n    return null;\n  }\n\n  adjustTimestamp_(result, baseTimestamp);\n  return result;\n};\n\nmodule.exports = {\n  inspect: inspect,\n  parseAudioPes_: parseAudioPes_\n};","/**\n * mux.js\n *\n * Copyright (c) Brightcove\n * Licensed Apache-2.0 https://github.com/videojs/mux.js/blob/master/LICENSE\n *\n * Reads in-band caption information from a video elementary\n * stream. Captions must follow the CEA-708 standard for injection\n * into an MPEG-2 transport streams.\n * @see https://en.wikipedia.org/wiki/CEA-708\n * @see https://www.gpo.gov/fdsys/pkg/CFR-2007-title47-vol1/pdf/CFR-2007-title47-vol1-sec15-119.pdf\n */\n'use strict'; // Supplemental enhancement information (SEI) NAL units have a\n// payload type field to indicate how they are to be\n// interpreted. CEAS-708 caption content is always transmitted with\n// payload type 0x04.\n\nvar USER_DATA_REGISTERED_ITU_T_T35 = 4,\n    RBSP_TRAILING_BITS = 128;\n/**\n  * Parse a supplemental enhancement information (SEI) NAL unit.\n  * Stops parsing once a message of type ITU T T35 has been found.\n  *\n  * @param bytes {Uint8Array} the bytes of a SEI NAL unit\n  * @return {object} the parsed SEI payload\n  * @see Rec. ITU-T H.264, 7.3.2.3.1\n  */\n\nvar parseSei = function parseSei(bytes) {\n  var i = 0,\n      result = {\n    payloadType: -1,\n    payloadSize: 0\n  },\n      payloadType = 0,\n      payloadSize = 0; // go through the sei_rbsp parsing each each individual sei_message\n\n  while (i < bytes.byteLength) {\n    // stop once we have hit the end of the sei_rbsp\n    if (bytes[i] === RBSP_TRAILING_BITS) {\n      break;\n    } // Parse payload type\n\n\n    while (bytes[i] === 0xFF) {\n      payloadType += 255;\n      i++;\n    }\n\n    payloadType += bytes[i++]; // Parse payload size\n\n    while (bytes[i] === 0xFF) {\n      payloadSize += 255;\n      i++;\n    }\n\n    payloadSize += bytes[i++]; // this sei_message is a 608/708 caption so save it and break\n    // there can only ever be one caption message in a frame's sei\n\n    if (!result.payload && payloadType === USER_DATA_REGISTERED_ITU_T_T35) {\n      result.payloadType = payloadType;\n      result.payloadSize = payloadSize;\n      result.payload = bytes.subarray(i, i + payloadSize);\n      break;\n    } // skip the payload and parse the next message\n\n\n    i += payloadSize;\n    payloadType = 0;\n    payloadSize = 0;\n  }\n\n  return result;\n}; // see ANSI/SCTE 128-1 (2013), section 8.1\n\n\nvar parseUserData = function parseUserData(sei) {\n  // itu_t_t35_contry_code must be 181 (United States) for\n  // captions\n  if (sei.payload[0] !== 181) {\n    return null;\n  } // itu_t_t35_provider_code should be 49 (ATSC) for captions\n\n\n  if ((sei.payload[1] << 8 | sei.payload[2]) !== 49) {\n    return null;\n  } // the user_identifier should be \"GA94\" to indicate ATSC1 data\n\n\n  if (String.fromCharCode(sei.payload[3], sei.payload[4], sei.payload[5], sei.payload[6]) !== 'GA94') {\n    return null;\n  } // finally, user_data_type_code should be 0x03 for caption data\n\n\n  if (sei.payload[7] !== 0x03) {\n    return null;\n  } // return the user_data_type_structure and strip the trailing\n  // marker bits\n\n\n  return sei.payload.subarray(8, sei.payload.length - 1);\n}; // see CEA-708-D, section 4.4\n\n\nvar parseCaptionPackets = function parseCaptionPackets(pts, userData) {\n  var results = [],\n      i,\n      count,\n      offset,\n      data; // if this is just filler, return immediately\n\n  if (!(userData[0] & 0x40)) {\n    return results;\n  } // parse out the cc_data_1 and cc_data_2 fields\n\n\n  count = userData[0] & 0x1f;\n\n  for (i = 0; i < count; i++) {\n    offset = i * 3;\n    data = {\n      type: userData[offset + 2] & 0x03,\n      pts: pts\n    }; // capture cc data when cc_valid is 1\n\n    if (userData[offset + 2] & 0x04) {\n      data.ccData = userData[offset + 3] << 8 | userData[offset + 4];\n      results.push(data);\n    }\n  }\n\n  return results;\n};\n\nvar discardEmulationPreventionBytes = function discardEmulationPreventionBytes(data) {\n  var length = data.byteLength,\n      emulationPreventionBytesPositions = [],\n      i = 1,\n      newLength,\n      newData; // Find all `Emulation Prevention Bytes`\n\n  while (i < length - 2) {\n    if (data[i] === 0 && data[i + 1] === 0 && data[i + 2] === 0x03) {\n      emulationPreventionBytesPositions.push(i + 2);\n      i += 2;\n    } else {\n      i++;\n    }\n  } // If no Emulation Prevention Bytes were found just return the original\n  // array\n\n\n  if (emulationPreventionBytesPositions.length === 0) {\n    return data;\n  } // Create a new array to hold the NAL unit data\n\n\n  newLength = length - emulationPreventionBytesPositions.length;\n  newData = new Uint8Array(newLength);\n  var sourceIndex = 0;\n\n  for (i = 0; i < newLength; sourceIndex++, i++) {\n    if (sourceIndex === emulationPreventionBytesPositions[0]) {\n      // Skip this byte\n      sourceIndex++; // Remove this position index\n\n      emulationPreventionBytesPositions.shift();\n    }\n\n    newData[i] = data[sourceIndex];\n  }\n\n  return newData;\n}; // exports\n\n\nmodule.exports = {\n  parseSei: parseSei,\n  parseUserData: parseUserData,\n  parseCaptionPackets: parseCaptionPackets,\n  discardEmulationPreventionBytes: discardEmulationPreventionBytes,\n  USER_DATA_REGISTERED_ITU_T_T35: USER_DATA_REGISTERED_ITU_T_T35\n};","// Source: http://jsfiddle.net/vWx8V/\n// http://stackoverflow.com/questions/5603195/full-list-of-javascript-keycodes\n\n/**\n * Conenience method returns corresponding value for given keyName or keyCode.\n *\n * @param {Mixed} keyCode {Number} or keyName {String}\n * @return {Mixed}\n * @api public\n */\nfunction keyCode(searchInput) {\n  // Keyboard Events\n  if (searchInput && 'object' === typeof searchInput) {\n    var hasKeyCode = searchInput.which || searchInput.keyCode || searchInput.charCode;\n    if (hasKeyCode) searchInput = hasKeyCode;\n  } // Numbers\n\n\n  if ('number' === typeof searchInput) return names[searchInput]; // Everything else (cast to string)\n\n  var search = String(searchInput); // check codes\n\n  var foundNamedKey = codes[search.toLowerCase()];\n  if (foundNamedKey) return foundNamedKey; // check aliases\n\n  var foundNamedKey = aliases[search.toLowerCase()];\n  if (foundNamedKey) return foundNamedKey; // weird character?\n\n  if (search.length === 1) return search.charCodeAt(0);\n  return undefined;\n}\n/**\n * Compares a keyboard event with a given keyCode or keyName.\n *\n * @param {Event} event Keyboard event that should be tested\n * @param {Mixed} keyCode {Number} or keyName {String}\n * @return {Boolean}\n * @api public\n */\n\n\nkeyCode.isEventKey = function isEventKey(event, nameOrCode) {\n  if (event && 'object' === typeof event) {\n    var keyCode = event.which || event.keyCode || event.charCode;\n\n    if (keyCode === null || keyCode === undefined) {\n      return false;\n    }\n\n    if (typeof nameOrCode === 'string') {\n      // check codes\n      var foundNamedKey = codes[nameOrCode.toLowerCase()];\n\n      if (foundNamedKey) {\n        return foundNamedKey === keyCode;\n      } // check aliases\n\n\n      var foundNamedKey = aliases[nameOrCode.toLowerCase()];\n\n      if (foundNamedKey) {\n        return foundNamedKey === keyCode;\n      }\n    } else if (typeof nameOrCode === 'number') {\n      return nameOrCode === keyCode;\n    }\n\n    return false;\n  }\n};\n\nexports = module.exports = keyCode;\n/**\n * Get by name\n *\n *   exports.code['enter'] // => 13\n */\n\nvar codes = exports.code = exports.codes = {\n  'backspace': 8,\n  'tab': 9,\n  'enter': 13,\n  'shift': 16,\n  'ctrl': 17,\n  'alt': 18,\n  'pause/break': 19,\n  'caps lock': 20,\n  'esc': 27,\n  'space': 32,\n  'page up': 33,\n  'page down': 34,\n  'end': 35,\n  'home': 36,\n  'left': 37,\n  'up': 38,\n  'right': 39,\n  'down': 40,\n  'insert': 45,\n  'delete': 46,\n  'command': 91,\n  'left command': 91,\n  'right command': 93,\n  'numpad *': 106,\n  'numpad +': 107,\n  'numpad -': 109,\n  'numpad .': 110,\n  'numpad /': 111,\n  'num lock': 144,\n  'scroll lock': 145,\n  'my computer': 182,\n  'my calculator': 183,\n  ';': 186,\n  '=': 187,\n  ',': 188,\n  '-': 189,\n  '.': 190,\n  '/': 191,\n  '`': 192,\n  '[': 219,\n  '\\\\': 220,\n  ']': 221,\n  \"'\": 222\n}; // Helper aliases\n\nvar aliases = exports.aliases = {\n  'windows': 91,\n  '': 16,\n  '': 18,\n  '': 17,\n  '': 91,\n  'ctl': 17,\n  'control': 17,\n  'option': 18,\n  'pause': 19,\n  'break': 19,\n  'caps': 20,\n  'return': 13,\n  'escape': 27,\n  'spc': 32,\n  'spacebar': 32,\n  'pgup': 33,\n  'pgdn': 34,\n  'ins': 45,\n  'del': 46,\n  'cmd': 91\n};\n/*!\n * Programatically add the following\n */\n// lower case chars\n\nfor (i = 97; i < 123; i++) {\n  codes[String.fromCharCode(i)] = i - 32;\n} // numbers\n\n\nfor (var i = 48; i < 58; i++) {\n  codes[i - 48] = i;\n} // function keys\n\n\nfor (i = 1; i < 13; i++) {\n  codes['f' + i] = i + 111;\n} // numpad keys\n\n\nfor (i = 0; i < 10; i++) {\n  codes['numpad ' + i] = i + 96;\n}\n/**\n * Get by code\n *\n *   exports.name[13] // => 'Enter'\n */\n\n\nvar names = exports.names = exports.title = {}; // title for backward compat\n// Create reverse mapping\n\nfor (i in codes) {\n  names[codes[i]] = i;\n} // Add aliases\n\n\nfor (var alias in aliases) {\n  codes[alias] = aliases[alias];\n}","var setPrototypeOf = require(\"./setPrototypeOf\");\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) setPrototypeOf(subClass, superClass);\n}\n\nmodule.exports = _inherits;","var topLevel = typeof global !== 'undefined' ? global : typeof window !== 'undefined' ? window : {};\n\nvar minDoc = require('min-document');\n\nvar doccy;\n\nif (typeof document !== 'undefined') {\n  doccy = document;\n} else {\n  doccy = topLevel['__GLOBAL_DOCUMENT_CACHE@4'];\n\n  if (!doccy) {\n    doccy = topLevel['__GLOBAL_DOCUMENT_CACHE@4'] = minDoc;\n  }\n}\n\nmodule.exports = doccy;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _innerSlider = require(\"./inner-slider\");\n\nvar _json2mq = _interopRequireDefault(require(\"json2mq\"));\n\nvar _defaultProps = _interopRequireDefault(require(\"./default-props\"));\n\nvar _innerSliderUtils = require(\"./utils/innerSliderUtils\");\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    \"default\": obj\n  };\n}\n\nfunction _typeof(obj) {\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(source, true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(source).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return _assertThisInitialized(self);\n}\n\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) _setPrototypeOf(subClass, superClass);\n}\n\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nvar enquire = (0, _innerSliderUtils.canUseDOM)() && require(\"enquire.js\");\n\nvar Slider = /*#__PURE__*/function (_React$Component) {\n  _inherits(Slider, _React$Component);\n\n  function Slider(props) {\n    var _this;\n\n    _classCallCheck(this, Slider);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Slider).call(this, props));\n\n    _defineProperty(_assertThisInitialized(_this), \"innerSliderRefHandler\", function (ref) {\n      return _this.innerSlider = ref;\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"slickPrev\", function () {\n      return _this.innerSlider.slickPrev();\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"slickNext\", function () {\n      return _this.innerSlider.slickNext();\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"slickGoTo\", function (slide) {\n      var dontAnimate = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n      return _this.innerSlider.slickGoTo(slide, dontAnimate);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"slickPause\", function () {\n      return _this.innerSlider.pause(\"paused\");\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"slickPlay\", function () {\n      return _this.innerSlider.autoPlay(\"play\");\n    });\n\n    _this.state = {\n      breakpoint: null\n    };\n    _this._responsiveMediaHandlers = [];\n    return _this;\n  }\n\n  _createClass(Slider, [{\n    key: \"media\",\n    value: function media(query, handler) {\n      // javascript handler for  css media query\n      enquire.register(query, handler);\n\n      this._responsiveMediaHandlers.push({\n        query: query,\n        handler: handler\n      });\n    } // handles responsive breakpoints\n\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this; // performance monitoring\n      //if (process.env.NODE_ENV !== 'production') {\n      //const { whyDidYouUpdate } = require('why-did-you-update')\n      //whyDidYouUpdate(React)\n      //}\n\n\n      if (this.props.responsive) {\n        var breakpoints = this.props.responsive.map(function (breakpt) {\n          return breakpt.breakpoint;\n        }); // sort them in increasing order of their numerical value\n\n        breakpoints.sort(function (x, y) {\n          return x - y;\n        });\n        breakpoints.forEach(function (breakpoint, index) {\n          // media query for each breakpoint\n          var bQuery;\n\n          if (index === 0) {\n            bQuery = (0, _json2mq[\"default\"])({\n              minWidth: 0,\n              maxWidth: breakpoint\n            });\n          } else {\n            bQuery = (0, _json2mq[\"default\"])({\n              minWidth: breakpoints[index - 1] + 1,\n              maxWidth: breakpoint\n            });\n          } // when not using server side rendering\n\n\n          (0, _innerSliderUtils.canUseDOM)() && _this2.media(bQuery, function () {\n            _this2.setState({\n              breakpoint: breakpoint\n            });\n          });\n        }); // Register media query for full screen. Need to support resize from small to large\n        // convert javascript object to media query string\n\n        var query = (0, _json2mq[\"default\"])({\n          minWidth: breakpoints.slice(-1)[0]\n        });\n        (0, _innerSliderUtils.canUseDOM)() && this.media(query, function () {\n          _this2.setState({\n            breakpoint: null\n          });\n        });\n      }\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      this._responsiveMediaHandlers.forEach(function (obj) {\n        enquire.unregister(obj.query, obj.handler);\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      var settings;\n      var newProps;\n\n      if (this.state.breakpoint) {\n        newProps = this.props.responsive.filter(function (resp) {\n          return resp.breakpoint === _this3.state.breakpoint;\n        });\n        settings = newProps[0].settings === \"unslick\" ? \"unslick\" : _objectSpread({}, _defaultProps[\"default\"], {}, this.props, {}, newProps[0].settings);\n      } else {\n        settings = _objectSpread({}, _defaultProps[\"default\"], {}, this.props);\n      } // force scrolling by one if centerMode is on\n\n\n      if (settings.centerMode) {\n        if (settings.slidesToScroll > 1 && process.env.NODE_ENV !== \"production\") {\n          console.warn(\"slidesToScroll should be equal to 1 in centerMode, you are using \".concat(settings.slidesToScroll));\n        }\n\n        settings.slidesToScroll = 1;\n      } // force showing one slide and scrolling by one if the fade mode is on\n\n\n      if (settings.fade) {\n        if (settings.slidesToShow > 1 && process.env.NODE_ENV !== \"production\") {\n          console.warn(\"slidesToShow should be equal to 1 when fade is true, you're using \".concat(settings.slidesToShow));\n        }\n\n        if (settings.slidesToScroll > 1 && process.env.NODE_ENV !== \"production\") {\n          console.warn(\"slidesToScroll should be equal to 1 when fade is true, you're using \".concat(settings.slidesToScroll));\n        }\n\n        settings.slidesToShow = 1;\n        settings.slidesToScroll = 1;\n      } // makes sure that children is an array, even when there is only 1 child\n\n\n      var children = _react[\"default\"].Children.toArray(this.props.children); // Children may contain false or null, so we should filter them\n      // children may also contain string filled with spaces (in certain cases where we use jsx strings)\n\n\n      children = children.filter(function (child) {\n        if (typeof child === \"string\") {\n          return !!child.trim();\n        }\n\n        return !!child;\n      }); // rows and slidesPerRow logic is handled here\n\n      if (settings.variableWidth && (settings.rows > 1 || settings.slidesPerRow > 1)) {\n        console.warn(\"variableWidth is not supported in case of rows > 1 or slidesPerRow > 1\");\n        settings.variableWidth = false;\n      }\n\n      var newChildren = [];\n      var currentWidth = null;\n\n      for (var i = 0; i < children.length; i += settings.rows * settings.slidesPerRow) {\n        var newSlide = [];\n\n        for (var j = i; j < i + settings.rows * settings.slidesPerRow; j += settings.slidesPerRow) {\n          var row = [];\n\n          for (var k = j; k < j + settings.slidesPerRow; k += 1) {\n            if (settings.variableWidth && children[k].props.style) {\n              currentWidth = children[k].props.style.width;\n            }\n\n            if (k >= children.length) break;\n            row.push(_react[\"default\"].cloneElement(children[k], {\n              key: 100 * i + 10 * j + k,\n              tabIndex: -1,\n              style: {\n                width: \"\".concat(100 / settings.slidesPerRow, \"%\"),\n                display: \"inline-block\"\n              }\n            }));\n          }\n\n          newSlide.push(_react[\"default\"].createElement(\"div\", {\n            key: 10 * i + j\n          }, row));\n        }\n\n        if (settings.variableWidth) {\n          newChildren.push(_react[\"default\"].createElement(\"div\", {\n            key: i,\n            style: {\n              width: currentWidth\n            }\n          }, newSlide));\n        } else {\n          newChildren.push(_react[\"default\"].createElement(\"div\", {\n            key: i\n          }, newSlide));\n        }\n      }\n\n      if (settings === \"unslick\") {\n        var className = \"regular slider \" + (this.props.className || \"\");\n        return _react[\"default\"].createElement(\"div\", {\n          className: className\n        }, children);\n      } else if (newChildren.length <= settings.slidesToShow) {\n        settings.unslick = true;\n      }\n\n      return _react[\"default\"].createElement(_innerSlider.InnerSlider, _extends({\n        style: this.props.style,\n        ref: this.innerSliderRefHandler\n      }, settings), newChildren);\n    }\n  }]);\n\n  return Slider;\n}(_react[\"default\"].Component);\n\nexports[\"default\"] = Slider;","/**\n * lodash (Custom Build) <https://lodash.com/>\n * Build: `lodash modularize exports=\"npm\" -o ./`\n * Copyright jQuery Foundation and other contributors <https://jquery.org/>\n * Released under MIT license <https://lodash.com/license>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n */\n\n/** Used as the `TypeError` message for \"Functions\" methods. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n/** Used as references for various `Number` constants. */\n\nvar NAN = 0 / 0;\n/** `Object#toString` result references. */\n\nvar symbolTag = '[object Symbol]';\n/** Used to match leading and trailing whitespace. */\n\nvar reTrim = /^\\s+|\\s+$/g;\n/** Used to detect bad signed hexadecimal string values. */\n\nvar reIsBadHex = /^[-+]0x[0-9a-f]+$/i;\n/** Used to detect binary string values. */\n\nvar reIsBinary = /^0b[01]+$/i;\n/** Used to detect octal string values. */\n\nvar reIsOctal = /^0o[0-7]+$/i;\n/** Built-in method references without a dependency on `root`. */\n\nvar freeParseInt = parseInt;\n/** Detect free variable `global` from Node.js. */\n\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n/** Detect free variable `self`. */\n\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n/** Used as a reference to the global object. */\n\nvar root = freeGlobal || freeSelf || Function('return this')();\n/** Used for built-in method references. */\n\nvar objectProto = Object.prototype;\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\n\nvar objectToString = objectProto.toString;\n/* Built-in method references for those with the same name as other `lodash` methods. */\n\nvar nativeMax = Math.max,\n    nativeMin = Math.min;\n/**\n * Gets the timestamp of the number of milliseconds that have elapsed since\n * the Unix epoch (1 January 1970 00:00:00 UTC).\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Date\n * @returns {number} Returns the timestamp.\n * @example\n *\n * _.defer(function(stamp) {\n *   console.log(_.now() - stamp);\n * }, _.now());\n * // => Logs the number of milliseconds it took for the deferred invocation.\n */\n\nvar now = function now() {\n  return root.Date.now();\n};\n/**\n * Creates a debounced function that delays invoking `func` until after `wait`\n * milliseconds have elapsed since the last time the debounced function was\n * invoked. The debounced function comes with a `cancel` method to cancel\n * delayed `func` invocations and a `flush` method to immediately invoke them.\n * Provide `options` to indicate whether `func` should be invoked on the\n * leading and/or trailing edge of the `wait` timeout. The `func` is invoked\n * with the last arguments provided to the debounced function. Subsequent\n * calls to the debounced function return the result of the last `func`\n * invocation.\n *\n * **Note:** If `leading` and `trailing` options are `true`, `func` is\n * invoked on the trailing edge of the timeout only if the debounced function\n * is invoked more than once during the `wait` timeout.\n *\n * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n *\n * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n * for details over the differences between `_.debounce` and `_.throttle`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to debounce.\n * @param {number} [wait=0] The number of milliseconds to delay.\n * @param {Object} [options={}] The options object.\n * @param {boolean} [options.leading=false]\n *  Specify invoking on the leading edge of the timeout.\n * @param {number} [options.maxWait]\n *  The maximum time `func` is allowed to be delayed before it's invoked.\n * @param {boolean} [options.trailing=true]\n *  Specify invoking on the trailing edge of the timeout.\n * @returns {Function} Returns the new debounced function.\n * @example\n *\n * // Avoid costly calculations while the window size is in flux.\n * jQuery(window).on('resize', _.debounce(calculateLayout, 150));\n *\n * // Invoke `sendMail` when clicked, debouncing subsequent calls.\n * jQuery(element).on('click', _.debounce(sendMail, 300, {\n *   'leading': true,\n *   'trailing': false\n * }));\n *\n * // Ensure `batchLog` is invoked once after 1 second of debounced calls.\n * var debounced = _.debounce(batchLog, 250, { 'maxWait': 1000 });\n * var source = new EventSource('/stream');\n * jQuery(source).on('message', debounced);\n *\n * // Cancel the trailing debounced invocation.\n * jQuery(window).on('popstate', debounced.cancel);\n */\n\n\nfunction debounce(func, wait, options) {\n  var lastArgs,\n      lastThis,\n      maxWait,\n      result,\n      timerId,\n      lastCallTime,\n      lastInvokeTime = 0,\n      leading = false,\n      maxing = false,\n      trailing = true;\n\n  if (typeof func != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n\n  wait = toNumber(wait) || 0;\n\n  if (isObject(options)) {\n    leading = !!options.leading;\n    maxing = 'maxWait' in options;\n    maxWait = maxing ? nativeMax(toNumber(options.maxWait) || 0, wait) : maxWait;\n    trailing = 'trailing' in options ? !!options.trailing : trailing;\n  }\n\n  function invokeFunc(time) {\n    var args = lastArgs,\n        thisArg = lastThis;\n    lastArgs = lastThis = undefined;\n    lastInvokeTime = time;\n    result = func.apply(thisArg, args);\n    return result;\n  }\n\n  function leadingEdge(time) {\n    // Reset any `maxWait` timer.\n    lastInvokeTime = time; // Start the timer for the trailing edge.\n\n    timerId = setTimeout(timerExpired, wait); // Invoke the leading edge.\n\n    return leading ? invokeFunc(time) : result;\n  }\n\n  function remainingWait(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime,\n        result = wait - timeSinceLastCall;\n    return maxing ? nativeMin(result, maxWait - timeSinceLastInvoke) : result;\n  }\n\n  function shouldInvoke(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime; // Either this is the first call, activity has stopped and we're at the\n    // trailing edge, the system time has gone backwards and we're treating\n    // it as the trailing edge, or we've hit the `maxWait` limit.\n\n    return lastCallTime === undefined || timeSinceLastCall >= wait || timeSinceLastCall < 0 || maxing && timeSinceLastInvoke >= maxWait;\n  }\n\n  function timerExpired() {\n    var time = now();\n\n    if (shouldInvoke(time)) {\n      return trailingEdge(time);\n    } // Restart the timer.\n\n\n    timerId = setTimeout(timerExpired, remainingWait(time));\n  }\n\n  function trailingEdge(time) {\n    timerId = undefined; // Only invoke if we have `lastArgs` which means `func` has been\n    // debounced at least once.\n\n    if (trailing && lastArgs) {\n      return invokeFunc(time);\n    }\n\n    lastArgs = lastThis = undefined;\n    return result;\n  }\n\n  function cancel() {\n    if (timerId !== undefined) {\n      clearTimeout(timerId);\n    }\n\n    lastInvokeTime = 0;\n    lastArgs = lastCallTime = lastThis = timerId = undefined;\n  }\n\n  function flush() {\n    return timerId === undefined ? result : trailingEdge(now());\n  }\n\n  function debounced() {\n    var time = now(),\n        isInvoking = shouldInvoke(time);\n    lastArgs = arguments;\n    lastThis = this;\n    lastCallTime = time;\n\n    if (isInvoking) {\n      if (timerId === undefined) {\n        return leadingEdge(lastCallTime);\n      }\n\n      if (maxing) {\n        // Handle invocations in a tight loop.\n        timerId = setTimeout(timerExpired, wait);\n        return invokeFunc(lastCallTime);\n      }\n    }\n\n    if (timerId === undefined) {\n      timerId = setTimeout(timerExpired, wait);\n    }\n\n    return result;\n  }\n\n  debounced.cancel = cancel;\n  debounced.flush = flush;\n  return debounced;\n}\n/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\n\n\nfunction isObject(value) {\n  var type = typeof value;\n  return !!value && (type == 'object' || type == 'function');\n}\n/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\n\n\nfunction isObjectLike(value) {\n  return !!value && typeof value == 'object';\n}\n/**\n * Checks if `value` is classified as a `Symbol` primitive or object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.\n * @example\n *\n * _.isSymbol(Symbol.iterator);\n * // => true\n *\n * _.isSymbol('abc');\n * // => false\n */\n\n\nfunction isSymbol(value) {\n  return typeof value == 'symbol' || isObjectLike(value) && objectToString.call(value) == symbolTag;\n}\n/**\n * Converts `value` to a number.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to process.\n * @returns {number} Returns the number.\n * @example\n *\n * _.toNumber(3.2);\n * // => 3.2\n *\n * _.toNumber(Number.MIN_VALUE);\n * // => 5e-324\n *\n * _.toNumber(Infinity);\n * // => Infinity\n *\n * _.toNumber('3.2');\n * // => 3.2\n */\n\n\nfunction toNumber(value) {\n  if (typeof value == 'number') {\n    return value;\n  }\n\n  if (isSymbol(value)) {\n    return NAN;\n  }\n\n  if (isObject(value)) {\n    var other = typeof value.valueOf == 'function' ? value.valueOf() : value;\n    value = isObject(other) ? other + '' : other;\n  }\n\n  if (typeof value != 'string') {\n    return value === 0 ? value : +value;\n  }\n\n  value = value.replace(reTrim, '');\n  var isBinary = reIsBinary.test(value);\n  return isBinary || reIsOctal.test(value) ? freeParseInt(value.slice(2), isBinary ? 2 : 8) : reIsBadHex.test(value) ? NAN : +value;\n}\n\nmodule.exports = debounce;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    \"default\": obj\n  };\n}\n\nvar defaultProps = {\n  accessibility: true,\n  adaptiveHeight: false,\n  afterChange: null,\n  appendDots: function appendDots(dots) {\n    return _react[\"default\"].createElement(\"ul\", {\n      style: {\n        display: \"block\"\n      }\n    }, dots);\n  },\n  arrows: true,\n  autoplay: false,\n  autoplaySpeed: 3000,\n  beforeChange: null,\n  centerMode: false,\n  centerPadding: \"50px\",\n  className: \"\",\n  cssEase: \"ease\",\n  customPaging: function customPaging(i) {\n    return _react[\"default\"].createElement(\"button\", null, i + 1);\n  },\n  dots: false,\n  dotsClass: \"slick-dots\",\n  draggable: true,\n  easing: \"linear\",\n  edgeFriction: 0.35,\n  fade: false,\n  focusOnSelect: false,\n  infinite: true,\n  initialSlide: 0,\n  lazyLoad: null,\n  nextArrow: null,\n  onEdge: null,\n  onInit: null,\n  onLazyLoadError: null,\n  onReInit: null,\n  pauseOnDotsHover: false,\n  pauseOnFocus: false,\n  pauseOnHover: true,\n  prevArrow: null,\n  responsive: null,\n  rows: 1,\n  rtl: false,\n  slide: \"div\",\n  slidesPerRow: 1,\n  slidesToScroll: 1,\n  slidesToShow: 1,\n  speed: 500,\n  swipe: true,\n  swipeEvent: null,\n  swipeToSlide: false,\n  touchMove: true,\n  touchThreshold: 5,\n  useCSS: true,\n  useTransform: true,\n  variableWidth: false,\n  vertical: false,\n  waitForAnimate: true\n};\nvar _default = defaultProps;\nexports[\"default\"] = _default;","\"use strict\";\n\nvar window = require(\"global/window\");\n\nvar _extends = require(\"@babel/runtime/helpers/extends\");\n\nvar isFunction = require('is-function');\n/**\n * @license\n * slighly modified parse-headers 2.0.2 <https://github.com/kesla/parse-headers/>\n * Copyright (c) 2014 David Bjrklund\n * Available under the MIT license\n * <https://github.com/kesla/parse-headers/blob/master/LICENCE>\n */\n\n\nvar parseHeaders = function parseHeaders(headers) {\n  var result = {};\n\n  if (!headers) {\n    return result;\n  }\n\n  headers.trim().split('\\n').forEach(function (row) {\n    var index = row.indexOf(':');\n    var key = row.slice(0, index).trim().toLowerCase();\n    var value = row.slice(index + 1).trim();\n\n    if (typeof result[key] === 'undefined') {\n      result[key] = value;\n    } else if (Array.isArray(result[key])) {\n      result[key].push(value);\n    } else {\n      result[key] = [result[key], value];\n    }\n  });\n  return result;\n};\n\nmodule.exports = createXHR; // Allow use of default import syntax in TypeScript\n\nmodule.exports.default = createXHR;\ncreateXHR.XMLHttpRequest = window.XMLHttpRequest || noop;\ncreateXHR.XDomainRequest = \"withCredentials\" in new createXHR.XMLHttpRequest() ? createXHR.XMLHttpRequest : window.XDomainRequest;\nforEachArray([\"get\", \"put\", \"post\", \"patch\", \"head\", \"delete\"], function (method) {\n  createXHR[method === \"delete\" ? \"del\" : method] = function (uri, options, callback) {\n    options = initParams(uri, options, callback);\n    options.method = method.toUpperCase();\n    return _createXHR(options);\n  };\n});\n\nfunction forEachArray(array, iterator) {\n  for (var i = 0; i < array.length; i++) {\n    iterator(array[i]);\n  }\n}\n\nfunction isEmpty(obj) {\n  for (var i in obj) {\n    if (obj.hasOwnProperty(i)) return false;\n  }\n\n  return true;\n}\n\nfunction initParams(uri, options, callback) {\n  var params = uri;\n\n  if (isFunction(options)) {\n    callback = options;\n\n    if (typeof uri === \"string\") {\n      params = {\n        uri: uri\n      };\n    }\n  } else {\n    params = _extends({}, options, {\n      uri: uri\n    });\n  }\n\n  params.callback = callback;\n  return params;\n}\n\nfunction createXHR(uri, options, callback) {\n  options = initParams(uri, options, callback);\n  return _createXHR(options);\n}\n\nfunction _createXHR(options) {\n  if (typeof options.callback === \"undefined\") {\n    throw new Error(\"callback argument missing\");\n  }\n\n  var called = false;\n\n  var callback = function cbOnce(err, response, body) {\n    if (!called) {\n      called = true;\n      options.callback(err, response, body);\n    }\n  };\n\n  function readystatechange() {\n    if (xhr.readyState === 4) {\n      setTimeout(loadFunc, 0);\n    }\n  }\n\n  function getBody() {\n    // Chrome with requestType=blob throws errors arround when even testing access to responseText\n    var body = undefined;\n\n    if (xhr.response) {\n      body = xhr.response;\n    } else {\n      body = xhr.responseText || getXml(xhr);\n    }\n\n    if (isJson) {\n      try {\n        body = JSON.parse(body);\n      } catch (e) {}\n    }\n\n    return body;\n  }\n\n  function errorFunc(evt) {\n    clearTimeout(timeoutTimer);\n\n    if (!(evt instanceof Error)) {\n      evt = new Error(\"\" + (evt || \"Unknown XMLHttpRequest Error\"));\n    }\n\n    evt.statusCode = 0;\n    return callback(evt, failureResponse);\n  } // will load the data & process the response in a special response object\n\n\n  function loadFunc() {\n    if (aborted) return;\n    var status;\n    clearTimeout(timeoutTimer);\n\n    if (options.useXDR && xhr.status === undefined) {\n      //IE8 CORS GET successful response doesn't have a status field, but body is fine\n      status = 200;\n    } else {\n      status = xhr.status === 1223 ? 204 : xhr.status;\n    }\n\n    var response = failureResponse;\n    var err = null;\n\n    if (status !== 0) {\n      response = {\n        body: getBody(),\n        statusCode: status,\n        method: method,\n        headers: {},\n        url: uri,\n        rawRequest: xhr\n      };\n\n      if (xhr.getAllResponseHeaders) {\n        //remember xhr can in fact be XDR for CORS in IE\n        response.headers = parseHeaders(xhr.getAllResponseHeaders());\n      }\n    } else {\n      err = new Error(\"Internal XMLHttpRequest Error\");\n    }\n\n    return callback(err, response, response.body);\n  }\n\n  var xhr = options.xhr || null;\n\n  if (!xhr) {\n    if (options.cors || options.useXDR) {\n      xhr = new createXHR.XDomainRequest();\n    } else {\n      xhr = new createXHR.XMLHttpRequest();\n    }\n  }\n\n  var key;\n  var aborted;\n  var uri = xhr.url = options.uri || options.url;\n  var method = xhr.method = options.method || \"GET\";\n  var body = options.body || options.data;\n  var headers = xhr.headers = options.headers || {};\n  var sync = !!options.sync;\n  var isJson = false;\n  var timeoutTimer;\n  var failureResponse = {\n    body: undefined,\n    headers: {},\n    statusCode: 0,\n    method: method,\n    url: uri,\n    rawRequest: xhr\n  };\n\n  if (\"json\" in options && options.json !== false) {\n    isJson = true;\n    headers[\"accept\"] || headers[\"Accept\"] || (headers[\"Accept\"] = \"application/json\"); //Don't override existing accept header declared by user\n\n    if (method !== \"GET\" && method !== \"HEAD\") {\n      headers[\"content-type\"] || headers[\"Content-Type\"] || (headers[\"Content-Type\"] = \"application/json\"); //Don't override existing accept header declared by user\n\n      body = JSON.stringify(options.json === true ? body : options.json);\n    }\n  }\n\n  xhr.onreadystatechange = readystatechange;\n  xhr.onload = loadFunc;\n  xhr.onerror = errorFunc; // IE9 must have onprogress be set to a unique function.\n\n  xhr.onprogress = function () {// IE must die\n  };\n\n  xhr.onabort = function () {\n    aborted = true;\n  };\n\n  xhr.ontimeout = errorFunc;\n  xhr.open(method, uri, !sync, options.username, options.password); //has to be after open\n\n  if (!sync) {\n    xhr.withCredentials = !!options.withCredentials;\n  } // Cannot set timeout with sync request\n  // not setting timeout on the xhr object, because of old webkits etc. not handling that correctly\n  // both npm's request and jquery 1.x use this kind of timeout, so this is being consistent\n\n\n  if (!sync && options.timeout > 0) {\n    timeoutTimer = setTimeout(function () {\n      if (aborted) return;\n      aborted = true; //IE9 may still call readystatechange\n\n      xhr.abort(\"timeout\");\n      var e = new Error(\"XMLHttpRequest timeout\");\n      e.code = \"ETIMEDOUT\";\n      errorFunc(e);\n    }, options.timeout);\n  }\n\n  if (xhr.setRequestHeader) {\n    for (key in headers) {\n      if (headers.hasOwnProperty(key)) {\n        xhr.setRequestHeader(key, headers[key]);\n      }\n    }\n  } else if (options.headers && !isEmpty(options.headers)) {\n    throw new Error(\"Headers cannot be set on an XDomainRequest object\");\n  }\n\n  if (\"responseType\" in options) {\n    xhr.responseType = options.responseType;\n  }\n\n  if (\"beforeSend\" in options && typeof options.beforeSend === \"function\") {\n    options.beforeSend(xhr);\n  } // Microsoft Edge browser sends \"undefined\" when send is called with undefined value.\n  // XMLHttpRequest spec says to pass null as body to indicate no body\n  // See https://github.com/naugtur/xhr/issues/100.\n\n\n  xhr.send(body || null);\n  return xhr;\n}\n\nfunction getXml(xhr) {\n  // xhr.responseXML will throw Exception \"InvalidStateError\" or \"DOMException\"\n  // See https://developer.mozilla.org/en-US/docs/Web/API/XMLHttpRequest/responseXML.\n  try {\n    if (xhr.responseType === \"document\") {\n      return xhr.responseXML;\n    }\n\n    var firefoxBugTakenEffect = xhr.responseXML && xhr.responseXML.documentElement.nodeName === \"parsererror\";\n\n    if (xhr.responseType === \"\" && !firefoxBugTakenEffect) {\n      return xhr.responseXML;\n    }\n  } catch (e) {}\n\n  return null;\n}\n\nfunction noop() {}","var camel2hyphen = function camel2hyphen(str) {\n  return str.replace(/[A-Z]/g, function (match) {\n    return '-' + match.toLowerCase();\n  }).toLowerCase();\n};\n\nmodule.exports = camel2hyphen;","module.exports = \"data:image/svg+xml;base64,PHN2ZyBpZD0iZTA5NTgxNjktNjFjZS00OWM5LThmMmEtNWUzYTgxZmM1MGU4IiBkYXRhLW5hbWU9IkxheWVyIDEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgd2lkdGg9Ijg4Ni4zNTEyNSIgaGVpZ2h0PSI0OTEuNjMxMTQiIHZpZXdCb3g9IjAgMCA4ODYuMzUxMjUgNDkxLjYzMTE0Ij48dGl0bGU+bmF2aWdhdG9yPC90aXRsZT48Y2lyY2xlIGN4PSIyMzIuMzk1ODkiIGN5PSIxMDMuMjQ2MzUiIHI9IjUwLjc2MjY3IiBmaWxsPSIjZmY2NTg0Ii8+PHBhdGggZD0iTTU0OC40MDYzMyw0NjMuODYyNjlIMjk5LjM3OTg5YTUuMDc5NDEsNS4wNzk0MSwwLDAsMS0uOTMwNTktLjA3MzczTDQxNi4yMjczNSwyNTkuNzgwNDRhOC4yNDY0OSw4LjI0NjQ5LDAsMCwxLDE0LjM1NDg3LDBMNTA5LjYyNjA3LDM5Ni42ODZsMy43ODY4NSw2LjU1MDk0WiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTE1Ni44MjQzNyAtMjA0LjE4NDQzKSIgZmlsbD0iIzNmM2Q1NiIvPjxwb2x5Z29uIHBvaW50cz0iMzkxLjU4MiAyNTkuNjc4IDMwNi41NTggMjU5LjY3OCAzNDguMjk2IDE5OS4wNTIgMzUxLjMgMTk0LjY4NSAzNTIuODAyIDE5Mi41MDIgMzU2LjU4OSAxOTkuMDUyIDM5MS41ODIgMjU5LjY3OCIgb3BhY2l0eT0iMC4yIi8+PHBhdGggZD0iTTY4Ny4wNjI0Nyw0NjMuODYyNjlINDcxLjY3NTA2bDQxLjczNzg2LTYwLjYyNTc4LDMuMDAzNi00LjM2NzMxLDU0LjM4ODE4LTc5LjAwN2MzLjU2NTY3LTUuMTc4MDcsMTIuMTQzNTctNS41MDA1MiwxNi4zMzU3Ny0uOTc2NjVhOS44Mjk5NCw5LjgyOTk0LDAsMCwxLC43ODMyLjk3NjY1WiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTE1Ni44MjQzNyAtMjA0LjE4NDQzKSIgZmlsbD0iIzNmM2Q1NiIvPjxjaXJjbGUgY3g9IjU5My40NjMzMiIgY3k9IjIxMC44MTk4MiIgcj0iMTUuMjk2NDkiIGZpbGw9IiM0MzQzNDMiLz48cG9seWdvbiBwb2ludHM9IjU5NC45MzggMjU2Ljg5NCA1OTEuODA1IDI1Ni44OTQgNTkzLjIzMyAyMDguNTE2IDU5NC45MzggMjU2Ljg5NCIgZmlsbD0iIzNmM2Q1NiIvPjxwb2x5Z29uIHBvaW50cz0iNTkzLjUwOSAyMTcuNjg1IDU5Ni44NzMgMjEzLjAzMSA1OTMuNDYzIDIxOC44MzcgNTkzLjA5NSAyMTguMTkyIDU5My41MDkgMjE3LjY4NSIgZmlsbD0iIzNmM2Q1NiIvPjxwb2x5Z29uIHBvaW50cz0iNTkzLjE0MSAyMjIuMzg0IDU4OS43NzcgMjE3LjczMSA1OTMuMTg3IDIyMy41MzYgNTkzLjU1NSAyMjIuODkxIDU5My4xNDEgMjIyLjM4NCIgZmlsbD0iIzNmM2Q1NiIvPjxjaXJjbGUgY3g9IjczMy43ODAwNSIgY3k9IjIxMC44MTk4MiIgcj0iMTUuMjk2NDkiIGZpbGw9IiM0MzQzNDMiLz48cG9seWdvbiBwb2ludHM9IjczNS4yNTQgMjU2Ljg5NCA3MzIuMTIxIDI1Ni44OTQgNzMzLjU1IDIwOC41MTYgNzM1LjI1NCAyNTYuODk0IiBmaWxsPSIjM2YzZDU2Ii8+PHBvbHlnb24gcG9pbnRzPSI3MzMuODI2IDIxNy42ODUgNzM3LjE5IDIxMy4wMzEgNzMzLjc4IDIxOC44MzcgNzMzLjQxMSAyMTguMTkyIDczMy44MjYgMjE3LjY4NSIgZmlsbD0iIzNmM2Q1NiIvPjxwb2x5Z29uIHBvaW50cz0iNzMzLjQ1OCAyMjIuMzg0IDczMC4wOTQgMjE3LjczMSA3MzMuNTA0IDIyMy41MzYgNzMzLjg3MiAyMjIuODkxIDczMy40NTggMjIyLjM4NCIgZmlsbD0iIzNmM2Q1NiIvPjxjaXJjbGUgY3g9IjYzNy43NzQ1NSIgY3k9IjE4OC44NDY0NiIgcj0iMjIuNTkxNjQiIGZpbGw9IiM0MzQzNDMiLz48cG9seWdvbiBwb2ludHM9IjYzOS45NTIgMjU2Ljg5NCA2MzUuMzI1IDI1Ni44OTQgNjM3LjQzNCAxODUuNDQ0IDYzOS45NTIgMjU2Ljg5NCIgZmlsbD0iIzNmM2Q1NiIvPjxwb2x5Z29uIHBvaW50cz0iNjM3Ljg0MyAxOTguOTg1IDY0Mi44MSAxOTIuMTEzIDYzNy43NzUgMjAwLjY4NyA2MzcuMjMgMTk5LjczNCA2MzcuODQzIDE5OC45ODUiIGZpbGw9IiMzZjNkNTYiLz48cG9seWdvbiBwb2ludHM9IjYzNy4yOTggMjA1LjkyNiA2MzIuMzMxIDE5OS4wNTQgNjM3LjM2NiAyMDcuNjI3IDYzNy45MTEgMjA2LjY3NSA2MzcuMjk4IDIwNS45MjYiIGZpbGw9IiMzZjNkNTYiLz48Y2lyY2xlIGN4PSI2OTIuODY4MjMiIGN5PSIxODguODQ2NDYiIHI9IjIyLjU5MTY0IiBmaWxsPSIjNDM0MzQzIi8+PHBvbHlnb24gcG9pbnRzPSI2OTUuMDQ2IDI1Ni44OTQgNjkwLjQxOSAyNTYuODk0IDY5Mi41MjggMTg1LjQ0NCA2OTUuMDQ2IDI1Ni44OTQiIGZpbGw9IiMzZjNkNTYiLz48cG9seWdvbiBwb2ludHM9IjY5Mi45MzYgMTk4Ljk4NSA2OTcuOTA0IDE5Mi4xMTMgNjkyLjg2OCAyMDAuNjg3IDY5Mi4zMjQgMTk5LjczNCA2OTIuOTM2IDE5OC45ODUiIGZpbGw9IiMzZjNkNTYiLz48cG9seWdvbiBwb2ludHM9IjY5Mi4zOTIgMjA1LjkyNiA2ODcuNDI0IDE5OS4wNTQgNjkyLjQ2IDIwNy42MjcgNjkzLjAwNCAyMDYuNjc1IDY5Mi4zOTIgMjA1LjkyNiIgZmlsbD0iIzNmM2Q1NiIvPjxjaXJjbGUgY3g9IjU0OS45Njg5OSIgY3k9IjE4OC44NDY0NiIgcj0iMjIuNTkxNjQiIGZpbGw9IiM0MzQzNDMiLz48cG9seWdvbiBwb2ludHM9IjU1Mi4xNDYgMjU2Ljg5NCA1NDcuNTE5IDI1Ni44OTQgNTQ5LjYyOSAxODUuNDQ0IDU1Mi4xNDYgMjU2Ljg5NCIgZmlsbD0iIzNmM2Q1NiIvPjxwb2x5Z29uIHBvaW50cz0iNTUwLjAzNyAxOTguOTg1IDU1NS4wMDQgMTkyLjExMyA1NDkuOTY5IDIwMC42ODcgNTQ5LjQyNSAxOTkuNzM0IDU1MC4wMzcgMTk4Ljk4NSIgZmlsbD0iIzNmM2Q1NiIvPjxwb2x5Z29uIHBvaW50cz0iNTQ5LjQ5MyAyMDUuOTI2IDU0NC41MjUgMTk5LjA1NCA1NDkuNTYxIDIwNy42MjcgNTUwLjEwNSAyMDYuNjc1IDU0OS40OTMgMjA1LjkyNiIgZmlsbD0iIzNmM2Q1NiIvPjxwYXRoIGQ9Ik05NzQuMDc0LDY5NS44MTU1N0gyMzYuODA4MTlhNzAuNzM0LDcwLjczNCwwLDEsMSwwLTE0MS40NjhIOTcyLjQ0MTY0YTI3LjIwNTM4LDI3LjIwNTM4LDAsMCwwLDAtNTQuNDEwNzZIMjEyLjMyMzM1di00My41Mjg2SDk3Mi40NDE2NGE3MC43MzQsNzAuNzM0LDAsMSwxLDAsMTQxLjQ2OEgyMzYuODA4MTlhMjcuMjA1MzgsMjcuMjA1MzgsMCwxLDAsMCw1NC40MTA3Nkg5NzQuMDc0WiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTE1Ni44MjQzNyAtMjA0LjE4NDQzKSIgZmlsbD0iI2U2ZTZlNiIvPjxyZWN0IHg9IjgyLjcwNDM1IiB5PSIyNzIuODk5OSIgd2lkdGg9IjMzLjczNDY3IiBoZWlnaHQ9IjIuMTc2NDMiIGZpbGw9IiNmZmYiLz48cmVjdCB4PSIxNzguNDY3MjkiIHk9IjI3Mi44OTk5IiB3aWR0aD0iMzMuNzM0NjciIGhlaWdodD0iMi4xNzY0MyIgZmlsbD0iI2ZmZiIvPjxyZWN0IHg9IjI3NC4yMzAyMiIgeT0iMjcyLjg5OTkiIHdpZHRoPSIzMy43MzQ2NyIgaGVpZ2h0PSIyLjE3NjQzIiBmaWxsPSIjZmZmIi8+PHJlY3QgeD0iMzY5Ljk5MzE2IiB5PSIyNzIuODk5OSIgd2lkdGg9IjMzLjczNDY3IiBoZWlnaHQ9IjIuMTc2NDMiIGZpbGw9IiNmZmYiLz48cmVjdCB4PSI0NjUuNzU2MDkiIHk9IjI3Mi44OTk5IiB3aWR0aD0iMzMuNzM0NjciIGhlaWdodD0iMi4xNzY0MyIgZmlsbD0iI2ZmZiIvPjxyZWN0IHg9IjU2MS41MTkwMyIgeT0iMjcyLjg5OTkiIHdpZHRoPSIzMy43MzQ2NyIgaGVpZ2h0PSIyLjE3NjQzIiBmaWxsPSIjZmZmIi8+PHJlY3QgeD0iNjU3LjI4MTk2IiB5PSIyNzIuODk5OSIgd2lkdGg9IjMzLjczNDY3IiBoZWlnaHQ9IjIuMTc2NDMiIGZpbGw9IiNmZmYiLz48cmVjdCB4PSI3NTMuMDQ0ODkiIHk9IjI3Mi44OTk5IiB3aWR0aD0iMzMuNzM0NjciIGhlaWdodD0iMi4xNzY0MyIgZmlsbD0iI2ZmZiIvPjxyZWN0IHg9IjgyLjcwNDM1IiB5PSIzNzAuODM5MjYiIHdpZHRoPSIzMy43MzQ2NyIgaGVpZ2h0PSIyLjE3NjQzIiBmaWxsPSIjZmZmIi8+PHJlY3QgeD0iMTc4LjQ2NzI5IiB5PSIzNzAuODM5MjYiIHdpZHRoPSIzMy43MzQ2NyIgaGVpZ2h0PSIyLjE3NjQzIiBmaWxsPSIjZmZmIi8+PHJlY3QgeD0iMjc0LjIzMDIyIiB5PSIzNzAuODM5MjYiIHdpZHRoPSIzMy43MzQ2NyIgaGVpZ2h0PSIyLjE3NjQzIiBmaWxsPSIjZmZmIi8+PHJlY3QgeD0iMzY5Ljk5MzE2IiB5PSIzNzAuODM5MjYiIHdpZHRoPSIzMy43MzQ2NyIgaGVpZ2h0PSIyLjE3NjQzIiBmaWxsPSIjZmZmIi8+PHJlY3QgeD0iNDY1Ljc1NjA5IiB5PSIzNzAuODM5MjYiIHdpZHRoPSIzMy43MzQ2NyIgaGVpZ2h0PSIyLjE3NjQzIiBmaWxsPSIjZmZmIi8+PHJlY3QgeD0iNTYxLjUxOTAzIiB5PSIzNzAuODM5MjYiIHdpZHRoPSIzMy43MzQ2NyIgaGVpZ2h0PSIyLjE3NjQzIiBmaWxsPSIjZmZmIi8+PHJlY3QgeD0iNjU3LjI4MTk2IiB5PSIzNzAuODM5MjYiIHdpZHRoPSIzMy43MzQ2NyIgaGVpZ2h0PSIyLjE3NjQzIiBmaWxsPSIjZmZmIi8+PHJlY3QgeD0iNzUzLjA0NDg5IiB5PSIzNzAuODM5MjYiIHdpZHRoPSIzMy43MzQ2NyIgaGVpZ2h0PSIyLjE3NjQzIiBmaWxsPSIjZmZmIi8+PHJlY3QgeD0iODIuNzA0MzUiIHk9IjQ2OC43Nzg2MyIgd2lkdGg9IjMzLjczNDY3IiBoZWlnaHQ9IjIuMTc2NDMiIGZpbGw9IiNmZmYiLz48cmVjdCB4PSIxNzguNDY3MjkiIHk9IjQ2OC43Nzg2MyIgd2lkdGg9IjMzLjczNDY3IiBoZWlnaHQ9IjIuMTc2NDMiIGZpbGw9IiNmZmYiLz48cmVjdCB4PSIyNzQuMjMwMjIiIHk9IjQ2OC43Nzg2MyIgd2lkdGg9IjMzLjczNDY3IiBoZWlnaHQ9IjIuMTc2NDMiIGZpbGw9IiNmZmYiLz48cmVjdCB4PSIzNjkuOTkzMTYiIHk9IjQ2OC43Nzg2MyIgd2lkdGg9IjMzLjczNDY3IiBoZWlnaHQ9IjIuMTc2NDMiIGZpbGw9IiNmZmYiLz48cmVjdCB4PSI0NjUuNzU2MDkiIHk9IjQ2OC43Nzg2MyIgd2lkdGg9IjMzLjczNDY3IiBoZWlnaHQ9IjIuMTc2NDMiIGZpbGw9IiNmZmYiLz48cmVjdCB4PSI1NjEuNTE5MDMiIHk9IjQ2OC43Nzg2MyIgd2lkdGg9IjMzLjczNDY3IiBoZWlnaHQ9IjIuMTc2NDMiIGZpbGw9IiNmZmYiLz48cmVjdCB4PSI2NTcuMjgxOTYiIHk9IjQ2OC43Nzg2MyIgd2lkdGg9IjMzLjczNDY3IiBoZWlnaHQ9IjIuMTc2NDMiIGZpbGw9IiNmZmYiLz48cmVjdCB4PSI3NTMuMDQ0ODkiIHk9IjQ2OC43Nzg2MyIgd2lkdGg9IjMzLjczNDY3IiBoZWlnaHQ9IjIuMTc2NDMiIGZpbGw9IiNmZmYiLz48cGF0aCBkPSJNNzMyLjAxMDE2LDI5OC44Nzk0N2EyOC45OTE5MSwyOC45OTE5MSwwLDAsMC02LjA0NTA3LTUuNzAzNTFoMTIuNjIzNzlBMjEuMTE0MTIsMjEuMTE0MTIsMCwwLDAsNzMyLjAxMDE2LDI5OC44Nzk0N1oiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0xNTYuODI0MzcgLTIwNC4xODQ0MykiIGZpbGw9Im5vbmUiLz48cGF0aCBkPSJNNjkwLjc0MzI1LDI5My4xNzZoMi4xNzYxNmMtLjQ2NzUyLjMyODQ1LS45MzY0OC42NTUzOS0xLjM4MzA3LDEuMDEwMzZDNjkxLjI4MTQ1LDI5My44NDE4MSw2OTEuMDA5MzIsMjkzLjUxMTM2LDY5MC43NDMyNSwyOTMuMTc2WiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTE1Ni44MjQzNyAtMjA0LjE4NDQzKSIgZmlsbD0ibm9uZSIvPjxwYXRoIGQ9Ik03NDguNjkyMDgsMjkwLjU1ODU2YTIwLjgzMjkyLDIwLjgzMjkyLDAsMCwxLDEwLjEyOTI0LDIuNjE3NEg3MzguNTg4ODhBMjAuNzQxODgsMjAuNzQxODgsMCwwLDEsNzQ4LjY5MjA4LDI5MC41NTg1NloiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0xNTYuODI0MzcgLTIwNC4xODQ0MykiIGZpbGw9IiNlNmU2ZTYiLz48cGF0aCBkPSJNNzA5LjQzMTExLDI4Ny45NDExN2EyOC42MjMsMjguNjIzLDAsMCwxLDE2LjUzNCw1LjIzNDc5SDY5Mi45MTk0MUEyOC42MTYzNywyOC42MTYzNywwLDAsMSw3MDkuNDMxMTEsMjg3Ljk0MTE3WiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTE1Ni44MjQzNyAtMjA0LjE4NDQzKSIgZmlsbD0iI2U2ZTZlNiIvPjxwYXRoIGQ9Ik00ODcuMDM2MDYsMjU0LjgwNzQ0YTUzLjY1NjE1LDUzLjY1NjE1LDAsMCwxLDEwNS4yNzQzMS0xMS4zMTI2Yy42NS0uMDIzMzIsMS4yOTk1MS0uMDQ5NDQsMS45NTUyMi0uMDQ5NDRhNTMuNjY5MDksNTMuNjY5MDksMCwwLDEsNTEuNDgyMTgsMzguNTM4MzNBMzcuOTIwMzYsMzcuOTIwMzYsMCwwLDEsNjkwLjc0MzI1LDI5My4xNzZoLTE2Ny4zNzJhMzYuMjkzMjMsMzYuMjkzMjMsMCwwLDEtMzYuMzczMTMtMzcuNTc3MThRNDg3LjAxNDIyLDI1NS4yMDM3LDQ4Ny4wMzYwNiwyNTQuODA3NDRaIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMTU2LjgyNDM3IC0yMDQuMTg0NDMpIiBmaWxsPSIjZTZlNmU2Ii8+PHBhdGggZD0iTTc3Ny41ODcwNSwzMzguMDU1MjJhMjguOTkyMTQsMjguOTkyMTQsMCwwLDEsNi4wNDUwNy01LjcwMzUxSDc3MS4wMDgzM0EyMS4xMTM4OCwyMS4xMTM4OCwwLDAsMSw3NzcuNTg3MDUsMzM4LjA1NTIyWiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTE1Ni44MjQzNyAtMjA0LjE4NDQzKSIgZmlsbD0ibm9uZSIvPjxwYXRoIGQ9Ik04MTguODU0LDMzMi4zNTE3MWgtMi4xNzYxNmMuNDY3NTIuMzI4NDUuOTM2NDcuNjU1MzksMS4zODMwNiwxLjAxMDM2QzgxOC4zMTU3NiwzMzMuMDE3NTYsODE4LjU4NzksMzMyLjY4NzExLDgxOC44NTQsMzMyLjM1MTcxWiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTE1Ni44MjQzNyAtMjA0LjE4NDQzKSIgZmlsbD0ibm9uZSIvPjxwYXRoIGQ9Ik03NjAuOTA1MTQsMzI5LjczNDMxYTIwLjgzMjg2LDIwLjgzMjg2LDAsMCwwLTEwLjEyOTI0LDIuNjE3NGgyMC4yMzI0M0EyMC43NDE3MSwyMC43NDE3MSwwLDAsMCw3NjAuOTA1MTQsMzI5LjczNDMxWiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTE1Ni44MjQzNyAtMjA0LjE4NDQzKSIgZmlsbD0iI2U2ZTZlNiIvPjxwYXRoIGQ9Ik04MDAuMTY2MTEsMzI3LjExNjkxYTI4LjYyMjkzLDI4LjYyMjkzLDAsMCwwLTE2LjUzNCw1LjIzNDhoMzMuMDQ1NjlBMjguNjE2MzUsMjguNjE2MzUsMCwwLDAsODAwLjE2NjExLDMyNy4xMTY5MVoiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0xNTYuODI0MzcgLTIwNC4xODQ0MykiIGZpbGw9IiNlNmU2ZTYiLz48cGF0aCBkPSJNMTAyMi41NjExNSwyOTMuOTgzMThhNTMuNjU2MTUsNTMuNjU2MTUsMCwwLDAtMTA1LjI3NDMxLTExLjMxMjU5Yy0uNjUtLjAyMzMzLTEuMjk5NTEtLjA0OTQ1LTEuOTU1MjItLjA0OTQ1YTUzLjY2OTA5LDUzLjY2OTA5LDAsMCwwLTUxLjQ4MjE4LDM4LjUzODMzQTM3LjkyMDM4LDM3LjkyMDM4LDAsMCwwLDgxOC44NTQsMzMyLjM1MTcxSDk4Ni4yMjZhMzYuMjkzMjQsMzYuMjkzMjQsMCwwLDAsMzYuMzczMTQtMzcuNTc3MTlRMTAyMi41ODMsMjk0LjM3OTQ1LDEwMjIuNTYxMTUsMjkzLjk4MzE4WiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTE1Ni44MjQzNyAtMjA0LjE4NDQzKSIgZmlsbD0iI2U2ZTZlNiIvPjxyZWN0IHg9IjkxMC45NzY3NSIgeT0iNjYyLjMxNDQiIHdpZHRoPSIxOS40NTI2NCIgaGVpZ2h0PSIzLjA4NzcyIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxNjg0LjIyNjc4IDExMjQuMDI0MTMpIHJvdGF0ZSgtMTc5Ljk2OTM3KSIgZmlsbD0iIzNmM2Q1NiIvPjxwYXRoIGQ9Ik03NzAuMzMxNTQsNjYzLjAwNmw0LjAxMzU0LjkyODQ2LDE1Mi41MzMzNS4wODE1NCwxLjM3MTYxLTMuMTk1NzJhMzIuMjU3LDMyLjI1NywwLDAsMCwyLjM3MTQ4LTE3LjQ0MTkzYy0uNjU2OTQtNC40MTM2LTIuMzAzMTUtOC43OTkxNC02LjA0MjEzLTEwLjcwMzk0TDkxNy44MTA1LDU4Ny41OWwtODQuMzg4ODYtLjE1MUw4MDAuNzcxOSw2MTMuNzczMDhzLTE1LjQwMTM3LS4yNzY4Ni0yMy43Njg1LDEwLjEzOTcyYTI0LjQ0OTU5LDI0LjQ0OTU5LDAsMCwwLTUuMTE0MywxMy40NjU5MWwtLjMzMDIyLDUuNDE4NzhaIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMTU2LjgyNDM3IC0yMDQuMTg0NDMpIiBmaWxsPSIjNDM0MzQzIi8+PGNpcmNsZSBjeD0iNjQ3LjAwOTMzIiBjeT0iNDU4LjA2NzUiIHI9IjE4LjgzNTA5IiBmaWxsPSIjM2YzZDU2Ii8+PGNpcmNsZSBjeD0iNjQ3LjAwOTMzIiBjeT0iNDU4LjA2NzUiIHI9IjkuOTEzMjEiIGZpbGw9IiNjY2MiLz48Y2lyY2xlIGN4PSI3MzkuOTQ5NjkiIGN5PSI0NTguMTE3MTgiIHI9IjE4LjgzNTA5IiBmaWxsPSIjM2YzZDU2Ii8+PGNpcmNsZSBjeD0iNzM5Ljk0OTY5IiBjeT0iNDU4LjExNzE4IiByPSI5LjkxMzIxIiBmaWxsPSIjY2NjIi8+PHBvbHlnb24gcG9pbnRzPSI2NTYuOTIgNDA2LjUxMSA3MDIuNDgzIDQwNi41MyA3MDguMDQ1IDQwNi41MyA3MTcuNDM1IDQwNi41MzcgNzE3LjQzNSA0MDUuODUyIDcxNy40NDIgMzk3LjU5NCA3MTcuNDQ5IDM4OC4zMjIgNzExLjIwMSAzODguMzIyIDcwNS42MzkgMzg4LjMxNiA2OTUuNzg3IDM4OC4zMDkgNjkwLjIyNSAzODguMzA5IDY3OC44NTEgMzg4LjMwMiA2NTYuOTIgNDA2LjUxMSIgZmlsbD0iI2ZmZiIvPjxwb2x5Z29uIHBvaW50cz0iNzI0Ljg0OSA0MDYuNTQ0IDc0OC45MjkgNDA2LjU1NyA3NDguOTM1IDQwMS44MzIgNzQ4LjkzNSAzOTMuNTc0IDc0OC45NDIgMzg4LjM0MiA3NDUuNDE2IDM4OC4zNDIgNzM5Ljg1NCAzODguMzM1IDcyNC44NTYgMzg4LjMyOSA3MjQuODQ5IDQwNi41NDQiIGZpbGw9IiNmZmYiLz48cmVjdCB4PSI4NzEuMTY0NzMiIHk9IjYyNC4zMDk3OCIgd2lkdGg9IjMuMDg3NzIiIGhlaWdodD0iNS44NjY2NyIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTU4OC4yNTc0IDEwNTAuNzY4Mikgcm90YXRlKC0xNzkuOTY5MzcpIiBmaWxsPSIjM2YzZDU2Ii8+PHJlY3QgeD0iODIxLjYxMjAzIiB5PSI2MTQuNTU2OTgiIHdpZHRoPSIzLjA4NzcyIiBoZWlnaHQ9IjUuODY2NjciIHRyYW5zZm9ybT0idHJhbnNsYXRlKDEyODQuMjYxNzMgLTQwOS41MTk4Mikgcm90YXRlKDkwLjAzMDYzKSIgZmlsbD0iIzNmM2Q1NiIvPjxwYXRoIGQ9Ik04MTcuMTM4MzgsNjA0LjM5N2guMzM5NjZhNi40NTMzMyw2LjQ1MzMzLDAsMCwxLDYuNDUzMzMsNi40NTMzM3YwYTYuNDUzMzMsNi40NTMzMywwLDAsMS02LjQ1MzMzLDYuNDUzMzNoLS4zMzk2NmEwLDAsMCwwLDEsMCwwVjYwNC4zOTdBMCwwLDAsMCwxLDgxNy4xMzgzOCw2MDQuMzk3WiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTQ4My45MTg3NCAxMDE3Ljk1NDcpIHJvdGF0ZSgtMTc5Ljk2OTM3KSIgZmlsbD0iIzNmM2Q1NiIvPjxwYXRoIGQ9Ik03NzEuNTU4ODgsNjQyLjc5NzQ5YTkuOTc0NzMsOS45NzQ3MywwLDAsMCw1LjQ0NDUyLTE4Ljg4NDY5LDI0LjQ0OTU5LDI0LjQ0OTU5LDAsMCwwLTUuMTE0MywxMy40NjU5MVoiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0xNTYuODI0MzcgLTIwNC4xODQ0MykiIGZpbGw9IiMzZjNkNTYiLz48cG9seWdvbiBwb2ludHM9IjcwNS42MzkgMzg4LjMxNiA3MTcuNDM1IDQwNS44NTIgNzE3LjQ0MiAzOTcuNTk0IDcxMS4yMDEgMzg4LjMyMiA3MDUuNjM5IDM4OC4zMTYiIGZpbGw9IiNmMmYyZjIiLz48cG9seWdvbiBwb2ludHM9IjczOS44NTQgMzg4LjMzNSA3NDguOTM1IDQwMS44MzIgNzQ4LjkzNSAzOTMuNTc0IDc0NS40MTYgMzg4LjM0MiA3MzkuODU0IDM4OC4zMzUiIGZpbGw9IiNmMmYyZjIiLz48cG9seWdvbiBwb2ludHM9IjY5MC4yMjUgMzg4LjMwOSA3MDIuNDgzIDQwNi41MyA3MDguMDQ1IDQwNi41MyA2OTUuNzg3IDM4OC4zMDkgNjkwLjIyNSAzODguMzA5IiBmaWxsPSIjZjJmMmYyIi8+PGNpcmNsZSBjeD0iNTAuMDU3OSIgY3k9IjI2MC45Mjk1MyIgcj0iNTAuMDU3OSIgZmlsbD0iIzNmM2Q1NiIvPjxwYXRoIGQ9Ik0yMDcuMDkwNTYsNDgwLjE4NDI1bC0yNS4wNTA3My0yNS4wNTA3M2E0LjM1MzE1LDQuMzUzMTUsMCwwLDEsNi4xNTYyOC02LjE1NjI4TDIwNi42NzQsNDY3LjQ1NTExbDU4Ljk2Mzk0LTY3LjIzOTI3YTQuMzUyNzEsNC4zNTI3MSwwLDAsMSw2LjU0NTIzLDUuNzM5N1oiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0xNTYuODI0MzcgLTIwNC4xODQ0MykiIGZpbGw9IiM0MzQzNDMiLz48L3N2Zz4=\"","module.exports = __webpack_public_path__ + \"static/people-5273e449fb5b579fd2950f16c86a2e38.svg\";","module.exports = __webpack_public_path__ + \"static/memories-ae5f8fb76d85ceea924716bfdbf5b669.svg\";","/**\n * Helper function for iterating over a collection\n *\n * @param collection\n * @param fn\n */\nfunction each(collection, fn) {\n  var i = 0,\n      length = collection.length,\n      cont;\n\n  for (i; i < length; i++) {\n    cont = fn(collection[i], i);\n\n    if (cont === false) {\n      break; //allow early exit\n    }\n  }\n}\n/**\n * Helper function for determining whether target object is an array\n *\n * @param target the object under test\n * @return {Boolean} true if array, false otherwise\n */\n\n\nfunction isArray(target) {\n  return Object.prototype.toString.apply(target) === '[object Array]';\n}\n/**\n * Helper function for determining whether target object is a function\n *\n * @param target the object under test\n * @return {Boolean} true if function, false otherwise\n */\n\n\nfunction isFunction(target) {\n  return typeof target === 'function';\n}\n\nmodule.exports = {\n  isFunction: isFunction,\n  isArray: isArray,\n  each: each\n};","/**\n * mux.js\n *\n * Copyright (c) Brightcove\n * Licensed Apache-2.0 https://github.com/videojs/mux.js/blob/master/LICENSE\n *\n * Accepts program elementary stream (PES) data events and corrects\n * decode and presentation time stamps to account for a rollover\n * of the 33 bit value.\n */\n'use strict';\n\nvar Stream = require('../utils/stream');\n\nvar MAX_TS = 8589934592;\nvar RO_THRESH = 4294967296;\nvar TYPE_SHARED = 'shared';\n\nvar handleRollover = function handleRollover(value, reference) {\n  var direction = 1;\n\n  if (value > reference) {\n    // If the current timestamp value is greater than our reference timestamp and we detect a\n    // timestamp rollover, this means the roll over is happening in the opposite direction.\n    // Example scenario: Enter a long stream/video just after a rollover occurred. The reference\n    // point will be set to a small number, e.g. 1. The user then seeks backwards over the\n    // rollover point. In loading this segment, the timestamp values will be very large,\n    // e.g. 2^33 - 1. Since this comes before the data we loaded previously, we want to adjust\n    // the time stamp to be `value - 2^33`.\n    direction = -1;\n  } // Note: A seek forwards or back that is greater than the RO_THRESH (2^32, ~13 hours) will\n  // cause an incorrect adjustment.\n\n\n  while (Math.abs(reference - value) > RO_THRESH) {\n    value += direction * MAX_TS;\n  }\n\n  return value;\n};\n\nvar TimestampRolloverStream = function TimestampRolloverStream(type) {\n  var lastDTS, referenceDTS;\n  TimestampRolloverStream.prototype.init.call(this); // The \"shared\" type is used in cases where a stream will contain muxed\n  // video and audio. We could use `undefined` here, but having a string\n  // makes debugging a little clearer.\n\n  this.type_ = type || TYPE_SHARED;\n\n  this.push = function (data) {\n    // Any \"shared\" rollover streams will accept _all_ data. Otherwise,\n    // streams will only accept data that matches their type.\n    if (this.type_ !== TYPE_SHARED && data.type !== this.type_) {\n      return;\n    }\n\n    if (referenceDTS === undefined) {\n      referenceDTS = data.dts;\n    }\n\n    data.dts = handleRollover(data.dts, referenceDTS);\n    data.pts = handleRollover(data.pts, referenceDTS);\n    lastDTS = data.dts;\n    this.trigger('data', data);\n  };\n\n  this.flush = function () {\n    referenceDTS = lastDTS;\n    this.trigger('done');\n  };\n\n  this.endTimeline = function () {\n    this.flush();\n    this.trigger('endedtimeline');\n  };\n\n  this.discontinuity = function () {\n    referenceDTS = void 0;\n    lastDTS = void 0;\n  };\n\n  this.reset = function () {\n    this.discontinuity();\n    this.trigger('reset');\n  };\n};\n\nTimestampRolloverStream.prototype = new Stream();\nmodule.exports = {\n  TimestampRolloverStream: TimestampRolloverStream,\n  handleRollover: handleRollover\n};","/**\n * Copyright 2013 vtt.js Contributors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n// Default exports for Node. Export the extended versions of VTTCue and\n// VTTRegion in Node since we likely want the capability to convert back and\n// forth between JSON. If we don't then it's not that big of a deal since we're\n// off browser.\nvar window = require('global/window');\n\nvar vttjs = module.exports = {\n  WebVTT: require(\"./vtt.js\"),\n  VTTCue: require(\"./vttcue.js\"),\n  VTTRegion: require(\"./vttregion.js\")\n};\nwindow.vttjs = vttjs;\nwindow.WebVTT = vttjs.WebVTT;\nvar cueShim = vttjs.VTTCue;\nvar regionShim = vttjs.VTTRegion;\nvar nativeVTTCue = window.VTTCue;\nvar nativeVTTRegion = window.VTTRegion;\n\nvttjs.shim = function () {\n  window.VTTCue = cueShim;\n  window.VTTRegion = regionShim;\n};\n\nvttjs.restore = function () {\n  window.VTTCue = nativeVTTCue;\n  window.VTTRegion = nativeVTTRegion;\n};\n\nif (!window.VTTCue) {\n  vttjs.shim();\n}","/**\n * mux.js\n *\n * Copyright (c) Brightcove\n * Licensed Apache-2.0 https://github.com/videojs/mux.js/blob/master/LICENSE\n *\n * Utilities to detect basic properties and metadata about MP4s.\n */\n'use strict';\n\nvar toUnsigned = require('../utils/bin').toUnsigned;\n\nvar toHexString = require('../utils/bin').toHexString;\n\nvar mp4Inspector = require('../tools/mp4-inspector.js');\n\nvar timescale, startTime, compositionStartTime, getVideoTrackIds, getTracks;\n/**\n * Parses an MP4 initialization segment and extracts the timescale\n * values for any declared tracks. Timescale values indicate the\n * number of clock ticks per second to assume for time-based values\n * elsewhere in the MP4.\n *\n * To determine the start time of an MP4, you need two pieces of\n * information: the timescale unit and the earliest base media decode\n * time. Multiple timescales can be specified within an MP4 but the\n * base media decode time is always expressed in the timescale from\n * the media header box for the track:\n * ```\n * moov > trak > mdia > mdhd.timescale\n * ```\n * @param init {Uint8Array} the bytes of the init segment\n * @return {object} a hash of track ids to timescale values or null if\n * the init segment is malformed.\n */\n\ntimescale = function timescale(init) {\n  var result = {},\n      traks = mp4Inspector.findBox(init, ['moov', 'trak']); // mdhd timescale\n\n  return traks.reduce(function (result, trak) {\n    var tkhd, version, index, id, mdhd;\n    tkhd = mp4Inspector.findBox(trak, ['tkhd'])[0];\n\n    if (!tkhd) {\n      return null;\n    }\n\n    version = tkhd[0];\n    index = version === 0 ? 12 : 20;\n    id = toUnsigned(tkhd[index] << 24 | tkhd[index + 1] << 16 | tkhd[index + 2] << 8 | tkhd[index + 3]);\n    mdhd = mp4Inspector.findBox(trak, ['mdia', 'mdhd'])[0];\n\n    if (!mdhd) {\n      return null;\n    }\n\n    version = mdhd[0];\n    index = version === 0 ? 12 : 20;\n    result[id] = toUnsigned(mdhd[index] << 24 | mdhd[index + 1] << 16 | mdhd[index + 2] << 8 | mdhd[index + 3]);\n    return result;\n  }, result);\n};\n/**\n * Determine the base media decode start time, in seconds, for an MP4\n * fragment. If multiple fragments are specified, the earliest time is\n * returned.\n *\n * The base media decode time can be parsed from track fragment\n * metadata:\n * ```\n * moof > traf > tfdt.baseMediaDecodeTime\n * ```\n * It requires the timescale value from the mdhd to interpret.\n *\n * @param timescale {object} a hash of track ids to timescale values.\n * @return {number} the earliest base media decode start time for the\n * fragment, in seconds\n */\n\n\nstartTime = function startTime(timescale, fragment) {\n  var trafs, baseTimes, result; // we need info from two childrend of each track fragment box\n\n  trafs = mp4Inspector.findBox(fragment, ['moof', 'traf']); // determine the start times for each track\n\n  baseTimes = [].concat.apply([], trafs.map(function (traf) {\n    return mp4Inspector.findBox(traf, ['tfhd']).map(function (tfhd) {\n      var id, scale, baseTime; // get the track id from the tfhd\n\n      id = toUnsigned(tfhd[4] << 24 | tfhd[5] << 16 | tfhd[6] << 8 | tfhd[7]); // assume a 90kHz clock if no timescale was specified\n\n      scale = timescale[id] || 90e3; // get the base media decode time from the tfdt\n\n      baseTime = mp4Inspector.findBox(traf, ['tfdt']).map(function (tfdt) {\n        var version, result;\n        version = tfdt[0];\n        result = toUnsigned(tfdt[4] << 24 | tfdt[5] << 16 | tfdt[6] << 8 | tfdt[7]);\n\n        if (version === 1) {\n          result *= Math.pow(2, 32);\n          result += toUnsigned(tfdt[8] << 24 | tfdt[9] << 16 | tfdt[10] << 8 | tfdt[11]);\n        }\n\n        return result;\n      })[0];\n      baseTime = baseTime || Infinity; // convert base time to seconds\n\n      return baseTime / scale;\n    });\n  })); // return the minimum\n\n  result = Math.min.apply(null, baseTimes);\n  return isFinite(result) ? result : 0;\n};\n/**\n * Determine the composition start, in seconds, for an MP4\n * fragment.\n *\n * The composition start time of a fragment can be calculated using the base\n * media decode time, composition time offset, and timescale, as follows:\n *\n * compositionStartTime = (baseMediaDecodeTime + compositionTimeOffset) / timescale\n *\n * All of the aforementioned information is contained within a media fragment's\n * `traf` box, except for timescale info, which comes from the initialization\n * segment, so a track id (also contained within a `traf`) is also necessary to\n * associate it with a timescale\n *\n *\n * @param timescales {object} - a hash of track ids to timescale values.\n * @param fragment {Unit8Array} - the bytes of a media segment\n * @return {number} the composition start time for the fragment, in seconds\n **/\n\n\ncompositionStartTime = function compositionStartTime(timescales, fragment) {\n  var trafBoxes = mp4Inspector.findBox(fragment, ['moof', 'traf']);\n  var baseMediaDecodeTime = 0;\n  var compositionTimeOffset = 0;\n  var trackId;\n\n  if (trafBoxes && trafBoxes.length) {\n    // The spec states that track run samples contained within a `traf` box are contiguous, but\n    // it does not explicitly state whether the `traf` boxes themselves are contiguous.\n    // We will assume that they are, so we only need the first to calculate start time.\n    var parsedTraf = mp4Inspector.parseTraf(trafBoxes[0]);\n\n    for (var i = 0; i < parsedTraf.boxes.length; i++) {\n      if (parsedTraf.boxes[i].type === 'tfhd') {\n        trackId = parsedTraf.boxes[i].trackId;\n      } else if (parsedTraf.boxes[i].type === 'tfdt') {\n        baseMediaDecodeTime = parsedTraf.boxes[i].baseMediaDecodeTime;\n      } else if (parsedTraf.boxes[i].type === 'trun' && parsedTraf.boxes[i].samples.length) {\n        compositionTimeOffset = parsedTraf.boxes[i].samples[0].compositionTimeOffset || 0;\n      }\n    }\n  } // Get timescale for this specific track. Assume a 90kHz clock if no timescale was\n  // specified.\n\n\n  var timescale = timescales[trackId] || 90e3; // return the composition start time, in seconds\n\n  return (baseMediaDecodeTime + compositionTimeOffset) / timescale;\n};\n/**\n  * Find the trackIds of the video tracks in this source.\n  * Found by parsing the Handler Reference and Track Header Boxes:\n  *   moov > trak > mdia > hdlr\n  *   moov > trak > tkhd\n  *\n  * @param {Uint8Array} init - The bytes of the init segment for this source\n  * @return {Number[]} A list of trackIds\n  *\n  * @see ISO-BMFF-12/2015, Section 8.4.3\n **/\n\n\ngetVideoTrackIds = function getVideoTrackIds(init) {\n  var traks = mp4Inspector.findBox(init, ['moov', 'trak']);\n  var videoTrackIds = [];\n  traks.forEach(function (trak) {\n    var hdlrs = mp4Inspector.findBox(trak, ['mdia', 'hdlr']);\n    var tkhds = mp4Inspector.findBox(trak, ['tkhd']);\n    hdlrs.forEach(function (hdlr, index) {\n      var handlerType = mp4Inspector.parseType(hdlr.subarray(8, 12));\n      var tkhd = tkhds[index];\n      var view;\n      var version;\n      var trackId;\n\n      if (handlerType === 'vide') {\n        view = new DataView(tkhd.buffer, tkhd.byteOffset, tkhd.byteLength);\n        version = view.getUint8(0);\n        trackId = version === 0 ? view.getUint32(12) : view.getUint32(20);\n        videoTrackIds.push(trackId);\n      }\n    });\n  });\n  return videoTrackIds;\n};\n/**\n * Get all the video, audio, and hint tracks from a non fragmented\n * mp4 segment\n */\n\n\ngetTracks = function getTracks(init) {\n  var traks = mp4Inspector.findBox(init, ['moov', 'trak']);\n  var tracks = [];\n  traks.forEach(function (trak) {\n    var track = {};\n    var tkhd = mp4Inspector.findBox(trak, ['tkhd'])[0];\n    var view, version; // id\n\n    if (tkhd) {\n      view = new DataView(tkhd.buffer, tkhd.byteOffset, tkhd.byteLength);\n      version = view.getUint8(0);\n      track.id = version === 0 ? view.getUint32(12) : view.getUint32(20);\n    }\n\n    var hdlr = mp4Inspector.findBox(trak, ['mdia', 'hdlr'])[0]; // type\n\n    if (hdlr) {\n      var type = mp4Inspector.parseType(hdlr.subarray(8, 12));\n\n      if (type === 'vide') {\n        track.type = 'video';\n      } else if (type === 'soun') {\n        track.type = 'audio';\n      } else {\n        track.type = type;\n      }\n    } // codec\n\n\n    var stsd = mp4Inspector.findBox(trak, ['mdia', 'minf', 'stbl', 'stsd'])[0];\n\n    if (stsd) {\n      var sampleDescriptions = stsd.subarray(8); // gives the codec type string\n\n      track.codec = mp4Inspector.parseType(sampleDescriptions.subarray(4, 8));\n      var codecBox = mp4Inspector.findBox(sampleDescriptions, [track.codec])[0];\n      var codecConfig, codecConfigType;\n\n      if (codecBox) {\n        // https://tools.ietf.org/html/rfc6381#section-3.3\n        if (/^[a-z]vc[1-9]$/i.test(track.codec)) {\n          // we don't need anything but the \"config\" parameter of the\n          // avc1 codecBox\n          codecConfig = codecBox.subarray(78);\n          codecConfigType = mp4Inspector.parseType(codecConfig.subarray(4, 8));\n\n          if (codecConfigType === 'avcC' && codecConfig.length > 11) {\n            track.codec += '.'; // left padded with zeroes for single digit hex\n            // profile idc\n\n            track.codec += toHexString(codecConfig[9]); // the byte containing the constraint_set flags\n\n            track.codec += toHexString(codecConfig[10]); // level idc\n\n            track.codec += toHexString(codecConfig[11]);\n          } else {\n            // TODO: show a warning that we couldn't parse the codec\n            // and are using the default\n            track.codec = 'avc1.4d400d';\n          }\n        } else if (/^mp4[a,v]$/i.test(track.codec)) {\n          // we do not need anything but the streamDescriptor of the mp4a codecBox\n          codecConfig = codecBox.subarray(28);\n          codecConfigType = mp4Inspector.parseType(codecConfig.subarray(4, 8));\n\n          if (codecConfigType === 'esds' && codecConfig.length > 20 && codecConfig[19] !== 0) {\n            track.codec += '.' + toHexString(codecConfig[19]); // this value is only a single digit\n\n            track.codec += '.' + toHexString(codecConfig[20] >>> 2 & 0x3f).replace(/^0/, '');\n          } else {\n            // TODO: show a warning that we couldn't parse the codec\n            // and are using the default\n            track.codec = 'mp4a.40.2';\n          }\n        } else {// TODO: show a warning? for unknown codec type\n        }\n      }\n    }\n\n    var mdhd = mp4Inspector.findBox(trak, ['mdia', 'mdhd'])[0];\n\n    if (mdhd && tkhd) {\n      var index = version === 0 ? 12 : 20;\n      track.timescale = toUnsigned(mdhd[index] << 24 | mdhd[index + 1] << 16 | mdhd[index + 2] << 8 | mdhd[index + 3]);\n    }\n\n    tracks.push(track);\n  });\n  return tracks;\n};\n\nmodule.exports = {\n  // export mp4 inspector's findBox and parseType for backwards compatibility\n  findBox: mp4Inspector.findBox,\n  parseType: mp4Inspector.parseType,\n  timescale: timescale,\n  startTime: startTime,\n  compositionStartTime: compositionStartTime,\n  videoTrackIds: getVideoTrackIds,\n  tracks: getTracks\n};","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.NextArrow = exports.PrevArrow = void 0;\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _classnames = _interopRequireDefault(require(\"classnames\"));\n\nvar _innerSliderUtils = require(\"./utils/innerSliderUtils\");\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    \"default\": obj\n  };\n}\n\nfunction _typeof(obj) {\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(source, true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(source).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return _assertThisInitialized(self);\n}\n\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) _setPrototypeOf(subClass, superClass);\n}\n\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nvar PrevArrow = /*#__PURE__*/function (_React$PureComponent) {\n  _inherits(PrevArrow, _React$PureComponent);\n\n  function PrevArrow() {\n    _classCallCheck(this, PrevArrow);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(PrevArrow).apply(this, arguments));\n  }\n\n  _createClass(PrevArrow, [{\n    key: \"clickHandler\",\n    value: function clickHandler(options, e) {\n      if (e) {\n        e.preventDefault();\n      }\n\n      this.props.clickHandler(options, e);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var prevClasses = {\n        \"slick-arrow\": true,\n        \"slick-prev\": true\n      };\n      var prevHandler = this.clickHandler.bind(this, {\n        message: \"previous\"\n      });\n\n      if (!this.props.infinite && (this.props.currentSlide === 0 || this.props.slideCount <= this.props.slidesToShow)) {\n        prevClasses[\"slick-disabled\"] = true;\n        prevHandler = null;\n      }\n\n      var prevArrowProps = {\n        key: \"0\",\n        \"data-role\": \"none\",\n        className: (0, _classnames[\"default\"])(prevClasses),\n        style: {\n          display: \"block\"\n        },\n        onClick: prevHandler\n      };\n      var customProps = {\n        currentSlide: this.props.currentSlide,\n        slideCount: this.props.slideCount\n      };\n      var prevArrow;\n\n      if (this.props.prevArrow) {\n        prevArrow = _react[\"default\"].cloneElement(this.props.prevArrow, _objectSpread({}, prevArrowProps, {}, customProps));\n      } else {\n        prevArrow = _react[\"default\"].createElement(\"button\", _extends({\n          key: \"0\",\n          type: \"button\"\n        }, prevArrowProps), \" \", \"Previous\");\n      }\n\n      return prevArrow;\n    }\n  }]);\n\n  return PrevArrow;\n}(_react[\"default\"].PureComponent);\n\nexports.PrevArrow = PrevArrow;\n\nvar NextArrow = /*#__PURE__*/function (_React$PureComponent2) {\n  _inherits(NextArrow, _React$PureComponent2);\n\n  function NextArrow() {\n    _classCallCheck(this, NextArrow);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(NextArrow).apply(this, arguments));\n  }\n\n  _createClass(NextArrow, [{\n    key: \"clickHandler\",\n    value: function clickHandler(options, e) {\n      if (e) {\n        e.preventDefault();\n      }\n\n      this.props.clickHandler(options, e);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var nextClasses = {\n        \"slick-arrow\": true,\n        \"slick-next\": true\n      };\n      var nextHandler = this.clickHandler.bind(this, {\n        message: \"next\"\n      });\n\n      if (!(0, _innerSliderUtils.canGoNext)(this.props)) {\n        nextClasses[\"slick-disabled\"] = true;\n        nextHandler = null;\n      }\n\n      var nextArrowProps = {\n        key: \"1\",\n        \"data-role\": \"none\",\n        className: (0, _classnames[\"default\"])(nextClasses),\n        style: {\n          display: \"block\"\n        },\n        onClick: nextHandler\n      };\n      var customProps = {\n        currentSlide: this.props.currentSlide,\n        slideCount: this.props.slideCount\n      };\n      var nextArrow;\n\n      if (this.props.nextArrow) {\n        nextArrow = _react[\"default\"].cloneElement(this.props.nextArrow, _objectSpread({}, nextArrowProps, {}, customProps));\n      } else {\n        nextArrow = _react[\"default\"].createElement(\"button\", _extends({\n          key: \"1\",\n          type: \"button\"\n        }, nextArrowProps), \" \", \"Next\");\n      }\n\n      return nextArrow;\n    }\n  }]);\n\n  return NextArrow;\n}(_react[\"default\"].PureComponent);\n\nexports.NextArrow = NextArrow;","function DOMParser(options) {\n  this.options = options || {\n    locator: {}\n  };\n}\n\nDOMParser.prototype.parseFromString = function (source, mimeType) {\n  var options = this.options;\n  var sax = new XMLReader();\n  var domBuilder = options.domBuilder || new DOMHandler(); //contentHandler and LexicalHandler\n\n  var errorHandler = options.errorHandler;\n  var locator = options.locator;\n  var defaultNSMap = options.xmlns || {};\n  var entityMap = {\n    'lt': '<',\n    'gt': '>',\n    'amp': '&',\n    'quot': '\"',\n    'apos': \"'\"\n  };\n\n  if (locator) {\n    domBuilder.setDocumentLocator(locator);\n  }\n\n  sax.errorHandler = buildErrorHandler(errorHandler, domBuilder, locator);\n  sax.domBuilder = options.domBuilder || domBuilder;\n\n  if (/\\/x?html?$/.test(mimeType)) {\n    entityMap.nbsp = '\\xa0';\n    entityMap.copy = '\\xa9';\n    defaultNSMap[''] = 'http://www.w3.org/1999/xhtml';\n  }\n\n  defaultNSMap.xml = defaultNSMap.xml || 'http://www.w3.org/XML/1998/namespace';\n\n  if (source) {\n    sax.parse(source, defaultNSMap, entityMap);\n  } else {\n    sax.errorHandler.error(\"invalid doc source\");\n  }\n\n  return domBuilder.doc;\n};\n\nfunction buildErrorHandler(errorImpl, domBuilder, locator) {\n  if (!errorImpl) {\n    if (domBuilder instanceof DOMHandler) {\n      return domBuilder;\n    }\n\n    errorImpl = domBuilder;\n  }\n\n  var errorHandler = {};\n  var isCallback = errorImpl instanceof Function;\n  locator = locator || {};\n\n  function build(key) {\n    var fn = errorImpl[key];\n\n    if (!fn && isCallback) {\n      fn = errorImpl.length == 2 ? function (msg) {\n        errorImpl(key, msg);\n      } : errorImpl;\n    }\n\n    errorHandler[key] = fn && function (msg) {\n      fn('[xmldom ' + key + ']\\t' + msg + _locator(locator));\n    } || function () {};\n  }\n\n  build('warning');\n  build('error');\n  build('fatalError');\n  return errorHandler;\n} //console.log('#\\n\\n\\n\\n\\n\\n\\n####')\n\n/**\r\n * +ContentHandler+ErrorHandler\r\n * +LexicalHandler+EntityResolver2\r\n * -DeclHandler-DTDHandler \r\n * \r\n * DefaultHandler:EntityResolver, DTDHandler, ContentHandler, ErrorHandler\r\n * DefaultHandler2:DefaultHandler,LexicalHandler, DeclHandler, EntityResolver2\r\n * @link http://www.saxproject.org/apidoc/org/xml/sax/helpers/DefaultHandler.html\r\n */\n\n\nfunction DOMHandler() {\n  this.cdata = false;\n}\n\nfunction position(locator, node) {\n  node.lineNumber = locator.lineNumber;\n  node.columnNumber = locator.columnNumber;\n}\n/**\r\n * @see org.xml.sax.ContentHandler#startDocument\r\n * @link http://www.saxproject.org/apidoc/org/xml/sax/ContentHandler.html\r\n */\n\n\nDOMHandler.prototype = {\n  startDocument: function startDocument() {\n    this.doc = new DOMImplementation().createDocument(null, null, null);\n\n    if (this.locator) {\n      this.doc.documentURI = this.locator.systemId;\n    }\n  },\n  startElement: function startElement(namespaceURI, localName, qName, attrs) {\n    var doc = this.doc;\n    var el = doc.createElementNS(namespaceURI, qName || localName);\n    var len = attrs.length;\n    appendElement(this, el);\n    this.currentElement = el;\n    this.locator && position(this.locator, el);\n\n    for (var i = 0; i < len; i++) {\n      var namespaceURI = attrs.getURI(i);\n      var value = attrs.getValue(i);\n      var qName = attrs.getQName(i);\n      var attr = doc.createAttributeNS(namespaceURI, qName);\n      this.locator && position(attrs.getLocator(i), attr);\n      attr.value = attr.nodeValue = value;\n      el.setAttributeNode(attr);\n    }\n  },\n  endElement: function endElement(namespaceURI, localName, qName) {\n    var current = this.currentElement;\n    var tagName = current.tagName;\n    this.currentElement = current.parentNode;\n  },\n  startPrefixMapping: function startPrefixMapping(prefix, uri) {},\n  endPrefixMapping: function endPrefixMapping(prefix) {},\n  processingInstruction: function processingInstruction(target, data) {\n    var ins = this.doc.createProcessingInstruction(target, data);\n    this.locator && position(this.locator, ins);\n    appendElement(this, ins);\n  },\n  ignorableWhitespace: function ignorableWhitespace(ch, start, length) {},\n  characters: function characters(chars, start, length) {\n    chars = _toString.apply(this, arguments); //console.log(chars)\n\n    if (chars) {\n      if (this.cdata) {\n        var charNode = this.doc.createCDATASection(chars);\n      } else {\n        var charNode = this.doc.createTextNode(chars);\n      }\n\n      if (this.currentElement) {\n        this.currentElement.appendChild(charNode);\n      } else if (/^\\s*$/.test(chars)) {\n        this.doc.appendChild(charNode); //process xml\n      }\n\n      this.locator && position(this.locator, charNode);\n    }\n  },\n  skippedEntity: function skippedEntity(name) {},\n  endDocument: function endDocument() {\n    this.doc.normalize();\n  },\n  setDocumentLocator: function setDocumentLocator(locator) {\n    if (this.locator = locator) {\n      // && !('lineNumber' in locator)){\n      locator.lineNumber = 0;\n    }\n  },\n  //LexicalHandler\n  comment: function comment(chars, start, length) {\n    chars = _toString.apply(this, arguments);\n    var comm = this.doc.createComment(chars);\n    this.locator && position(this.locator, comm);\n    appendElement(this, comm);\n  },\n  startCDATA: function startCDATA() {\n    //used in characters() methods\n    this.cdata = true;\n  },\n  endCDATA: function endCDATA() {\n    this.cdata = false;\n  },\n  startDTD: function startDTD(name, publicId, systemId) {\n    var impl = this.doc.implementation;\n\n    if (impl && impl.createDocumentType) {\n      var dt = impl.createDocumentType(name, publicId, systemId);\n      this.locator && position(this.locator, dt);\n      appendElement(this, dt);\n    }\n  },\n\n  /**\r\n   * @see org.xml.sax.ErrorHandler\r\n   * @link http://www.saxproject.org/apidoc/org/xml/sax/ErrorHandler.html\r\n   */\n  warning: function warning(error) {\n    console.warn('[xmldom warning]\\t' + error, _locator(this.locator));\n  },\n  error: function error(_error) {\n    console.error('[xmldom error]\\t' + _error, _locator(this.locator));\n  },\n  fatalError: function fatalError(error) {\n    console.error('[xmldom fatalError]\\t' + error, _locator(this.locator));\n    throw error;\n  }\n};\n\nfunction _locator(l) {\n  if (l) {\n    return '\\n@' + (l.systemId || '') + '#[line:' + l.lineNumber + ',col:' + l.columnNumber + ']';\n  }\n}\n\nfunction _toString(chars, start, length) {\n  if (typeof chars == 'string') {\n    return chars.substr(start, length);\n  } else {\n    //java sax connect width xmldom on rhino(what about: \"? && !(chars instanceof String)\")\n    if (chars.length >= start + length || start) {\n      return new java.lang.String(chars, start, length) + '';\n    }\n\n    return chars;\n  }\n}\n/*\r\n * @link http://www.saxproject.org/apidoc/org/xml/sax/ext/LexicalHandler.html\r\n * used method of org.xml.sax.ext.LexicalHandler:\r\n *  #comment(chars, start, length)\r\n *  #startCDATA()\r\n *  #endCDATA()\r\n *  #startDTD(name, publicId, systemId)\r\n *\r\n *\r\n * IGNORED method of org.xml.sax.ext.LexicalHandler:\r\n *  #endDTD()\r\n *  #startEntity(name)\r\n *  #endEntity(name)\r\n *\r\n *\r\n * @link http://www.saxproject.org/apidoc/org/xml/sax/ext/DeclHandler.html\r\n * IGNORED method of org.xml.sax.ext.DeclHandler\r\n * \t#attributeDecl(eName, aName, type, mode, value)\r\n *  #elementDecl(name, model)\r\n *  #externalEntityDecl(name, publicId, systemId)\r\n *  #internalEntityDecl(name, value)\r\n * @link http://www.saxproject.org/apidoc/org/xml/sax/ext/EntityResolver2.html\r\n * IGNORED method of org.xml.sax.EntityResolver2\r\n *  #resolveEntity(String name,String publicId,String baseURI,String systemId)\r\n *  #resolveEntity(publicId, systemId)\r\n *  #getExternalSubset(name, baseURI)\r\n * @link http://www.saxproject.org/apidoc/org/xml/sax/DTDHandler.html\r\n * IGNORED method of org.xml.sax.DTDHandler\r\n *  #notationDecl(name, publicId, systemId) {};\r\n *  #unparsedEntityDecl(name, publicId, systemId, notationName) {};\r\n */\n\n\n\"endDTD,startEntity,endEntity,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,resolveEntity,getExternalSubset,notationDecl,unparsedEntityDecl\".replace(/\\w+/g, function (key) {\n  DOMHandler.prototype[key] = function () {\n    return null;\n  };\n});\n/* Private static helpers treated below as private instance methods, so don't need to add these to the public API; we might use a Relator to also get rid of non-standard public properties */\n\nfunction appendElement(hander, node) {\n  if (!hander.currentElement) {\n    hander.doc.appendChild(node);\n  } else {\n    hander.currentElement.appendChild(node);\n  }\n} //appendChild and setAttributeNS are preformance key\n//if(typeof require == 'function'){\n\n\nvar XMLReader = require('./sax').XMLReader;\n\nvar DOMImplementation = exports.DOMImplementation = require('./dom').DOMImplementation;\n\nexports.XMLSerializer = require('./dom').XMLSerializer;\nexports.DOMParser = DOMParser; //}","/**\n * mux.js\n *\n * Copyright (c) Brightcove\n * Licensed Apache-2.0 https://github.com/videojs/mux.js/blob/master/LICENSE\n */\nvar ONE_SECOND_IN_TS = 90000,\n    // 90kHz clock\nsecondsToVideoTs,\n    secondsToAudioTs,\n    videoTsToSeconds,\n    audioTsToSeconds,\n    audioTsToVideoTs,\n    videoTsToAudioTs,\n    metadataTsToSeconds;\n\nsecondsToVideoTs = function secondsToVideoTs(seconds) {\n  return seconds * ONE_SECOND_IN_TS;\n};\n\nsecondsToAudioTs = function secondsToAudioTs(seconds, sampleRate) {\n  return seconds * sampleRate;\n};\n\nvideoTsToSeconds = function videoTsToSeconds(timestamp) {\n  return timestamp / ONE_SECOND_IN_TS;\n};\n\naudioTsToSeconds = function audioTsToSeconds(timestamp, sampleRate) {\n  return timestamp / sampleRate;\n};\n\naudioTsToVideoTs = function audioTsToVideoTs(timestamp, sampleRate) {\n  return secondsToVideoTs(audioTsToSeconds(timestamp, sampleRate));\n};\n\nvideoTsToAudioTs = function videoTsToAudioTs(timestamp, sampleRate) {\n  return secondsToAudioTs(videoTsToSeconds(timestamp), sampleRate);\n};\n/**\n * Adjust ID3 tag or caption timing information by the timeline pts values\n * (if keepOriginalTimestamps is false) and convert to seconds\n */\n\n\nmetadataTsToSeconds = function metadataTsToSeconds(timestamp, timelineStartPts, keepOriginalTimestamps) {\n  return videoTsToSeconds(keepOriginalTimestamps ? timestamp : timestamp - timelineStartPts);\n};\n\nmodule.exports = {\n  ONE_SECOND_IN_TS: ONE_SECOND_IN_TS,\n  secondsToVideoTs: secondsToVideoTs,\n  secondsToAudioTs: secondsToAudioTs,\n  videoTsToSeconds: videoTsToSeconds,\n  audioTsToSeconds: audioTsToSeconds,\n  audioTsToVideoTs: audioTsToVideoTs,\n  videoTsToAudioTs: videoTsToAudioTs,\n  metadataTsToSeconds: metadataTsToSeconds\n};","function _getPrototypeOf(o) {\n  module.exports = _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nmodule.exports = _getPrototypeOf;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _slider = _interopRequireDefault(require(\"./slider\"));\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    \"default\": obj\n  };\n}\n\nvar _default = _slider[\"default\"];\nexports[\"default\"] = _default;","/*\n * pkcs7.pad\n * https://github.com/brightcove/pkcs7\n *\n * Copyright (c) 2014 Brightcove\n * Licensed under the apache2 license.\n */\nvar PADDING = void 0;\n/**\n * Returns a new Uint8Array that is padded with PKCS#7 padding.\n * @param plaintext {Uint8Array} the input bytes before encryption\n * @return {Uint8Array} the padded bytes\n * @see http://tools.ietf.org/html/rfc5652\n */\n\nfunction pad(plaintext) {\n  var padding = PADDING[plaintext.byteLength % 16 || 0];\n  var result = new Uint8Array(plaintext.byteLength + padding.length);\n  result.set(plaintext);\n  result.set(padding, plaintext.byteLength);\n  return result;\n} // pre-define the padding values\n\n\nPADDING = [[16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16], [15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15], [14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14], [13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13], [12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12], [11, 11, 11, 11, 11, 11, 11, 11, 11, 11, 11], [10, 10, 10, 10, 10, 10, 10, 10, 10, 10], [9, 9, 9, 9, 9, 9, 9, 9, 9], [8, 8, 8, 8, 8, 8, 8, 8], [7, 7, 7, 7, 7, 7, 7], [6, 6, 6, 6, 6, 6], [5, 5, 5, 5, 5], [4, 4, 4, 4], [3, 3, 3], [2, 2], [1]];\n/**\n * Returns the subarray of a Uint8Array without PKCS#7 padding.\n * @param padded {Uint8Array} unencrypted bytes that have been padded\n * @return {Uint8Array} the unpadded bytes\n * @see http://tools.ietf.org/html/rfc5652\n */\n\nfunction unpad(padded) {\n  return padded.subarray(0, padded.byteLength - padded[padded.byteLength - 1]);\n}\n\nvar version = \"1.0.2\";\nexport { pad, unpad, version as VERSION };","import { unpad } from 'pkcs7';\n\nvar classCallCheck = function classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n};\n\nvar createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\nvar inherits = function inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n};\n\nvar possibleConstructorReturn = function possibleConstructorReturn(self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n};\n/**\n * @file aes.js\n *\n * This file contains an adaptation of the AES decryption algorithm\n * from the Standford Javascript Cryptography Library. That work is\n * covered by the following copyright and permissions notice:\n *\n * Copyright 2009-2010 Emily Stark, Mike Hamburg, Dan Boneh.\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are\n * met:\n *\n * 1. Redistributions of source code must retain the above copyright\n *    notice, this list of conditions and the following disclaimer.\n *\n * 2. Redistributions in binary form must reproduce the above\n *    copyright notice, this list of conditions and the following\n *    disclaimer in the documentation and/or other materials provided\n *    with the distribution.\n *\n * THIS SOFTWARE IS PROVIDED BY THE AUTHORS ``AS IS'' AND ANY EXPRESS OR\n * IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL <COPYRIGHT HOLDER> OR CONTRIBUTORS BE\n * LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR\n * CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF\n * SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR\n * BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY,\n * WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE\n * OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN\n * IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * The views and conclusions contained in the software and documentation\n * are those of the authors and should not be interpreted as representing\n * official policies, either expressed or implied, of the authors.\n */\n\n/**\n * Expand the S-box tables.\n *\n * @private\n */\n\n\nvar precompute = function precompute() {\n  var tables = [[[], [], [], [], []], [[], [], [], [], []]];\n  var encTable = tables[0];\n  var decTable = tables[1];\n  var sbox = encTable[4];\n  var sboxInv = decTable[4];\n  var i = void 0;\n  var x = void 0;\n  var xInv = void 0;\n  var d = [];\n  var th = [];\n  var x2 = void 0;\n  var x4 = void 0;\n  var x8 = void 0;\n  var s = void 0;\n  var tEnc = void 0;\n  var tDec = void 0; // Compute double and third tables\n\n  for (i = 0; i < 256; i++) {\n    th[(d[i] = i << 1 ^ (i >> 7) * 283) ^ i] = i;\n  }\n\n  for (x = xInv = 0; !sbox[x]; x ^= x2 || 1, xInv = th[xInv] || 1) {\n    // Compute sbox\n    s = xInv ^ xInv << 1 ^ xInv << 2 ^ xInv << 3 ^ xInv << 4;\n    s = s >> 8 ^ s & 255 ^ 99;\n    sbox[x] = s;\n    sboxInv[s] = x; // Compute MixColumns\n\n    x8 = d[x4 = d[x2 = d[x]]];\n    tDec = x8 * 0x1010101 ^ x4 * 0x10001 ^ x2 * 0x101 ^ x * 0x1010100;\n    tEnc = d[s] * 0x101 ^ s * 0x1010100;\n\n    for (i = 0; i < 4; i++) {\n      encTable[i][x] = tEnc = tEnc << 24 ^ tEnc >>> 8;\n      decTable[i][s] = tDec = tDec << 24 ^ tDec >>> 8;\n    }\n  } // Compactify. Considerable speedup on Firefox.\n\n\n  for (i = 0; i < 5; i++) {\n    encTable[i] = encTable[i].slice(0);\n    decTable[i] = decTable[i].slice(0);\n  }\n\n  return tables;\n};\n\nvar aesTables = null;\n/**\n * Schedule out an AES key for both encryption and decryption. This\n * is a low-level class. Use a cipher mode to do bulk encryption.\n *\n * @class AES\n * @param key {Array} The key as an array of 4, 6 or 8 words.\n */\n\nvar AES = function () {\n  function AES(key) {\n    classCallCheck(this, AES);\n    /**\n     * The expanded S-box and inverse S-box tables. These will be computed\n     * on the client so that we don't have to send them down the wire.\n     *\n     * There are two tables, _tables[0] is for encryption and\n     * _tables[1] is for decryption.\n     *\n     * The first 4 sub-tables are the expanded S-box with MixColumns. The\n     * last (_tables[01][4]) is the S-box itself.\n     *\n     * @private\n     */\n    // if we have yet to precompute the S-box tables\n    // do so now\n\n    if (!aesTables) {\n      aesTables = precompute();\n    } // then make a copy of that object for use\n\n\n    this._tables = [[aesTables[0][0].slice(), aesTables[0][1].slice(), aesTables[0][2].slice(), aesTables[0][3].slice(), aesTables[0][4].slice()], [aesTables[1][0].slice(), aesTables[1][1].slice(), aesTables[1][2].slice(), aesTables[1][3].slice(), aesTables[1][4].slice()]];\n    var i = void 0;\n    var j = void 0;\n    var tmp = void 0;\n    var encKey = void 0;\n    var decKey = void 0;\n    var sbox = this._tables[0][4];\n    var decTable = this._tables[1];\n    var keyLen = key.length;\n    var rcon = 1;\n\n    if (keyLen !== 4 && keyLen !== 6 && keyLen !== 8) {\n      throw new Error('Invalid aes key size');\n    }\n\n    encKey = key.slice(0);\n    decKey = [];\n    this._key = [encKey, decKey]; // schedule encryption keys\n\n    for (i = keyLen; i < 4 * keyLen + 28; i++) {\n      tmp = encKey[i - 1]; // apply sbox\n\n      if (i % keyLen === 0 || keyLen === 8 && i % keyLen === 4) {\n        tmp = sbox[tmp >>> 24] << 24 ^ sbox[tmp >> 16 & 255] << 16 ^ sbox[tmp >> 8 & 255] << 8 ^ sbox[tmp & 255]; // shift rows and add rcon\n\n        if (i % keyLen === 0) {\n          tmp = tmp << 8 ^ tmp >>> 24 ^ rcon << 24;\n          rcon = rcon << 1 ^ (rcon >> 7) * 283;\n        }\n      }\n\n      encKey[i] = encKey[i - keyLen] ^ tmp;\n    } // schedule decryption keys\n\n\n    for (j = 0; i; j++, i--) {\n      tmp = encKey[j & 3 ? i : i - 4];\n\n      if (i <= 4 || j < 4) {\n        decKey[j] = tmp;\n      } else {\n        decKey[j] = decTable[0][sbox[tmp >>> 24]] ^ decTable[1][sbox[tmp >> 16 & 255]] ^ decTable[2][sbox[tmp >> 8 & 255]] ^ decTable[3][sbox[tmp & 255]];\n      }\n    }\n  }\n  /**\n   * Decrypt 16 bytes, specified as four 32-bit words.\n   *\n   * @param {Number} encrypted0 the first word to decrypt\n   * @param {Number} encrypted1 the second word to decrypt\n   * @param {Number} encrypted2 the third word to decrypt\n   * @param {Number} encrypted3 the fourth word to decrypt\n   * @param {Int32Array} out the array to write the decrypted words\n   * into\n   * @param {Number} offset the offset into the output array to start\n   * writing results\n   * @return {Array} The plaintext.\n   */\n\n\n  AES.prototype.decrypt = function decrypt(encrypted0, encrypted1, encrypted2, encrypted3, out, offset) {\n    var key = this._key[1]; // state variables a,b,c,d are loaded with pre-whitened data\n\n    var a = encrypted0 ^ key[0];\n    var b = encrypted3 ^ key[1];\n    var c = encrypted2 ^ key[2];\n    var d = encrypted1 ^ key[3];\n    var a2 = void 0;\n    var b2 = void 0;\n    var c2 = void 0; // key.length === 2 ?\n\n    var nInnerRounds = key.length / 4 - 2;\n    var i = void 0;\n    var kIndex = 4;\n    var table = this._tables[1]; // load up the tables\n\n    var table0 = table[0];\n    var table1 = table[1];\n    var table2 = table[2];\n    var table3 = table[3];\n    var sbox = table[4]; // Inner rounds. Cribbed from OpenSSL.\n\n    for (i = 0; i < nInnerRounds; i++) {\n      a2 = table0[a >>> 24] ^ table1[b >> 16 & 255] ^ table2[c >> 8 & 255] ^ table3[d & 255] ^ key[kIndex];\n      b2 = table0[b >>> 24] ^ table1[c >> 16 & 255] ^ table2[d >> 8 & 255] ^ table3[a & 255] ^ key[kIndex + 1];\n      c2 = table0[c >>> 24] ^ table1[d >> 16 & 255] ^ table2[a >> 8 & 255] ^ table3[b & 255] ^ key[kIndex + 2];\n      d = table0[d >>> 24] ^ table1[a >> 16 & 255] ^ table2[b >> 8 & 255] ^ table3[c & 255] ^ key[kIndex + 3];\n      kIndex += 4;\n      a = a2;\n      b = b2;\n      c = c2;\n    } // Last round.\n\n\n    for (i = 0; i < 4; i++) {\n      out[(3 & -i) + offset] = sbox[a >>> 24] << 24 ^ sbox[b >> 16 & 255] << 16 ^ sbox[c >> 8 & 255] << 8 ^ sbox[d & 255] ^ key[kIndex++];\n      a2 = a;\n      a = b;\n      b = c;\n      c = d;\n      d = a2;\n    }\n  };\n\n  return AES;\n}();\n/**\n * @file stream.js\n */\n\n/**\n * A lightweight readable stream implemention that handles event dispatching.\n *\n * @class Stream\n */\n\n\nvar Stream = function () {\n  function Stream() {\n    classCallCheck(this, Stream);\n    this.listeners = {};\n  }\n  /**\n   * Add a listener for a specified event type.\n   *\n   * @param {String} type the event name\n   * @param {Function} listener the callback to be invoked when an event of\n   * the specified type occurs\n   */\n\n\n  Stream.prototype.on = function on(type, listener) {\n    if (!this.listeners[type]) {\n      this.listeners[type] = [];\n    }\n\n    this.listeners[type].push(listener);\n  };\n  /**\n   * Remove a listener for a specified event type.\n   *\n   * @param {String} type the event name\n   * @param {Function} listener  a function previously registered for this\n   * type of event through `on`\n   * @return {Boolean} if we could turn it off or not\n   */\n\n\n  Stream.prototype.off = function off(type, listener) {\n    if (!this.listeners[type]) {\n      return false;\n    }\n\n    var index = this.listeners[type].indexOf(listener);\n    this.listeners[type].splice(index, 1);\n    return index > -1;\n  };\n  /**\n   * Trigger an event of the specified type on this stream. Any additional\n   * arguments to this function are passed as parameters to event listeners.\n   *\n   * @param {String} type the event name\n   */\n\n\n  Stream.prototype.trigger = function trigger(type) {\n    var callbacks = this.listeners[type];\n\n    if (!callbacks) {\n      return;\n    } // Slicing the arguments on every invocation of this method\n    // can add a significant amount of overhead. Avoid the\n    // intermediate object creation for the common case of a\n    // single callback argument\n\n\n    if (arguments.length === 2) {\n      var length = callbacks.length;\n\n      for (var i = 0; i < length; ++i) {\n        callbacks[i].call(this, arguments[1]);\n      }\n    } else {\n      var args = Array.prototype.slice.call(arguments, 1);\n      var _length = callbacks.length;\n\n      for (var _i = 0; _i < _length; ++_i) {\n        callbacks[_i].apply(this, args);\n      }\n    }\n  };\n  /**\n   * Destroys the stream and cleans up.\n   */\n\n\n  Stream.prototype.dispose = function dispose() {\n    this.listeners = {};\n  };\n  /**\n   * Forwards all `data` events on this stream to the destination stream. The\n   * destination stream should provide a method `push` to receive the data\n   * events as they arrive.\n   *\n   * @param {Stream} destination the stream that will receive all `data` events\n   * @see http://nodejs.org/api/stream.html#stream_readable_pipe_destination_options\n   */\n\n\n  Stream.prototype.pipe = function pipe(destination) {\n    this.on('data', function (data) {\n      destination.push(data);\n    });\n  };\n\n  return Stream;\n}();\n/**\n * @file async-stream.js\n */\n\n/**\n * A wrapper around the Stream class to use setTiemout\n * and run stream \"jobs\" Asynchronously\n *\n * @class AsyncStream\n * @extends Stream\n */\n\n\nvar AsyncStream = function (_Stream) {\n  inherits(AsyncStream, _Stream);\n\n  function AsyncStream() {\n    classCallCheck(this, AsyncStream);\n\n    var _this = possibleConstructorReturn(this, _Stream.call(this, Stream));\n\n    _this.jobs = [];\n    _this.delay = 1;\n    _this.timeout_ = null;\n    return _this;\n  }\n  /**\n   * process an async job\n   *\n   * @private\n   */\n\n\n  AsyncStream.prototype.processJob_ = function processJob_() {\n    this.jobs.shift()();\n\n    if (this.jobs.length) {\n      this.timeout_ = setTimeout(this.processJob_.bind(this), this.delay);\n    } else {\n      this.timeout_ = null;\n    }\n  };\n  /**\n   * push a job into the stream\n   *\n   * @param {Function} job the job to push into the stream\n   */\n\n\n  AsyncStream.prototype.push = function push(job) {\n    this.jobs.push(job);\n\n    if (!this.timeout_) {\n      this.timeout_ = setTimeout(this.processJob_.bind(this), this.delay);\n    }\n  };\n\n  return AsyncStream;\n}(Stream);\n/**\n * @file decrypter.js\n *\n * An asynchronous implementation of AES-128 CBC decryption with\n * PKCS#7 padding.\n */\n\n/**\n * Convert network-order (big-endian) bytes into their little-endian\n * representation.\n */\n\n\nvar ntoh = function ntoh(word) {\n  return word << 24 | (word & 0xff00) << 8 | (word & 0xff0000) >> 8 | word >>> 24;\n};\n/**\n * Decrypt bytes using AES-128 with CBC and PKCS#7 padding.\n *\n * @param {Uint8Array} encrypted the encrypted bytes\n * @param {Uint32Array} key the bytes of the decryption key\n * @param {Uint32Array} initVector the initialization vector (IV) to\n * use for the first round of CBC.\n * @return {Uint8Array} the decrypted bytes\n *\n * @see http://en.wikipedia.org/wiki/Advanced_Encryption_Standard\n * @see http://en.wikipedia.org/wiki/Block_cipher_mode_of_operation#Cipher_Block_Chaining_.28CBC.29\n * @see https://tools.ietf.org/html/rfc2315\n */\n\n\nvar decrypt = function decrypt(encrypted, key, initVector) {\n  // word-level access to the encrypted bytes\n  var encrypted32 = new Int32Array(encrypted.buffer, encrypted.byteOffset, encrypted.byteLength >> 2);\n  var decipher = new AES(Array.prototype.slice.call(key)); // byte and word-level access for the decrypted output\n\n  var decrypted = new Uint8Array(encrypted.byteLength);\n  var decrypted32 = new Int32Array(decrypted.buffer); // temporary variables for working with the IV, encrypted, and\n  // decrypted data\n\n  var init0 = void 0;\n  var init1 = void 0;\n  var init2 = void 0;\n  var init3 = void 0;\n  var encrypted0 = void 0;\n  var encrypted1 = void 0;\n  var encrypted2 = void 0;\n  var encrypted3 = void 0; // iteration variable\n\n  var wordIx = void 0; // pull out the words of the IV to ensure we don't modify the\n  // passed-in reference and easier access\n\n  init0 = initVector[0];\n  init1 = initVector[1];\n  init2 = initVector[2];\n  init3 = initVector[3]; // decrypt four word sequences, applying cipher-block chaining (CBC)\n  // to each decrypted block\n\n  for (wordIx = 0; wordIx < encrypted32.length; wordIx += 4) {\n    // convert big-endian (network order) words into little-endian\n    // (javascript order)\n    encrypted0 = ntoh(encrypted32[wordIx]);\n    encrypted1 = ntoh(encrypted32[wordIx + 1]);\n    encrypted2 = ntoh(encrypted32[wordIx + 2]);\n    encrypted3 = ntoh(encrypted32[wordIx + 3]); // decrypt the block\n\n    decipher.decrypt(encrypted0, encrypted1, encrypted2, encrypted3, decrypted32, wordIx); // XOR with the IV, and restore network byte-order to obtain the\n    // plaintext\n\n    decrypted32[wordIx] = ntoh(decrypted32[wordIx] ^ init0);\n    decrypted32[wordIx + 1] = ntoh(decrypted32[wordIx + 1] ^ init1);\n    decrypted32[wordIx + 2] = ntoh(decrypted32[wordIx + 2] ^ init2);\n    decrypted32[wordIx + 3] = ntoh(decrypted32[wordIx + 3] ^ init3); // setup the IV for the next round\n\n    init0 = encrypted0;\n    init1 = encrypted1;\n    init2 = encrypted2;\n    init3 = encrypted3;\n  }\n\n  return decrypted;\n};\n/**\n * The `Decrypter` class that manages decryption of AES\n * data through `AsyncStream` objects and the `decrypt`\n * function\n *\n * @param {Uint8Array} encrypted the encrypted bytes\n * @param {Uint32Array} key the bytes of the decryption key\n * @param {Uint32Array} initVector the initialization vector (IV) to\n * @param {Function} done the function to run when done\n * @class Decrypter\n */\n\n\nvar Decrypter = function () {\n  function Decrypter(encrypted, key, initVector, done) {\n    classCallCheck(this, Decrypter);\n    var step = Decrypter.STEP;\n    var encrypted32 = new Int32Array(encrypted.buffer);\n    var decrypted = new Uint8Array(encrypted.byteLength);\n    var i = 0;\n    this.asyncStream_ = new AsyncStream(); // split up the encryption job and do the individual chunks asynchronously\n\n    this.asyncStream_.push(this.decryptChunk_(encrypted32.subarray(i, i + step), key, initVector, decrypted));\n\n    for (i = step; i < encrypted32.length; i += step) {\n      initVector = new Uint32Array([ntoh(encrypted32[i - 4]), ntoh(encrypted32[i - 3]), ntoh(encrypted32[i - 2]), ntoh(encrypted32[i - 1])]);\n      this.asyncStream_.push(this.decryptChunk_(encrypted32.subarray(i, i + step), key, initVector, decrypted));\n    } // invoke the done() callback when everything is finished\n\n\n    this.asyncStream_.push(function () {\n      // remove pkcs#7 padding from the decrypted bytes\n      done(null, unpad(decrypted));\n    });\n  }\n  /**\n   * a getter for step the maximum number of bytes to process at one time\n   *\n   * @return {Number} the value of step 32000\n   */\n\n  /**\n   * @private\n   */\n\n\n  Decrypter.prototype.decryptChunk_ = function decryptChunk_(encrypted, key, initVector, decrypted) {\n    return function () {\n      var bytes = decrypt(encrypted, key, initVector);\n      decrypted.set(bytes, encrypted.byteOffset);\n    };\n  };\n\n  createClass(Decrypter, null, [{\n    key: 'STEP',\n    get: function get$$1() {\n      // 4 * 8000;\n      return 32000;\n    }\n  }]);\n  return Decrypter;\n}();\n/**\n * @file index.js\n *\n * Index module to easily import the primary components of AES-128\n * decryption. Like this:\n *\n * ```js\n * import {Decrypter, decrypt, AsyncStream} from 'aes-decrypter';\n * ```\n */\n\n\nexport { decrypt, Decrypter, AsyncStream };","/**\n * mux.js\n *\n * Copyright (c) Brightcove\n * Licensed Apache-2.0 https://github.com/videojs/mux.js/blob/master/LICENSE\n *\n * Utilities to detect basic properties and metadata about TS Segments.\n */\n'use strict';\n\nvar StreamTypes = require('./stream-types.js');\n\nvar parsePid = function parsePid(packet) {\n  var pid = packet[1] & 0x1f;\n  pid <<= 8;\n  pid |= packet[2];\n  return pid;\n};\n\nvar parsePayloadUnitStartIndicator = function parsePayloadUnitStartIndicator(packet) {\n  return !!(packet[1] & 0x40);\n};\n\nvar parseAdaptionField = function parseAdaptionField(packet) {\n  var offset = 0; // if an adaption field is present, its length is specified by the\n  // fifth byte of the TS packet header. The adaptation field is\n  // used to add stuffing to PES packets that don't fill a complete\n  // TS packet, and to specify some forms of timing and control data\n  // that we do not currently use.\n\n  if ((packet[3] & 0x30) >>> 4 > 0x01) {\n    offset += packet[4] + 1;\n  }\n\n  return offset;\n};\n\nvar parseType = function parseType(packet, pmtPid) {\n  var pid = parsePid(packet);\n\n  if (pid === 0) {\n    return 'pat';\n  } else if (pid === pmtPid) {\n    return 'pmt';\n  } else if (pmtPid) {\n    return 'pes';\n  }\n\n  return null;\n};\n\nvar parsePat = function parsePat(packet) {\n  var pusi = parsePayloadUnitStartIndicator(packet);\n  var offset = 4 + parseAdaptionField(packet);\n\n  if (pusi) {\n    offset += packet[offset] + 1;\n  }\n\n  return (packet[offset + 10] & 0x1f) << 8 | packet[offset + 11];\n};\n\nvar parsePmt = function parsePmt(packet) {\n  var programMapTable = {};\n  var pusi = parsePayloadUnitStartIndicator(packet);\n  var payloadOffset = 4 + parseAdaptionField(packet);\n\n  if (pusi) {\n    payloadOffset += packet[payloadOffset] + 1;\n  } // PMTs can be sent ahead of the time when they should actually\n  // take effect. We don't believe this should ever be the case\n  // for HLS but we'll ignore \"forward\" PMT declarations if we see\n  // them. Future PMT declarations have the current_next_indicator\n  // set to zero.\n\n\n  if (!(packet[payloadOffset + 5] & 0x01)) {\n    return;\n  }\n\n  var sectionLength, tableEnd, programInfoLength; // the mapping table ends at the end of the current section\n\n  sectionLength = (packet[payloadOffset + 1] & 0x0f) << 8 | packet[payloadOffset + 2];\n  tableEnd = 3 + sectionLength - 4; // to determine where the table is, we have to figure out how\n  // long the program info descriptors are\n\n  programInfoLength = (packet[payloadOffset + 10] & 0x0f) << 8 | packet[payloadOffset + 11]; // advance the offset to the first entry in the mapping table\n\n  var offset = 12 + programInfoLength;\n\n  while (offset < tableEnd) {\n    var i = payloadOffset + offset; // add an entry that maps the elementary_pid to the stream_type\n\n    programMapTable[(packet[i + 1] & 0x1F) << 8 | packet[i + 2]] = packet[i]; // move to the next table entry\n    // skip past the elementary stream descriptors, if present\n\n    offset += ((packet[i + 3] & 0x0F) << 8 | packet[i + 4]) + 5;\n  }\n\n  return programMapTable;\n};\n\nvar parsePesType = function parsePesType(packet, programMapTable) {\n  var pid = parsePid(packet);\n  var type = programMapTable[pid];\n\n  switch (type) {\n    case StreamTypes.H264_STREAM_TYPE:\n      return 'video';\n\n    case StreamTypes.ADTS_STREAM_TYPE:\n      return 'audio';\n\n    case StreamTypes.METADATA_STREAM_TYPE:\n      return 'timed-metadata';\n\n    default:\n      return null;\n  }\n};\n\nvar parsePesTime = function parsePesTime(packet) {\n  var pusi = parsePayloadUnitStartIndicator(packet);\n\n  if (!pusi) {\n    return null;\n  }\n\n  var offset = 4 + parseAdaptionField(packet);\n\n  if (offset >= packet.byteLength) {\n    // From the H 222.0 MPEG-TS spec\n    // \"For transport stream packets carrying PES packets, stuffing is needed when there\n    //  is insufficient PES packet data to completely fill the transport stream packet\n    //  payload bytes. Stuffing is accomplished by defining an adaptation field longer than\n    //  the sum of the lengths of the data elements in it, so that the payload bytes\n    //  remaining after the adaptation field exactly accommodates the available PES packet\n    //  data.\"\n    //\n    // If the offset is >= the length of the packet, then the packet contains no data\n    // and instead is just adaption field stuffing bytes\n    return null;\n  }\n\n  var pes = null;\n  var ptsDtsFlags; // PES packets may be annotated with a PTS value, or a PTS value\n  // and a DTS value. Determine what combination of values is\n  // available to work with.\n\n  ptsDtsFlags = packet[offset + 7]; // PTS and DTS are normally stored as a 33-bit number.  Javascript\n  // performs all bitwise operations on 32-bit integers but javascript\n  // supports a much greater range (52-bits) of integer using standard\n  // mathematical operations.\n  // We construct a 31-bit value using bitwise operators over the 31\n  // most significant bits and then multiply by 4 (equal to a left-shift\n  // of 2) before we add the final 2 least significant bits of the\n  // timestamp (equal to an OR.)\n\n  if (ptsDtsFlags & 0xC0) {\n    pes = {}; // the PTS and DTS are not written out directly. For information\n    // on how they are encoded, see\n    // http://dvd.sourceforge.net/dvdinfo/pes-hdr.html\n\n    pes.pts = (packet[offset + 9] & 0x0E) << 27 | (packet[offset + 10] & 0xFF) << 20 | (packet[offset + 11] & 0xFE) << 12 | (packet[offset + 12] & 0xFF) << 5 | (packet[offset + 13] & 0xFE) >>> 3;\n    pes.pts *= 4; // Left shift by 2\n\n    pes.pts += (packet[offset + 13] & 0x06) >>> 1; // OR by the two LSBs\n\n    pes.dts = pes.pts;\n\n    if (ptsDtsFlags & 0x40) {\n      pes.dts = (packet[offset + 14] & 0x0E) << 27 | (packet[offset + 15] & 0xFF) << 20 | (packet[offset + 16] & 0xFE) << 12 | (packet[offset + 17] & 0xFF) << 5 | (packet[offset + 18] & 0xFE) >>> 3;\n      pes.dts *= 4; // Left shift by 2\n\n      pes.dts += (packet[offset + 18] & 0x06) >>> 1; // OR by the two LSBs\n    }\n  }\n\n  return pes;\n};\n\nvar parseNalUnitType = function parseNalUnitType(type) {\n  switch (type) {\n    case 0x05:\n      return 'slice_layer_without_partitioning_rbsp_idr';\n\n    case 0x06:\n      return 'sei_rbsp';\n\n    case 0x07:\n      return 'seq_parameter_set_rbsp';\n\n    case 0x08:\n      return 'pic_parameter_set_rbsp';\n\n    case 0x09:\n      return 'access_unit_delimiter_rbsp';\n\n    default:\n      return null;\n  }\n};\n\nvar videoPacketContainsKeyFrame = function videoPacketContainsKeyFrame(packet) {\n  var offset = 4 + parseAdaptionField(packet);\n  var frameBuffer = packet.subarray(offset);\n  var frameI = 0;\n  var frameSyncPoint = 0;\n  var foundKeyFrame = false;\n  var nalType; // advance the sync point to a NAL start, if necessary\n\n  for (; frameSyncPoint < frameBuffer.byteLength - 3; frameSyncPoint++) {\n    if (frameBuffer[frameSyncPoint + 2] === 1) {\n      // the sync point is properly aligned\n      frameI = frameSyncPoint + 5;\n      break;\n    }\n  }\n\n  while (frameI < frameBuffer.byteLength) {\n    // look at the current byte to determine if we've hit the end of\n    // a NAL unit boundary\n    switch (frameBuffer[frameI]) {\n      case 0:\n        // skip past non-sync sequences\n        if (frameBuffer[frameI - 1] !== 0) {\n          frameI += 2;\n          break;\n        } else if (frameBuffer[frameI - 2] !== 0) {\n          frameI++;\n          break;\n        }\n\n        if (frameSyncPoint + 3 !== frameI - 2) {\n          nalType = parseNalUnitType(frameBuffer[frameSyncPoint + 3] & 0x1f);\n\n          if (nalType === 'slice_layer_without_partitioning_rbsp_idr') {\n            foundKeyFrame = true;\n          }\n        } // drop trailing zeroes\n\n\n        do {\n          frameI++;\n        } while (frameBuffer[frameI] !== 1 && frameI < frameBuffer.length);\n\n        frameSyncPoint = frameI - 2;\n        frameI += 3;\n        break;\n\n      case 1:\n        // skip past non-sync sequences\n        if (frameBuffer[frameI - 1] !== 0 || frameBuffer[frameI - 2] !== 0) {\n          frameI += 3;\n          break;\n        }\n\n        nalType = parseNalUnitType(frameBuffer[frameSyncPoint + 3] & 0x1f);\n\n        if (nalType === 'slice_layer_without_partitioning_rbsp_idr') {\n          foundKeyFrame = true;\n        }\n\n        frameSyncPoint = frameI - 2;\n        frameI += 3;\n        break;\n\n      default:\n        // the current byte isn't a one or zero, so it cannot be part\n        // of a sync sequence\n        frameI += 3;\n        break;\n    }\n  }\n\n  frameBuffer = frameBuffer.subarray(frameSyncPoint);\n  frameI -= frameSyncPoint;\n  frameSyncPoint = 0; // parse the final nal\n\n  if (frameBuffer && frameBuffer.byteLength > 3) {\n    nalType = parseNalUnitType(frameBuffer[frameSyncPoint + 3] & 0x1f);\n\n    if (nalType === 'slice_layer_without_partitioning_rbsp_idr') {\n      foundKeyFrame = true;\n    }\n  }\n\n  return foundKeyFrame;\n};\n\nmodule.exports = {\n  parseType: parseType,\n  parsePat: parsePat,\n  parsePmt: parsePmt,\n  parsePayloadUnitStartIndicator: parsePayloadUnitStartIndicator,\n  parsePesType: parsePesType,\n  parsePesTime: parsePesTime,\n  videoPacketContainsKeyFrame: videoPacketContainsKeyFrame\n};","/**\n * mux.js\n *\n * Copyright (c) Brightcove\n * Licensed Apache-2.0 https://github.com/videojs/mux.js/blob/master/LICENSE\n *\n * A lightweight readable stream implemention that handles event dispatching.\n * Objects that inherit from streams should call init in their constructors.\n */\n'use strict';\n\nvar Stream = function Stream() {\n  this.init = function () {\n    var listeners = {};\n    /**\n     * Add a listener for a specified event type.\n     * @param type {string} the event name\n     * @param listener {function} the callback to be invoked when an event of\n     * the specified type occurs\n     */\n\n    this.on = function (type, listener) {\n      if (!listeners[type]) {\n        listeners[type] = [];\n      }\n\n      listeners[type] = listeners[type].concat(listener);\n    };\n    /**\n     * Remove a listener for a specified event type.\n     * @param type {string} the event name\n     * @param listener {function} a function previously registered for this\n     * type of event through `on`\n     */\n\n\n    this.off = function (type, listener) {\n      var index;\n\n      if (!listeners[type]) {\n        return false;\n      }\n\n      index = listeners[type].indexOf(listener);\n      listeners[type] = listeners[type].slice();\n      listeners[type].splice(index, 1);\n      return index > -1;\n    };\n    /**\n     * Trigger an event of the specified type on this stream. Any additional\n     * arguments to this function are passed as parameters to event listeners.\n     * @param type {string} the event name\n     */\n\n\n    this.trigger = function (type) {\n      var callbacks, i, length, args;\n      callbacks = listeners[type];\n\n      if (!callbacks) {\n        return;\n      } // Slicing the arguments on every invocation of this method\n      // can add a significant amount of overhead. Avoid the\n      // intermediate object creation for the common case of a\n      // single callback argument\n\n\n      if (arguments.length === 2) {\n        length = callbacks.length;\n\n        for (i = 0; i < length; ++i) {\n          callbacks[i].call(this, arguments[1]);\n        }\n      } else {\n        args = [];\n        i = arguments.length;\n\n        for (i = 1; i < arguments.length; ++i) {\n          args.push(arguments[i]);\n        }\n\n        length = callbacks.length;\n\n        for (i = 0; i < length; ++i) {\n          callbacks[i].apply(this, args);\n        }\n      }\n    };\n    /**\n     * Destroys the stream and cleans up.\n     */\n\n\n    this.dispose = function () {\n      listeners = {};\n    };\n  };\n};\n/**\n * Forwards all `data` events on this stream to the destination stream. The\n * destination stream should provide a method `push` to receive the data\n * events as they arrive.\n * @param destination {stream} the stream that will receive all `data` events\n * @param autoFlush {boolean} if false, we will not call `flush` on the destination\n *                            when the current stream emits a 'done' event\n * @see http://nodejs.org/api/stream.html#stream_readable_pipe_destination_options\n */\n\n\nStream.prototype.pipe = function (destination) {\n  this.on('data', function (data) {\n    destination.push(data);\n  });\n  this.on('done', function (flushSource) {\n    destination.flush(flushSource);\n  });\n  this.on('partialdone', function (flushSource) {\n    destination.partialFlush(flushSource);\n  });\n  this.on('endedtimeline', function (flushSource) {\n    destination.endTimeline(flushSource);\n  });\n  this.on('reset', function (flushSource) {\n    destination.reset(flushSource);\n  });\n  return destination;\n}; // Default stream functions that are expected to be overridden to perform\n// actual work. These are provided by the prototype as a sort of no-op\n// implementation so that we don't have to check for their existence in the\n// `pipe` function above.\n\n\nStream.prototype.push = function (data) {\n  this.trigger('data', data);\n};\n\nStream.prototype.flush = function (flushSource) {\n  this.trigger('done', flushSource);\n};\n\nStream.prototype.partialFlush = function (flushSource) {\n  this.trigger('partialdone', flushSource);\n};\n\nStream.prototype.endTimeline = function (flushSource) {\n  this.trigger('endedtimeline', flushSource);\n};\n\nStream.prototype.reset = function (flushSource) {\n  this.trigger('reset', flushSource);\n};\n\nmodule.exports = Stream;","import React from 'react';\n\nconst Slide = ({ content, image }) => {\n  return (\n        <div className=\"slide text-center\" >\n            <img src={image} alt=\"intro\"/>\n            <h3>{content}</h3>\n        </div>\n  );\n};\n\nexport default Slide;\n","import React from 'react';\nimport Slider from 'react-slick';\nimport Slide from './Slide';\nimport navigate from './navigate.svg';\nimport adventure from './adventure.svg';\nimport memories from './memories.svg';\nimport people from './people.svg';\n\nconst CustomSlider = () => {\n  const style = {\n    infinite: true,\n    autoplaySpeed: 2000,\n    slidesToShow: 1,\n    slidesToScroll: 1,\n    autoplay: true,\n    vertical: true\n  };\n  return (\n      <div className=\"slider-container w-100\">\n        <Slider {...style} >\n                <Slide image={adventure} content=\"Get Started on your adventure\" />\n                <Slide image={navigate} content=\"Find and visit popular sites\" />\n                <Slide image={people} content=\"Meet new people and chat\" />\n                <Slide image={memories} content=\"Make new memories and share them\" />\n        </Slider>\n    </div>\n  );\n};\n\nexport default CustomSlider;\n","import React from 'react';\n\nconst TextContent = ({ heading, children, text }) => {\n  return (\n        <div className=\"text-content pl-2\">\n            <h1 className=\"mb-2 heading\">{heading}</h1>\n            <p className=\"small-text\">{text}</p>\n            {children}\n        </div>\n  );\n};\n\nexport default TextContent;\n","import React from 'react';\nimport { FaPlayCircle } from 'react-icons/fa';\n\nconst VideoPlayBtn = ({ activate, extraWrapper, extraClass }) => {\n  const hanldeClick = (event) => {\n    event.preventDefault();\n    activate();\n  };\n  return (\n      <div className={`text-center ${extraWrapper}`}>\n        <span >\n            <FaPlayCircle className={`play-btn-large ${extraClass}`} onClick={hanldeClick} />\n        </span>\n      </div>\n  );\n};\n\nexport default VideoPlayBtn;\n","// Actions\nexport const toggleVideo = (showVideo) => ({\n  type: 'show_video', showVideo\n});\n\nexport const addVideo = (addVideo) => ({\n  type: 'add_video', addVideo\n});\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport './homepage.css';\nimport CustomSlider from '../slider/CustomSlider';\nimport TextContent from '../TextContent';\nimport VideoPlayBtn from '../VideoPlayBtn';\nimport { toggleVideo } from '../../state/intro/intro.actions';\n\nconst Intro = ({ videoToggle }) => {\n  const texts = 'Lorem ipsum dolor sit, amet consectetur adipisicing elit. Totam, maiores veniam? Soluta recusandae quod accusamus ipsa, similique consequatur vero error?';\n  const showVideo = () => videoToggle(true);\n  return (\n        <div className=\"intro-container two-sec-grid-cols\">\n          <div className=\"left-col center\">\n            <TextContent heading=\"Tribal Kenya\" text={texts} >\n              <VideoPlayBtn activate={showVideo} />\n            </TextContent>\n          </div>\n          <div className=\"right-col center\">\n            <CustomSlider />\n\n          </div>\n        </div>\n  );\n};\n\nconst mapDispatchToProps = (dispatch) => ({\n  videoToggle: (isVideoShown) => dispatch(toggleVideo(isVideoShown))\n});\n\nexport default connect(null, mapDispatchToProps)(Intro);\n","import React, { useEffect } from 'react';\nimport videojs from 'video.js';\nimport './homepage.css';\nimport VideoPlayBtn from '../VideoPlayBtn';\n\nconst CustomVideoPlayer = ({ poster, videoSRC }) => {\n  // eslint-disable-next-line init-declarations\n  let videoRef;\n  const playVideo = () => {\n    const videoPlayer = videojs(videoRef);\n    const btn = document.querySelector('.intro-video-btn');\n    btn.style.display = 'none';\n    videoPlayer.ready(() => {\n      videoPlayer.play();\n    });\n  };\n\n  useEffect(() => {\n    videojs(videoRef);\n  });\n  return (\n        <div className=\"intro-video-container animate__animated animate__zoomIn\">\n                    <video\n                    ref={ (node) => videoRef = node }\n    id=\"my-video\"\n    className=\"video-js video-player-custom\"\n    poster={poster}\n    data-setup='{\"controls\": true, \"autoplay\": false, \"preload\": \"auto\"}'\n  >\n    <source src={videoSRC} type=\"video/mp4\" />\n    <p className=\"vjs-no-js\">\n      To view this video please enable JavaScript, and consider upgrading to a\n      web browser that\n      <a href=\"https://videojs.com/html5-video-support/\" target=\"_blank\" rel=\"noreferrer\">\n        supports HTML5 video\n      </a>\n    </p>\n  </video>\n  <VideoPlayBtn extraWrapper=\"intro-video-btn\" activate={playVideo} />\n        </div>\n  );\n};\n\nexport default CustomVideoPlayer;\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport { FaRegWindowClose } from 'react-icons/fa';\nimport SEO from '../components/seo';\nimport NavBar from '../components/Navbar/NavBar';\nimport Layout from '../components/layout';\nimport Intro from '../components/homepage/Intro';\nimport CustomVideoPlayer from '../components/homepage/CustomVideoPlayer';\nimport { toggleVideo } from '../state/intro/intro.actions';\n\nconst IndexPage = ({ showVideo, introVideo, introPoster, videoToggle }) => (\n  <Layout>\n    <SEO title=\"Home\" />\n    <header className=\"home-intro\">\n      <NavBar extraClasses=\"transparent\" />\n      <Intro />\n    </header>\n    {showVideo ? <section className=\"video-wrapper center\">\n      <div className=\"close-video\">\n      <FaRegWindowClose className=\"cursor\" onClick={() => videoToggle(false)} />\n      </div>\n      <CustomVideoPlayer videoSRC={introVideo} poster={introPoster} />\n    </section> : null}\n  </Layout>\n);\n\nconst mapStateToProps = (state) => ({\n  showVideo: state.intro.showVideo,\n  introVideo: state.intro.introVideo,\n  introPoster: state.intro.introPoster\n});\n\nconst mapDispatchToProps = (dispatch) => ({\n  videoToggle: (isVideoShown) => dispatch(toggleVideo(isVideoShown))\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(IndexPage);\n","function _setPrototypeOf(o, p) {\n  module.exports = _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nmodule.exports = _setPrototypeOf;","/**\n * mux.js\n *\n * Copyright (c) Brightcove\n * Licensed Apache-2.0 https://github.com/videojs/mux.js/blob/master/LICENSE\n *\n * Reads in-band caption information from a video elementary\n * stream. Captions must follow the CEA-708 standard for injection\n * into an MPEG-2 transport streams.\n * @see https://en.wikipedia.org/wiki/CEA-708\n * @see https://www.gpo.gov/fdsys/pkg/CFR-2007-title47-vol1/pdf/CFR-2007-title47-vol1-sec15-119.pdf\n */\n'use strict'; // -----------------\n// Link To Transport\n// -----------------\n\nvar Stream = require('../utils/stream');\n\nvar cea708Parser = require('../tools/caption-packet-parser');\n\nvar CaptionStream = function CaptionStream() {\n  CaptionStream.prototype.init.call(this);\n  this.captionPackets_ = [];\n  this.ccStreams_ = [new Cea608Stream(0, 0), // eslint-disable-line no-use-before-define\n  new Cea608Stream(0, 1), // eslint-disable-line no-use-before-define\n  new Cea608Stream(1, 0), // eslint-disable-line no-use-before-define\n  new Cea608Stream(1, 1) // eslint-disable-line no-use-before-define\n  ];\n  this.reset(); // forward data and done events from CCs to this CaptionStream\n\n  this.ccStreams_.forEach(function (cc) {\n    cc.on('data', this.trigger.bind(this, 'data'));\n    cc.on('partialdone', this.trigger.bind(this, 'partialdone'));\n    cc.on('done', this.trigger.bind(this, 'done'));\n  }, this);\n};\n\nCaptionStream.prototype = new Stream();\n\nCaptionStream.prototype.push = function (event) {\n  var sei, userData, newCaptionPackets; // only examine SEI NALs\n\n  if (event.nalUnitType !== 'sei_rbsp') {\n    return;\n  } // parse the sei\n\n\n  sei = cea708Parser.parseSei(event.escapedRBSP); // ignore everything but user_data_registered_itu_t_t35\n\n  if (sei.payloadType !== cea708Parser.USER_DATA_REGISTERED_ITU_T_T35) {\n    return;\n  } // parse out the user data payload\n\n\n  userData = cea708Parser.parseUserData(sei); // ignore unrecognized userData\n\n  if (!userData) {\n    return;\n  } // Sometimes, the same segment # will be downloaded twice. To stop the\n  // caption data from being processed twice, we track the latest dts we've\n  // received and ignore everything with a dts before that. However, since\n  // data for a specific dts can be split across packets on either side of\n  // a segment boundary, we need to make sure we *don't* ignore the packets\n  // from the *next* segment that have dts === this.latestDts_. By constantly\n  // tracking the number of packets received with dts === this.latestDts_, we\n  // know how many should be ignored once we start receiving duplicates.\n\n\n  if (event.dts < this.latestDts_) {\n    // We've started getting older data, so set the flag.\n    this.ignoreNextEqualDts_ = true;\n    return;\n  } else if (event.dts === this.latestDts_ && this.ignoreNextEqualDts_) {\n    this.numSameDts_--;\n\n    if (!this.numSameDts_) {\n      // We've received the last duplicate packet, time to start processing again\n      this.ignoreNextEqualDts_ = false;\n    }\n\n    return;\n  } // parse out CC data packets and save them for later\n\n\n  newCaptionPackets = cea708Parser.parseCaptionPackets(event.pts, userData);\n  this.captionPackets_ = this.captionPackets_.concat(newCaptionPackets);\n\n  if (this.latestDts_ !== event.dts) {\n    this.numSameDts_ = 0;\n  }\n\n  this.numSameDts_++;\n  this.latestDts_ = event.dts;\n};\n\nCaptionStream.prototype.flushCCStreams = function (flushType) {\n  this.ccStreams_.forEach(function (cc) {\n    return flushType === 'flush' ? cc.flush() : cc.partialFlush();\n  }, this);\n};\n\nCaptionStream.prototype.flushStream = function (flushType) {\n  // make sure we actually parsed captions before proceeding\n  if (!this.captionPackets_.length) {\n    this.flushCCStreams(flushType);\n    return;\n  } // In Chrome, the Array#sort function is not stable so add a\n  // presortIndex that we can use to ensure we get a stable-sort\n\n\n  this.captionPackets_.forEach(function (elem, idx) {\n    elem.presortIndex = idx;\n  }); // sort caption byte-pairs based on their PTS values\n\n  this.captionPackets_.sort(function (a, b) {\n    if (a.pts === b.pts) {\n      return a.presortIndex - b.presortIndex;\n    }\n\n    return a.pts - b.pts;\n  });\n  this.captionPackets_.forEach(function (packet) {\n    if (packet.type < 2) {\n      // Dispatch packet to the right Cea608Stream\n      this.dispatchCea608Packet(packet);\n    } // this is where an 'else' would go for a dispatching packets\n    // to a theoretical Cea708Stream that handles SERVICEn data\n\n  }, this);\n  this.captionPackets_.length = 0;\n  this.flushCCStreams(flushType);\n};\n\nCaptionStream.prototype.flush = function () {\n  return this.flushStream('flush');\n}; // Only called if handling partial data\n\n\nCaptionStream.prototype.partialFlush = function () {\n  return this.flushStream('partialFlush');\n};\n\nCaptionStream.prototype.reset = function () {\n  this.latestDts_ = null;\n  this.ignoreNextEqualDts_ = false;\n  this.numSameDts_ = 0;\n  this.activeCea608Channel_ = [null, null];\n  this.ccStreams_.forEach(function (ccStream) {\n    ccStream.reset();\n  });\n}; // From the CEA-608 spec:\n\n/*\n * When XDS sub-packets are interleaved with other services, the end of each sub-packet shall be followed\n * by a control pair to change to a different service. When any of the control codes from 0x10 to 0x1F is\n * used to begin a control code pair, it indicates the return to captioning or Text data. The control code pair\n * and subsequent data should then be processed according to the FCC rules. It may be necessary for the\n * line 21 data encoder to automatically insert a control code pair (i.e. RCL, RU2, RU3, RU4, RDC, or RTD)\n * to switch to captioning or Text.\n*/\n// With that in mind, we ignore any data between an XDS control code and a\n// subsequent closed-captioning control code.\n\n\nCaptionStream.prototype.dispatchCea608Packet = function (packet) {\n  // NOTE: packet.type is the CEA608 field\n  if (this.setsTextOrXDSActive(packet)) {\n    this.activeCea608Channel_[packet.type] = null;\n  } else if (this.setsChannel1Active(packet)) {\n    this.activeCea608Channel_[packet.type] = 0;\n  } else if (this.setsChannel2Active(packet)) {\n    this.activeCea608Channel_[packet.type] = 1;\n  }\n\n  if (this.activeCea608Channel_[packet.type] === null) {\n    // If we haven't received anything to set the active channel, or the\n    // packets are Text/XDS data, discard the data; we don't want jumbled\n    // captions\n    return;\n  }\n\n  this.ccStreams_[(packet.type << 1) + this.activeCea608Channel_[packet.type]].push(packet);\n};\n\nCaptionStream.prototype.setsChannel1Active = function (packet) {\n  return (packet.ccData & 0x7800) === 0x1000;\n};\n\nCaptionStream.prototype.setsChannel2Active = function (packet) {\n  return (packet.ccData & 0x7800) === 0x1800;\n};\n\nCaptionStream.prototype.setsTextOrXDSActive = function (packet) {\n  return (packet.ccData & 0x7100) === 0x0100 || (packet.ccData & 0x78fe) === 0x102a || (packet.ccData & 0x78fe) === 0x182a;\n}; // ----------------------\n// Session to Application\n// ----------------------\n// This hash maps non-ASCII, special, and extended character codes to their\n// proper Unicode equivalent. The first keys that are only a single byte\n// are the non-standard ASCII characters, which simply map the CEA608 byte\n// to the standard ASCII/Unicode. The two-byte keys that follow are the CEA608\n// character codes, but have their MSB bitmasked with 0x03 so that a lookup\n// can be performed regardless of the field and data channel on which the\n// character code was received.\n\n\nvar CHARACTER_TRANSLATION = {\n  0x2a: 0xe1,\n  // \n  0x5c: 0xe9,\n  // \n  0x5e: 0xed,\n  // \n  0x5f: 0xf3,\n  // \n  0x60: 0xfa,\n  // \n  0x7b: 0xe7,\n  // \n  0x7c: 0xf7,\n  // \n  0x7d: 0xd1,\n  // \n  0x7e: 0xf1,\n  // \n  0x7f: 0x2588,\n  // \n  0x0130: 0xae,\n  // \n  0x0131: 0xb0,\n  // \n  0x0132: 0xbd,\n  // \n  0x0133: 0xbf,\n  // \n  0x0134: 0x2122,\n  // \n  0x0135: 0xa2,\n  // \n  0x0136: 0xa3,\n  // \n  0x0137: 0x266a,\n  // \n  0x0138: 0xe0,\n  // \n  0x0139: 0xa0,\n  //\n  0x013a: 0xe8,\n  // \n  0x013b: 0xe2,\n  // \n  0x013c: 0xea,\n  // \n  0x013d: 0xee,\n  // \n  0x013e: 0xf4,\n  // \n  0x013f: 0xfb,\n  // \n  0x0220: 0xc1,\n  // \n  0x0221: 0xc9,\n  // \n  0x0222: 0xd3,\n  // \n  0x0223: 0xda,\n  // \n  0x0224: 0xdc,\n  // \n  0x0225: 0xfc,\n  // \n  0x0226: 0x2018,\n  // \n  0x0227: 0xa1,\n  // \n  0x0228: 0x2a,\n  // *\n  0x0229: 0x27,\n  // '\n  0x022a: 0x2014,\n  // \n  0x022b: 0xa9,\n  // \n  0x022c: 0x2120,\n  // \n  0x022d: 0x2022,\n  // \n  0x022e: 0x201c,\n  // \n  0x022f: 0x201d,\n  // \n  0x0230: 0xc0,\n  // \n  0x0231: 0xc2,\n  // \n  0x0232: 0xc7,\n  // \n  0x0233: 0xc8,\n  // \n  0x0234: 0xca,\n  // \n  0x0235: 0xcb,\n  // \n  0x0236: 0xeb,\n  // \n  0x0237: 0xce,\n  // \n  0x0238: 0xcf,\n  // \n  0x0239: 0xef,\n  // \n  0x023a: 0xd4,\n  // \n  0x023b: 0xd9,\n  // \n  0x023c: 0xf9,\n  // \n  0x023d: 0xdb,\n  // \n  0x023e: 0xab,\n  // \n  0x023f: 0xbb,\n  // \n  0x0320: 0xc3,\n  // \n  0x0321: 0xe3,\n  // \n  0x0322: 0xcd,\n  // \n  0x0323: 0xcc,\n  // \n  0x0324: 0xec,\n  // \n  0x0325: 0xd2,\n  // \n  0x0326: 0xf2,\n  // \n  0x0327: 0xd5,\n  // \n  0x0328: 0xf5,\n  // \n  0x0329: 0x7b,\n  // {\n  0x032a: 0x7d,\n  // }\n  0x032b: 0x5c,\n  // \\\n  0x032c: 0x5e,\n  // ^\n  0x032d: 0x5f,\n  // _\n  0x032e: 0x7c,\n  // |\n  0x032f: 0x7e,\n  // ~\n  0x0330: 0xc4,\n  // \n  0x0331: 0xe4,\n  // \n  0x0332: 0xd6,\n  // \n  0x0333: 0xf6,\n  // \n  0x0334: 0xdf,\n  // \n  0x0335: 0xa5,\n  // \n  0x0336: 0xa4,\n  // \n  0x0337: 0x2502,\n  // \n  0x0338: 0xc5,\n  // \n  0x0339: 0xe5,\n  // \n  0x033a: 0xd8,\n  // \n  0x033b: 0xf8,\n  // \n  0x033c: 0x250c,\n  // \n  0x033d: 0x2510,\n  // \n  0x033e: 0x2514,\n  // \n  0x033f: 0x2518 // \n\n};\n\nvar getCharFromCode = function getCharFromCode(code) {\n  if (code === null) {\n    return '';\n  }\n\n  code = CHARACTER_TRANSLATION[code] || code;\n  return String.fromCharCode(code);\n}; // the index of the last row in a CEA-608 display buffer\n\n\nvar BOTTOM_ROW = 14; // This array is used for mapping PACs -> row #, since there's no way of\n// getting it through bit logic.\n\nvar ROWS = [0x1100, 0x1120, 0x1200, 0x1220, 0x1500, 0x1520, 0x1600, 0x1620, 0x1700, 0x1720, 0x1000, 0x1300, 0x1320, 0x1400, 0x1420]; // CEA-608 captions are rendered onto a 34x15 matrix of character\n// cells. The \"bottom\" row is the last element in the outer array.\n\nvar createDisplayBuffer = function createDisplayBuffer() {\n  var result = [],\n      i = BOTTOM_ROW + 1;\n\n  while (i--) {\n    result.push('');\n  }\n\n  return result;\n};\n\nvar Cea608Stream = function Cea608Stream(field, dataChannel) {\n  Cea608Stream.prototype.init.call(this);\n  this.field_ = field || 0;\n  this.dataChannel_ = dataChannel || 0;\n  this.name_ = 'CC' + ((this.field_ << 1 | this.dataChannel_) + 1);\n  this.setConstants();\n  this.reset();\n\n  this.push = function (packet) {\n    var data, swap, char0, char1, text; // remove the parity bits\n\n    data = packet.ccData & 0x7f7f; // ignore duplicate control codes; the spec demands they're sent twice\n\n    if (data === this.lastControlCode_) {\n      this.lastControlCode_ = null;\n      return;\n    } // Store control codes\n\n\n    if ((data & 0xf000) === 0x1000) {\n      this.lastControlCode_ = data;\n    } else if (data !== this.PADDING_) {\n      this.lastControlCode_ = null;\n    }\n\n    char0 = data >>> 8;\n    char1 = data & 0xff;\n\n    if (data === this.PADDING_) {\n      return;\n    } else if (data === this.RESUME_CAPTION_LOADING_) {\n      this.mode_ = 'popOn';\n    } else if (data === this.END_OF_CAPTION_) {\n      // If an EOC is received while in paint-on mode, the displayed caption\n      // text should be swapped to non-displayed memory as if it was a pop-on\n      // caption. Because of that, we should explicitly switch back to pop-on\n      // mode\n      this.mode_ = 'popOn';\n      this.clearFormatting(packet.pts); // if a caption was being displayed, it's gone now\n\n      this.flushDisplayed(packet.pts); // flip memory\n\n      swap = this.displayed_;\n      this.displayed_ = this.nonDisplayed_;\n      this.nonDisplayed_ = swap; // start measuring the time to display the caption\n\n      this.startPts_ = packet.pts;\n    } else if (data === this.ROLL_UP_2_ROWS_) {\n      this.rollUpRows_ = 2;\n      this.setRollUp(packet.pts);\n    } else if (data === this.ROLL_UP_3_ROWS_) {\n      this.rollUpRows_ = 3;\n      this.setRollUp(packet.pts);\n    } else if (data === this.ROLL_UP_4_ROWS_) {\n      this.rollUpRows_ = 4;\n      this.setRollUp(packet.pts);\n    } else if (data === this.CARRIAGE_RETURN_) {\n      this.clearFormatting(packet.pts);\n      this.flushDisplayed(packet.pts);\n      this.shiftRowsUp_();\n      this.startPts_ = packet.pts;\n    } else if (data === this.BACKSPACE_) {\n      if (this.mode_ === 'popOn') {\n        this.nonDisplayed_[this.row_] = this.nonDisplayed_[this.row_].slice(0, -1);\n      } else {\n        this.displayed_[this.row_] = this.displayed_[this.row_].slice(0, -1);\n      }\n    } else if (data === this.ERASE_DISPLAYED_MEMORY_) {\n      this.flushDisplayed(packet.pts);\n      this.displayed_ = createDisplayBuffer();\n    } else if (data === this.ERASE_NON_DISPLAYED_MEMORY_) {\n      this.nonDisplayed_ = createDisplayBuffer();\n    } else if (data === this.RESUME_DIRECT_CAPTIONING_) {\n      if (this.mode_ !== 'paintOn') {\n        // NOTE: This should be removed when proper caption positioning is\n        // implemented\n        this.flushDisplayed(packet.pts);\n        this.displayed_ = createDisplayBuffer();\n      }\n\n      this.mode_ = 'paintOn';\n      this.startPts_ = packet.pts; // Append special characters to caption text\n    } else if (this.isSpecialCharacter(char0, char1)) {\n      // Bitmask char0 so that we can apply character transformations\n      // regardless of field and data channel.\n      // Then byte-shift to the left and OR with char1 so we can pass the\n      // entire character code to `getCharFromCode`.\n      char0 = (char0 & 0x03) << 8;\n      text = getCharFromCode(char0 | char1);\n      this[this.mode_](packet.pts, text);\n      this.column_++; // Append extended characters to caption text\n    } else if (this.isExtCharacter(char0, char1)) {\n      // Extended characters always follow their \"non-extended\" equivalents.\n      // IE if a \"\" is desired, you'll always receive \"e\"; non-compliant\n      // decoders are supposed to drop the \"\", while compliant decoders\n      // backspace the \"e\" and insert \"\".\n      // Delete the previous character\n      if (this.mode_ === 'popOn') {\n        this.nonDisplayed_[this.row_] = this.nonDisplayed_[this.row_].slice(0, -1);\n      } else {\n        this.displayed_[this.row_] = this.displayed_[this.row_].slice(0, -1);\n      } // Bitmask char0 so that we can apply character transformations\n      // regardless of field and data channel.\n      // Then byte-shift to the left and OR with char1 so we can pass the\n      // entire character code to `getCharFromCode`.\n\n\n      char0 = (char0 & 0x03) << 8;\n      text = getCharFromCode(char0 | char1);\n      this[this.mode_](packet.pts, text);\n      this.column_++; // Process mid-row codes\n    } else if (this.isMidRowCode(char0, char1)) {\n      // Attributes are not additive, so clear all formatting\n      this.clearFormatting(packet.pts); // According to the standard, mid-row codes\n      // should be replaced with spaces, so add one now\n\n      this[this.mode_](packet.pts, ' ');\n      this.column_++;\n\n      if ((char1 & 0xe) === 0xe) {\n        this.addFormatting(packet.pts, ['i']);\n      }\n\n      if ((char1 & 0x1) === 0x1) {\n        this.addFormatting(packet.pts, ['u']);\n      } // Detect offset control codes and adjust cursor\n\n    } else if (this.isOffsetControlCode(char0, char1)) {\n      // Cursor position is set by indent PAC (see below) in 4-column\n      // increments, with an additional offset code of 1-3 to reach any\n      // of the 32 columns specified by CEA-608. So all we need to do\n      // here is increment the column cursor by the given offset.\n      this.column_ += char1 & 0x03; // Detect PACs (Preamble Address Codes)\n    } else if (this.isPAC(char0, char1)) {\n      // There's no logic for PAC -> row mapping, so we have to just\n      // find the row code in an array and use its index :(\n      var row = ROWS.indexOf(data & 0x1f20); // Configure the caption window if we're in roll-up mode\n\n      if (this.mode_ === 'rollUp') {\n        // This implies that the base row is incorrectly set.\n        // As per the recommendation in CEA-608(Base Row Implementation), defer to the number\n        // of roll-up rows set.\n        if (row - this.rollUpRows_ + 1 < 0) {\n          row = this.rollUpRows_ - 1;\n        }\n\n        this.setRollUp(packet.pts, row);\n      }\n\n      if (row !== this.row_) {\n        // formatting is only persistent for current row\n        this.clearFormatting(packet.pts);\n        this.row_ = row;\n      } // All PACs can apply underline, so detect and apply\n      // (All odd-numbered second bytes set underline)\n\n\n      if (char1 & 0x1 && this.formatting_.indexOf('u') === -1) {\n        this.addFormatting(packet.pts, ['u']);\n      }\n\n      if ((data & 0x10) === 0x10) {\n        // We've got an indent level code. Each successive even number\n        // increments the column cursor by 4, so we can get the desired\n        // column position by bit-shifting to the right (to get n/2)\n        // and multiplying by 4.\n        this.column_ = ((data & 0xe) >> 1) * 4;\n      }\n\n      if (this.isColorPAC(char1)) {\n        // it's a color code, though we only support white, which\n        // can be either normal or italicized. white italics can be\n        // either 0x4e or 0x6e depending on the row, so we just\n        // bitwise-and with 0xe to see if italics should be turned on\n        if ((char1 & 0xe) === 0xe) {\n          this.addFormatting(packet.pts, ['i']);\n        }\n      } // We have a normal character in char0, and possibly one in char1\n\n    } else if (this.isNormalChar(char0)) {\n      if (char1 === 0x00) {\n        char1 = null;\n      }\n\n      text = getCharFromCode(char0);\n      text += getCharFromCode(char1);\n      this[this.mode_](packet.pts, text);\n      this.column_ += text.length;\n    } // finish data processing\n\n  };\n};\n\nCea608Stream.prototype = new Stream(); // Trigger a cue point that captures the current state of the\n// display buffer\n\nCea608Stream.prototype.flushDisplayed = function (pts) {\n  var content = this.displayed_ // remove spaces from the start and end of the string\n  .map(function (row) {\n    try {\n      return row.trim();\n    } catch (e) {\n      // Ordinarily, this shouldn't happen. However, caption\n      // parsing errors should not throw exceptions and\n      // break playback.\n      // eslint-disable-next-line no-console\n      console.error('Skipping malformed caption.');\n      return '';\n    }\n  }) // combine all text rows to display in one cue\n  .join('\\n') // and remove blank rows from the start and end, but not the middle\n  .replace(/^\\n+|\\n+$/g, '');\n\n  if (content.length) {\n    this.trigger('data', {\n      startPts: this.startPts_,\n      endPts: pts,\n      text: content,\n      stream: this.name_\n    });\n  }\n};\n/**\n * Zero out the data, used for startup and on seek\n */\n\n\nCea608Stream.prototype.reset = function () {\n  this.mode_ = 'popOn'; // When in roll-up mode, the index of the last row that will\n  // actually display captions. If a caption is shifted to a row\n  // with a lower index than this, it is cleared from the display\n  // buffer\n\n  this.topRow_ = 0;\n  this.startPts_ = 0;\n  this.displayed_ = createDisplayBuffer();\n  this.nonDisplayed_ = createDisplayBuffer();\n  this.lastControlCode_ = null; // Track row and column for proper line-breaking and spacing\n\n  this.column_ = 0;\n  this.row_ = BOTTOM_ROW;\n  this.rollUpRows_ = 2; // This variable holds currently-applied formatting\n\n  this.formatting_ = [];\n};\n/**\n * Sets up control code and related constants for this instance\n */\n\n\nCea608Stream.prototype.setConstants = function () {\n  // The following attributes have these uses:\n  // ext_ :    char0 for mid-row codes, and the base for extended\n  //           chars (ext_+0, ext_+1, and ext_+2 are char0s for\n  //           extended codes)\n  // control_: char0 for control codes, except byte-shifted to the\n  //           left so that we can do this.control_ | CONTROL_CODE\n  // offset_:  char0 for tab offset codes\n  //\n  // It's also worth noting that control codes, and _only_ control codes,\n  // differ between field 1 and field2. Field 2 control codes are always\n  // their field 1 value plus 1. That's why there's the \"| field\" on the\n  // control value.\n  if (this.dataChannel_ === 0) {\n    this.BASE_ = 0x10;\n    this.EXT_ = 0x11;\n    this.CONTROL_ = (0x14 | this.field_) << 8;\n    this.OFFSET_ = 0x17;\n  } else if (this.dataChannel_ === 1) {\n    this.BASE_ = 0x18;\n    this.EXT_ = 0x19;\n    this.CONTROL_ = (0x1c | this.field_) << 8;\n    this.OFFSET_ = 0x1f;\n  } // Constants for the LSByte command codes recognized by Cea608Stream. This\n  // list is not exhaustive. For a more comprehensive listing and semantics see\n  // http://www.gpo.gov/fdsys/pkg/CFR-2010-title47-vol1/pdf/CFR-2010-title47-vol1-sec15-119.pdf\n  // Padding\n\n\n  this.PADDING_ = 0x0000; // Pop-on Mode\n\n  this.RESUME_CAPTION_LOADING_ = this.CONTROL_ | 0x20;\n  this.END_OF_CAPTION_ = this.CONTROL_ | 0x2f; // Roll-up Mode\n\n  this.ROLL_UP_2_ROWS_ = this.CONTROL_ | 0x25;\n  this.ROLL_UP_3_ROWS_ = this.CONTROL_ | 0x26;\n  this.ROLL_UP_4_ROWS_ = this.CONTROL_ | 0x27;\n  this.CARRIAGE_RETURN_ = this.CONTROL_ | 0x2d; // paint-on mode\n\n  this.RESUME_DIRECT_CAPTIONING_ = this.CONTROL_ | 0x29; // Erasure\n\n  this.BACKSPACE_ = this.CONTROL_ | 0x21;\n  this.ERASE_DISPLAYED_MEMORY_ = this.CONTROL_ | 0x2c;\n  this.ERASE_NON_DISPLAYED_MEMORY_ = this.CONTROL_ | 0x2e;\n};\n/**\n * Detects if the 2-byte packet data is a special character\n *\n * Special characters have a second byte in the range 0x30 to 0x3f,\n * with the first byte being 0x11 (for data channel 1) or 0x19 (for\n * data channel 2).\n *\n * @param  {Integer} char0 The first byte\n * @param  {Integer} char1 The second byte\n * @return {Boolean}       Whether the 2 bytes are an special character\n */\n\n\nCea608Stream.prototype.isSpecialCharacter = function (char0, char1) {\n  return char0 === this.EXT_ && char1 >= 0x30 && char1 <= 0x3f;\n};\n/**\n * Detects if the 2-byte packet data is an extended character\n *\n * Extended characters have a second byte in the range 0x20 to 0x3f,\n * with the first byte being 0x12 or 0x13 (for data channel 1) or\n * 0x1a or 0x1b (for data channel 2).\n *\n * @param  {Integer} char0 The first byte\n * @param  {Integer} char1 The second byte\n * @return {Boolean}       Whether the 2 bytes are an extended character\n */\n\n\nCea608Stream.prototype.isExtCharacter = function (char0, char1) {\n  return (char0 === this.EXT_ + 1 || char0 === this.EXT_ + 2) && char1 >= 0x20 && char1 <= 0x3f;\n};\n/**\n * Detects if the 2-byte packet is a mid-row code\n *\n * Mid-row codes have a second byte in the range 0x20 to 0x2f, with\n * the first byte being 0x11 (for data channel 1) or 0x19 (for data\n * channel 2).\n *\n * @param  {Integer} char0 The first byte\n * @param  {Integer} char1 The second byte\n * @return {Boolean}       Whether the 2 bytes are a mid-row code\n */\n\n\nCea608Stream.prototype.isMidRowCode = function (char0, char1) {\n  return char0 === this.EXT_ && char1 >= 0x20 && char1 <= 0x2f;\n};\n/**\n * Detects if the 2-byte packet is an offset control code\n *\n * Offset control codes have a second byte in the range 0x21 to 0x23,\n * with the first byte being 0x17 (for data channel 1) or 0x1f (for\n * data channel 2).\n *\n * @param  {Integer} char0 The first byte\n * @param  {Integer} char1 The second byte\n * @return {Boolean}       Whether the 2 bytes are an offset control code\n */\n\n\nCea608Stream.prototype.isOffsetControlCode = function (char0, char1) {\n  return char0 === this.OFFSET_ && char1 >= 0x21 && char1 <= 0x23;\n};\n/**\n * Detects if the 2-byte packet is a Preamble Address Code\n *\n * PACs have a first byte in the range 0x10 to 0x17 (for data channel 1)\n * or 0x18 to 0x1f (for data channel 2), with the second byte in the\n * range 0x40 to 0x7f.\n *\n * @param  {Integer} char0 The first byte\n * @param  {Integer} char1 The second byte\n * @return {Boolean}       Whether the 2 bytes are a PAC\n */\n\n\nCea608Stream.prototype.isPAC = function (char0, char1) {\n  return char0 >= this.BASE_ && char0 < this.BASE_ + 8 && char1 >= 0x40 && char1 <= 0x7f;\n};\n/**\n * Detects if a packet's second byte is in the range of a PAC color code\n *\n * PAC color codes have the second byte be in the range 0x40 to 0x4f, or\n * 0x60 to 0x6f.\n *\n * @param  {Integer} char1 The second byte\n * @return {Boolean}       Whether the byte is a color PAC\n */\n\n\nCea608Stream.prototype.isColorPAC = function (char1) {\n  return char1 >= 0x40 && char1 <= 0x4f || char1 >= 0x60 && char1 <= 0x7f;\n};\n/**\n * Detects if a single byte is in the range of a normal character\n *\n * Normal text bytes are in the range 0x20 to 0x7f.\n *\n * @param  {Integer} char  The byte\n * @return {Boolean}       Whether the byte is a normal character\n */\n\n\nCea608Stream.prototype.isNormalChar = function (char) {\n  return char >= 0x20 && char <= 0x7f;\n};\n/**\n * Configures roll-up\n *\n * @param  {Integer} pts         Current PTS\n * @param  {Integer} newBaseRow  Used by PACs to slide the current window to\n *                               a new position\n */\n\n\nCea608Stream.prototype.setRollUp = function (pts, newBaseRow) {\n  // Reset the base row to the bottom row when switching modes\n  if (this.mode_ !== 'rollUp') {\n    this.row_ = BOTTOM_ROW;\n    this.mode_ = 'rollUp'; // Spec says to wipe memories when switching to roll-up\n\n    this.flushDisplayed(pts);\n    this.nonDisplayed_ = createDisplayBuffer();\n    this.displayed_ = createDisplayBuffer();\n  }\n\n  if (newBaseRow !== undefined && newBaseRow !== this.row_) {\n    // move currently displayed captions (up or down) to the new base row\n    for (var i = 0; i < this.rollUpRows_; i++) {\n      this.displayed_[newBaseRow - i] = this.displayed_[this.row_ - i];\n      this.displayed_[this.row_ - i] = '';\n    }\n  }\n\n  if (newBaseRow === undefined) {\n    newBaseRow = this.row_;\n  }\n\n  this.topRow_ = newBaseRow - this.rollUpRows_ + 1;\n}; // Adds the opening HTML tag for the passed character to the caption text,\n// and keeps track of it for later closing\n\n\nCea608Stream.prototype.addFormatting = function (pts, format) {\n  this.formatting_ = this.formatting_.concat(format);\n  var text = format.reduce(function (text, format) {\n    return text + '<' + format + '>';\n  }, '');\n  this[this.mode_](pts, text);\n}; // Adds HTML closing tags for current formatting to caption text and\n// clears remembered formatting\n\n\nCea608Stream.prototype.clearFormatting = function (pts) {\n  if (!this.formatting_.length) {\n    return;\n  }\n\n  var text = this.formatting_.reverse().reduce(function (text, format) {\n    return text + '</' + format + '>';\n  }, '');\n  this.formatting_ = [];\n  this[this.mode_](pts, text);\n}; // Mode Implementations\n\n\nCea608Stream.prototype.popOn = function (pts, text) {\n  var baseRow = this.nonDisplayed_[this.row_]; // buffer characters\n\n  baseRow += text;\n  this.nonDisplayed_[this.row_] = baseRow;\n};\n\nCea608Stream.prototype.rollUp = function (pts, text) {\n  var baseRow = this.displayed_[this.row_];\n  baseRow += text;\n  this.displayed_[this.row_] = baseRow;\n};\n\nCea608Stream.prototype.shiftRowsUp_ = function () {\n  var i; // clear out inactive rows\n\n  for (i = 0; i < this.topRow_; i++) {\n    this.displayed_[i] = '';\n  }\n\n  for (i = this.row_ + 1; i < BOTTOM_ROW + 1; i++) {\n    this.displayed_[i] = '';\n  } // shift displayed rows up\n\n\n  for (i = this.topRow_; i < this.row_; i++) {\n    this.displayed_[i] = this.displayed_[i + 1];\n  } // clear out the bottom row\n\n\n  this.displayed_[this.row_] = '';\n};\n\nCea608Stream.prototype.paintOn = function (pts, text) {\n  var baseRow = this.displayed_[this.row_];\n  baseRow += text;\n  this.displayed_[this.row_] = baseRow;\n}; // exports\n\n\nmodule.exports = {\n  CaptionStream: CaptionStream,\n  Cea608Stream: Cea608Stream\n};","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Track = void 0;\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _classnames = _interopRequireDefault(require(\"classnames\"));\n\nvar _innerSliderUtils = require(\"./utils/innerSliderUtils\");\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    \"default\": obj\n  };\n}\n\nfunction _typeof(obj) {\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return _assertThisInitialized(self);\n}\n\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) _setPrototypeOf(subClass, superClass);\n}\n\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(source, true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(source).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n} // given specifications/props for a slide, fetch all the classes that need to be applied to the slide\n\n\nvar getSlideClasses = function getSlideClasses(spec) {\n  var slickActive, slickCenter, slickCloned;\n  var centerOffset, index;\n\n  if (spec.rtl) {\n    index = spec.slideCount - 1 - spec.index;\n  } else {\n    index = spec.index;\n  }\n\n  slickCloned = index < 0 || index >= spec.slideCount;\n\n  if (spec.centerMode) {\n    centerOffset = Math.floor(spec.slidesToShow / 2);\n    slickCenter = (index - spec.currentSlide) % spec.slideCount === 0;\n\n    if (index > spec.currentSlide - centerOffset - 1 && index <= spec.currentSlide + centerOffset) {\n      slickActive = true;\n    }\n  } else {\n    slickActive = spec.currentSlide <= index && index < spec.currentSlide + spec.slidesToShow;\n  }\n\n  var focusedSlide;\n\n  if (spec.targetSlide < 0) {\n    focusedSlide = spec.targetSlide + spec.slideCount;\n  } else if (spec.targetSlide >= spec.slideCount) {\n    focusedSlide = spec.targetSlide - spec.slideCount;\n  } else {\n    focusedSlide = spec.targetSlide;\n  }\n\n  var slickCurrent = index === focusedSlide;\n  return {\n    \"slick-slide\": true,\n    \"slick-active\": slickActive,\n    \"slick-center\": slickCenter,\n    \"slick-cloned\": slickCloned,\n    \"slick-current\": slickCurrent // dubious in case of RTL\n\n  };\n};\n\nvar getSlideStyle = function getSlideStyle(spec) {\n  var style = {};\n\n  if (spec.variableWidth === undefined || spec.variableWidth === false) {\n    style.width = spec.slideWidth;\n  }\n\n  if (spec.fade) {\n    style.position = \"relative\";\n\n    if (spec.vertical) {\n      style.top = -spec.index * parseInt(spec.slideHeight);\n    } else {\n      style.left = -spec.index * parseInt(spec.slideWidth);\n    }\n\n    style.opacity = spec.currentSlide === spec.index ? 1 : 0;\n\n    if (spec.useCSS) {\n      style.transition = \"opacity \" + spec.speed + \"ms \" + spec.cssEase + \", \" + \"visibility \" + spec.speed + \"ms \" + spec.cssEase;\n    }\n  }\n\n  return style;\n};\n\nvar getKey = function getKey(child, fallbackKey) {\n  return child.key || fallbackKey;\n};\n\nvar renderSlides = function renderSlides(spec) {\n  var key;\n  var slides = [];\n  var preCloneSlides = [];\n  var postCloneSlides = [];\n\n  var childrenCount = _react[\"default\"].Children.count(spec.children);\n\n  var startIndex = (0, _innerSliderUtils.lazyStartIndex)(spec);\n  var endIndex = (0, _innerSliderUtils.lazyEndIndex)(spec);\n\n  _react[\"default\"].Children.forEach(spec.children, function (elem, index) {\n    var child;\n    var childOnClickOptions = {\n      message: \"children\",\n      index: index,\n      slidesToScroll: spec.slidesToScroll,\n      currentSlide: spec.currentSlide\n    }; // in case of lazyLoad, whether or not we want to fetch the slide\n\n    if (!spec.lazyLoad || spec.lazyLoad && spec.lazyLoadedList.indexOf(index) >= 0) {\n      child = elem;\n    } else {\n      child = _react[\"default\"].createElement(\"div\", null);\n    }\n\n    var childStyle = getSlideStyle(_objectSpread({}, spec, {\n      index: index\n    }));\n    var slideClass = child.props.className || \"\";\n    var slideClasses = getSlideClasses(_objectSpread({}, spec, {\n      index: index\n    })); // push a cloned element of the desired slide\n\n    slides.push(_react[\"default\"].cloneElement(child, {\n      key: \"original\" + getKey(child, index),\n      \"data-index\": index,\n      className: (0, _classnames[\"default\"])(slideClasses, slideClass),\n      tabIndex: \"-1\",\n      \"aria-hidden\": !slideClasses[\"slick-active\"],\n      style: _objectSpread({\n        outline: \"none\"\n      }, child.props.style || {}, {}, childStyle),\n      onClick: function onClick(e) {\n        child.props && child.props.onClick && child.props.onClick(e);\n\n        if (spec.focusOnSelect) {\n          spec.focusOnSelect(childOnClickOptions);\n        }\n      }\n    })); // if slide needs to be precloned or postcloned\n\n    if (spec.infinite && spec.fade === false) {\n      var preCloneNo = childrenCount - index;\n\n      if (preCloneNo <= (0, _innerSliderUtils.getPreClones)(spec) && childrenCount !== spec.slidesToShow) {\n        key = -preCloneNo;\n\n        if (key >= startIndex) {\n          child = elem;\n        }\n\n        slideClasses = getSlideClasses(_objectSpread({}, spec, {\n          index: key\n        }));\n        preCloneSlides.push(_react[\"default\"].cloneElement(child, {\n          key: \"precloned\" + getKey(child, key),\n          \"data-index\": key,\n          tabIndex: \"-1\",\n          className: (0, _classnames[\"default\"])(slideClasses, slideClass),\n          \"aria-hidden\": !slideClasses[\"slick-active\"],\n          style: _objectSpread({}, child.props.style || {}, {}, childStyle),\n          onClick: function onClick(e) {\n            child.props && child.props.onClick && child.props.onClick(e);\n\n            if (spec.focusOnSelect) {\n              spec.focusOnSelect(childOnClickOptions);\n            }\n          }\n        }));\n      }\n\n      if (childrenCount !== spec.slidesToShow) {\n        key = childrenCount + index;\n\n        if (key < endIndex) {\n          child = elem;\n        }\n\n        slideClasses = getSlideClasses(_objectSpread({}, spec, {\n          index: key\n        }));\n        postCloneSlides.push(_react[\"default\"].cloneElement(child, {\n          key: \"postcloned\" + getKey(child, key),\n          \"data-index\": key,\n          tabIndex: \"-1\",\n          className: (0, _classnames[\"default\"])(slideClasses, slideClass),\n          \"aria-hidden\": !slideClasses[\"slick-active\"],\n          style: _objectSpread({}, child.props.style || {}, {}, childStyle),\n          onClick: function onClick(e) {\n            child.props && child.props.onClick && child.props.onClick(e);\n\n            if (spec.focusOnSelect) {\n              spec.focusOnSelect(childOnClickOptions);\n            }\n          }\n        }));\n      }\n    }\n  });\n\n  if (spec.rtl) {\n    return preCloneSlides.concat(slides, postCloneSlides).reverse();\n  } else {\n    return preCloneSlides.concat(slides, postCloneSlides);\n  }\n};\n\nvar Track = /*#__PURE__*/function (_React$PureComponent) {\n  _inherits(Track, _React$PureComponent);\n\n  function Track() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, Track);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(Track)).call.apply(_getPrototypeOf2, [this].concat(args)));\n\n    _defineProperty(_assertThisInitialized(_this), \"node\", null);\n\n    _defineProperty(_assertThisInitialized(_this), \"handleRef\", function (ref) {\n      _this.node = ref;\n    });\n\n    return _this;\n  }\n\n  _createClass(Track, [{\n    key: \"render\",\n    value: function render() {\n      var slides = renderSlides(this.props);\n      var _this$props = this.props,\n          onMouseEnter = _this$props.onMouseEnter,\n          onMouseOver = _this$props.onMouseOver,\n          onMouseLeave = _this$props.onMouseLeave;\n      var mouseEvents = {\n        onMouseEnter: onMouseEnter,\n        onMouseOver: onMouseOver,\n        onMouseLeave: onMouseLeave\n      };\n      return _react[\"default\"].createElement(\"div\", _extends({\n        ref: this.handleRef,\n        className: \"slick-track\",\n        style: this.props.trackStyle\n      }, mouseEvents), slides);\n    }\n  }]);\n\n  return Track;\n}(_react[\"default\"].PureComponent);\n\nexports.Track = Track;","/*! @name @videojs/vhs-utils @version 1.3.0 @license MIT */\n'use strict';\n\nfunction _interopDefault(ex) {\n  return ex && typeof ex === 'object' && 'default' in ex ? ex['default'] : ex;\n}\n\nvar URLToolkit = _interopDefault(require('url-toolkit'));\n\nvar window = _interopDefault(require('global/window'));\n\nvar resolveUrl = function resolveUrl(baseUrl, relativeUrl) {\n  // return early if we don't need to resolve\n  if (/^[a-z]+:/i.test(relativeUrl)) {\n    return relativeUrl;\n  } // if the base URL is relative then combine with the current location\n\n\n  if (!/\\/\\//i.test(baseUrl)) {\n    baseUrl = URLToolkit.buildAbsoluteURL(window.location && window.location.href || '', baseUrl);\n  }\n\n  return URLToolkit.buildAbsoluteURL(baseUrl, relativeUrl);\n};\n\nmodule.exports = resolveUrl;","var _typeof = require(\"../helpers/typeof\");\n\nvar assertThisInitialized = require(\"./assertThisInitialized\");\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return assertThisInitialized(self);\n}\n\nmodule.exports = _possibleConstructorReturn;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Dots = void 0;\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _classnames = _interopRequireDefault(require(\"classnames\"));\n\nvar _innerSliderUtils = require(\"./utils/innerSliderUtils\");\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    \"default\": obj\n  };\n}\n\nfunction _typeof(obj) {\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(source, true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(source).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return _assertThisInitialized(self);\n}\n\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) _setPrototypeOf(subClass, superClass);\n}\n\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nvar getDotCount = function getDotCount(spec) {\n  var dots;\n\n  if (spec.infinite) {\n    dots = Math.ceil(spec.slideCount / spec.slidesToScroll);\n  } else {\n    dots = Math.ceil((spec.slideCount - spec.slidesToShow) / spec.slidesToScroll) + 1;\n  }\n\n  return dots;\n};\n\nvar Dots = /*#__PURE__*/function (_React$PureComponent) {\n  _inherits(Dots, _React$PureComponent);\n\n  function Dots() {\n    _classCallCheck(this, Dots);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(Dots).apply(this, arguments));\n  }\n\n  _createClass(Dots, [{\n    key: \"clickHandler\",\n    value: function clickHandler(options, e) {\n      // In Autoplay the focus stays on clicked button even after transition\n      // to next slide. That only goes away by click somewhere outside\n      e.preventDefault();\n      this.props.clickHandler(options);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props = this.props,\n          onMouseEnter = _this$props.onMouseEnter,\n          onMouseOver = _this$props.onMouseOver,\n          onMouseLeave = _this$props.onMouseLeave,\n          infinite = _this$props.infinite,\n          slidesToScroll = _this$props.slidesToScroll,\n          slidesToShow = _this$props.slidesToShow,\n          slideCount = _this$props.slideCount,\n          currentSlide = _this$props.currentSlide;\n      var dotCount = getDotCount({\n        slideCount: slideCount,\n        slidesToScroll: slidesToScroll,\n        slidesToShow: slidesToShow,\n        infinite: infinite\n      });\n      var mouseEvents = {\n        onMouseEnter: onMouseEnter,\n        onMouseOver: onMouseOver,\n        onMouseLeave: onMouseLeave\n      };\n      var dots = [];\n\n      for (var i = 0; i < dotCount; i++) {\n        var _rightBound = (i + 1) * slidesToScroll - 1;\n\n        var rightBound = infinite ? _rightBound : (0, _innerSliderUtils.clamp)(_rightBound, 0, slideCount - 1);\n\n        var _leftBound = rightBound - (slidesToScroll - 1);\n\n        var leftBound = infinite ? _leftBound : (0, _innerSliderUtils.clamp)(_leftBound, 0, slideCount - 1);\n        var className = (0, _classnames[\"default\"])({\n          \"slick-active\": infinite ? currentSlide >= leftBound && currentSlide <= rightBound : currentSlide === leftBound\n        });\n        var dotOptions = {\n          message: \"dots\",\n          index: i,\n          slidesToScroll: slidesToScroll,\n          currentSlide: currentSlide\n        };\n        var onClick = this.clickHandler.bind(this, dotOptions);\n        dots = dots.concat(_react[\"default\"].createElement(\"li\", {\n          key: i,\n          className: className\n        }, _react[\"default\"].cloneElement(this.props.customPaging(i), {\n          onClick: onClick\n        })));\n      }\n\n      return _react[\"default\"].cloneElement(this.props.appendDots(dots), _objectSpread({\n        className: this.props.dotsClass\n      }, mouseEvents));\n    }\n  }]);\n\n  return Dots;\n}(_react[\"default\"].PureComponent);\n\nexports.Dots = Dots;","function _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nmodule.exports = _isNativeReflectConstruct;","/**\r\n * A collection of shims that provide minimal functionality of the ES6 collections.\r\n *\r\n * These implementations are not meant to be used outside of the ResizeObserver\r\n * modules as they cover only a limited range of use cases.\r\n */\n\n/* eslint-disable require-jsdoc, valid-jsdoc */\nvar MapShim = function () {\n  if (typeof Map !== 'undefined') {\n    return Map;\n  }\n  /**\r\n   * Returns index in provided array that matches the specified key.\r\n   *\r\n   * @param {Array<Array>} arr\r\n   * @param {*} key\r\n   * @returns {number}\r\n   */\n\n\n  function getIndex(arr, key) {\n    var result = -1;\n    arr.some(function (entry, index) {\n      if (entry[0] === key) {\n        result = index;\n        return true;\n      }\n\n      return false;\n    });\n    return result;\n  }\n\n  return (\n    /** @class */\n    function () {\n      function class_1() {\n        this.__entries__ = [];\n      }\n\n      Object.defineProperty(class_1.prototype, \"size\", {\n        /**\r\n         * @returns {boolean}\r\n         */\n        get: function get() {\n          return this.__entries__.length;\n        },\n        enumerable: true,\n        configurable: true\n      });\n      /**\r\n       * @param {*} key\r\n       * @returns {*}\r\n       */\n\n      class_1.prototype.get = function (key) {\n        var index = getIndex(this.__entries__, key);\n        var entry = this.__entries__[index];\n        return entry && entry[1];\n      };\n      /**\r\n       * @param {*} key\r\n       * @param {*} value\r\n       * @returns {void}\r\n       */\n\n\n      class_1.prototype.set = function (key, value) {\n        var index = getIndex(this.__entries__, key);\n\n        if (~index) {\n          this.__entries__[index][1] = value;\n        } else {\n          this.__entries__.push([key, value]);\n        }\n      };\n      /**\r\n       * @param {*} key\r\n       * @returns {void}\r\n       */\n\n\n      class_1.prototype.delete = function (key) {\n        var entries = this.__entries__;\n        var index = getIndex(entries, key);\n\n        if (~index) {\n          entries.splice(index, 1);\n        }\n      };\n      /**\r\n       * @param {*} key\r\n       * @returns {void}\r\n       */\n\n\n      class_1.prototype.has = function (key) {\n        return !!~getIndex(this.__entries__, key);\n      };\n      /**\r\n       * @returns {void}\r\n       */\n\n\n      class_1.prototype.clear = function () {\n        this.__entries__.splice(0);\n      };\n      /**\r\n       * @param {Function} callback\r\n       * @param {*} [ctx=null]\r\n       * @returns {void}\r\n       */\n\n\n      class_1.prototype.forEach = function (callback, ctx) {\n        if (ctx === void 0) {\n          ctx = null;\n        }\n\n        for (var _i = 0, _a = this.__entries__; _i < _a.length; _i++) {\n          var entry = _a[_i];\n          callback.call(ctx, entry[1], entry[0]);\n        }\n      };\n\n      return class_1;\n    }()\n  );\n}();\n/**\r\n * Detects whether window and document objects are available in current environment.\r\n */\n\n\nvar isBrowser = typeof window !== 'undefined' && typeof document !== 'undefined' && window.document === document; // Returns global object of a current environment.\n\nvar global$1 = function () {\n  if (typeof global !== 'undefined' && global.Math === Math) {\n    return global;\n  }\n\n  if (typeof self !== 'undefined' && self.Math === Math) {\n    return self;\n  }\n\n  if (typeof window !== 'undefined' && window.Math === Math) {\n    return window;\n  } // eslint-disable-next-line no-new-func\n\n\n  return Function('return this')();\n}();\n/**\r\n * A shim for the requestAnimationFrame which falls back to the setTimeout if\r\n * first one is not supported.\r\n *\r\n * @returns {number} Requests' identifier.\r\n */\n\n\nvar requestAnimationFrame$1 = function () {\n  if (typeof requestAnimationFrame === 'function') {\n    // It's required to use a bounded function because IE sometimes throws\n    // an \"Invalid calling object\" error if rAF is invoked without the global\n    // object on the left hand side.\n    return requestAnimationFrame.bind(global$1);\n  }\n\n  return function (callback) {\n    return setTimeout(function () {\n      return callback(Date.now());\n    }, 1000 / 60);\n  };\n}(); // Defines minimum timeout before adding a trailing call.\n\n\nvar trailingTimeout = 2;\n/**\r\n * Creates a wrapper function which ensures that provided callback will be\r\n * invoked only once during the specified delay period.\r\n *\r\n * @param {Function} callback - Function to be invoked after the delay period.\r\n * @param {number} delay - Delay after which to invoke callback.\r\n * @returns {Function}\r\n */\n\nfunction throttle(callback, delay) {\n  var leadingCall = false,\n      trailingCall = false,\n      lastCallTime = 0;\n  /**\r\n   * Invokes the original callback function and schedules new invocation if\r\n   * the \"proxy\" was called during current request.\r\n   *\r\n   * @returns {void}\r\n   */\n\n  function resolvePending() {\n    if (leadingCall) {\n      leadingCall = false;\n      callback();\n    }\n\n    if (trailingCall) {\n      proxy();\n    }\n  }\n  /**\r\n   * Callback invoked after the specified delay. It will further postpone\r\n   * invocation of the original function delegating it to the\r\n   * requestAnimationFrame.\r\n   *\r\n   * @returns {void}\r\n   */\n\n\n  function timeoutCallback() {\n    requestAnimationFrame$1(resolvePending);\n  }\n  /**\r\n   * Schedules invocation of the original function.\r\n   *\r\n   * @returns {void}\r\n   */\n\n\n  function proxy() {\n    var timeStamp = Date.now();\n\n    if (leadingCall) {\n      // Reject immediately following calls.\n      if (timeStamp - lastCallTime < trailingTimeout) {\n        return;\n      } // Schedule new call to be in invoked when the pending one is resolved.\n      // This is important for \"transitions\" which never actually start\n      // immediately so there is a chance that we might miss one if change\n      // happens amids the pending invocation.\n\n\n      trailingCall = true;\n    } else {\n      leadingCall = true;\n      trailingCall = false;\n      setTimeout(timeoutCallback, delay);\n    }\n\n    lastCallTime = timeStamp;\n  }\n\n  return proxy;\n} // Minimum delay before invoking the update of observers.\n\n\nvar REFRESH_DELAY = 20; // A list of substrings of CSS properties used to find transition events that\n// might affect dimensions of observed elements.\n\nvar transitionKeys = ['top', 'right', 'bottom', 'left', 'width', 'height', 'size', 'weight']; // Check if MutationObserver is available.\n\nvar mutationObserverSupported = typeof MutationObserver !== 'undefined';\n/**\r\n * Singleton controller class which handles updates of ResizeObserver instances.\r\n */\n\nvar ResizeObserverController =\n/** @class */\nfunction () {\n  /**\r\n   * Creates a new instance of ResizeObserverController.\r\n   *\r\n   * @private\r\n   */\n  function ResizeObserverController() {\n    /**\r\n     * Indicates whether DOM listeners have been added.\r\n     *\r\n     * @private {boolean}\r\n     */\n    this.connected_ = false;\n    /**\r\n     * Tells that controller has subscribed for Mutation Events.\r\n     *\r\n     * @private {boolean}\r\n     */\n\n    this.mutationEventsAdded_ = false;\n    /**\r\n     * Keeps reference to the instance of MutationObserver.\r\n     *\r\n     * @private {MutationObserver}\r\n     */\n\n    this.mutationsObserver_ = null;\n    /**\r\n     * A list of connected observers.\r\n     *\r\n     * @private {Array<ResizeObserverSPI>}\r\n     */\n\n    this.observers_ = [];\n    this.onTransitionEnd_ = this.onTransitionEnd_.bind(this);\n    this.refresh = throttle(this.refresh.bind(this), REFRESH_DELAY);\n  }\n  /**\r\n   * Adds observer to observers list.\r\n   *\r\n   * @param {ResizeObserverSPI} observer - Observer to be added.\r\n   * @returns {void}\r\n   */\n\n\n  ResizeObserverController.prototype.addObserver = function (observer) {\n    if (!~this.observers_.indexOf(observer)) {\n      this.observers_.push(observer);\n    } // Add listeners if they haven't been added yet.\n\n\n    if (!this.connected_) {\n      this.connect_();\n    }\n  };\n  /**\r\n   * Removes observer from observers list.\r\n   *\r\n   * @param {ResizeObserverSPI} observer - Observer to be removed.\r\n   * @returns {void}\r\n   */\n\n\n  ResizeObserverController.prototype.removeObserver = function (observer) {\n    var observers = this.observers_;\n    var index = observers.indexOf(observer); // Remove observer if it's present in registry.\n\n    if (~index) {\n      observers.splice(index, 1);\n    } // Remove listeners if controller has no connected observers.\n\n\n    if (!observers.length && this.connected_) {\n      this.disconnect_();\n    }\n  };\n  /**\r\n   * Invokes the update of observers. It will continue running updates insofar\r\n   * it detects changes.\r\n   *\r\n   * @returns {void}\r\n   */\n\n\n  ResizeObserverController.prototype.refresh = function () {\n    var changesDetected = this.updateObservers_(); // Continue running updates if changes have been detected as there might\n    // be future ones caused by CSS transitions.\n\n    if (changesDetected) {\n      this.refresh();\n    }\n  };\n  /**\r\n   * Updates every observer from observers list and notifies them of queued\r\n   * entries.\r\n   *\r\n   * @private\r\n   * @returns {boolean} Returns \"true\" if any observer has detected changes in\r\n   *      dimensions of it's elements.\r\n   */\n\n\n  ResizeObserverController.prototype.updateObservers_ = function () {\n    // Collect observers that have active observations.\n    var activeObservers = this.observers_.filter(function (observer) {\n      return observer.gatherActive(), observer.hasActive();\n    }); // Deliver notifications in a separate cycle in order to avoid any\n    // collisions between observers, e.g. when multiple instances of\n    // ResizeObserver are tracking the same element and the callback of one\n    // of them changes content dimensions of the observed target. Sometimes\n    // this may result in notifications being blocked for the rest of observers.\n\n    activeObservers.forEach(function (observer) {\n      return observer.broadcastActive();\n    });\n    return activeObservers.length > 0;\n  };\n  /**\r\n   * Initializes DOM listeners.\r\n   *\r\n   * @private\r\n   * @returns {void}\r\n   */\n\n\n  ResizeObserverController.prototype.connect_ = function () {\n    // Do nothing if running in a non-browser environment or if listeners\n    // have been already added.\n    if (!isBrowser || this.connected_) {\n      return;\n    } // Subscription to the \"Transitionend\" event is used as a workaround for\n    // delayed transitions. This way it's possible to capture at least the\n    // final state of an element.\n\n\n    document.addEventListener('transitionend', this.onTransitionEnd_);\n    window.addEventListener('resize', this.refresh);\n\n    if (mutationObserverSupported) {\n      this.mutationsObserver_ = new MutationObserver(this.refresh);\n      this.mutationsObserver_.observe(document, {\n        attributes: true,\n        childList: true,\n        characterData: true,\n        subtree: true\n      });\n    } else {\n      document.addEventListener('DOMSubtreeModified', this.refresh);\n      this.mutationEventsAdded_ = true;\n    }\n\n    this.connected_ = true;\n  };\n  /**\r\n   * Removes DOM listeners.\r\n   *\r\n   * @private\r\n   * @returns {void}\r\n   */\n\n\n  ResizeObserverController.prototype.disconnect_ = function () {\n    // Do nothing if running in a non-browser environment or if listeners\n    // have been already removed.\n    if (!isBrowser || !this.connected_) {\n      return;\n    }\n\n    document.removeEventListener('transitionend', this.onTransitionEnd_);\n    window.removeEventListener('resize', this.refresh);\n\n    if (this.mutationsObserver_) {\n      this.mutationsObserver_.disconnect();\n    }\n\n    if (this.mutationEventsAdded_) {\n      document.removeEventListener('DOMSubtreeModified', this.refresh);\n    }\n\n    this.mutationsObserver_ = null;\n    this.mutationEventsAdded_ = false;\n    this.connected_ = false;\n  };\n  /**\r\n   * \"Transitionend\" event handler.\r\n   *\r\n   * @private\r\n   * @param {TransitionEvent} event\r\n   * @returns {void}\r\n   */\n\n\n  ResizeObserverController.prototype.onTransitionEnd_ = function (_a) {\n    var _b = _a.propertyName,\n        propertyName = _b === void 0 ? '' : _b; // Detect whether transition may affect dimensions of an element.\n\n    var isReflowProperty = transitionKeys.some(function (key) {\n      return !!~propertyName.indexOf(key);\n    });\n\n    if (isReflowProperty) {\n      this.refresh();\n    }\n  };\n  /**\r\n   * Returns instance of the ResizeObserverController.\r\n   *\r\n   * @returns {ResizeObserverController}\r\n   */\n\n\n  ResizeObserverController.getInstance = function () {\n    if (!this.instance_) {\n      this.instance_ = new ResizeObserverController();\n    }\n\n    return this.instance_;\n  };\n  /**\r\n   * Holds reference to the controller's instance.\r\n   *\r\n   * @private {ResizeObserverController}\r\n   */\n\n\n  ResizeObserverController.instance_ = null;\n  return ResizeObserverController;\n}();\n/**\r\n * Defines non-writable/enumerable properties of the provided target object.\r\n *\r\n * @param {Object} target - Object for which to define properties.\r\n * @param {Object} props - Properties to be defined.\r\n * @returns {Object} Target object.\r\n */\n\n\nvar defineConfigurable = function defineConfigurable(target, props) {\n  for (var _i = 0, _a = Object.keys(props); _i < _a.length; _i++) {\n    var key = _a[_i];\n    Object.defineProperty(target, key, {\n      value: props[key],\n      enumerable: false,\n      writable: false,\n      configurable: true\n    });\n  }\n\n  return target;\n};\n/**\r\n * Returns the global object associated with provided element.\r\n *\r\n * @param {Object} target\r\n * @returns {Object}\r\n */\n\n\nvar getWindowOf = function getWindowOf(target) {\n  // Assume that the element is an instance of Node, which means that it\n  // has the \"ownerDocument\" property from which we can retrieve a\n  // corresponding global object.\n  var ownerGlobal = target && target.ownerDocument && target.ownerDocument.defaultView; // Return the local global object if it's not possible extract one from\n  // provided element.\n\n  return ownerGlobal || global$1;\n}; // Placeholder of an empty content rectangle.\n\n\nvar emptyRect = createRectInit(0, 0, 0, 0);\n/**\r\n * Converts provided string to a number.\r\n *\r\n * @param {number|string} value\r\n * @returns {number}\r\n */\n\nfunction toFloat(value) {\n  return parseFloat(value) || 0;\n}\n/**\r\n * Extracts borders size from provided styles.\r\n *\r\n * @param {CSSStyleDeclaration} styles\r\n * @param {...string} positions - Borders positions (top, right, ...)\r\n * @returns {number}\r\n */\n\n\nfunction getBordersSize(styles) {\n  var positions = [];\n\n  for (var _i = 1; _i < arguments.length; _i++) {\n    positions[_i - 1] = arguments[_i];\n  }\n\n  return positions.reduce(function (size, position) {\n    var value = styles['border-' + position + '-width'];\n    return size + toFloat(value);\n  }, 0);\n}\n/**\r\n * Extracts paddings sizes from provided styles.\r\n *\r\n * @param {CSSStyleDeclaration} styles\r\n * @returns {Object} Paddings box.\r\n */\n\n\nfunction getPaddings(styles) {\n  var positions = ['top', 'right', 'bottom', 'left'];\n  var paddings = {};\n\n  for (var _i = 0, positions_1 = positions; _i < positions_1.length; _i++) {\n    var position = positions_1[_i];\n    var value = styles['padding-' + position];\n    paddings[position] = toFloat(value);\n  }\n\n  return paddings;\n}\n/**\r\n * Calculates content rectangle of provided SVG element.\r\n *\r\n * @param {SVGGraphicsElement} target - Element content rectangle of which needs\r\n *      to be calculated.\r\n * @returns {DOMRectInit}\r\n */\n\n\nfunction getSVGContentRect(target) {\n  var bbox = target.getBBox();\n  return createRectInit(0, 0, bbox.width, bbox.height);\n}\n/**\r\n * Calculates content rectangle of provided HTMLElement.\r\n *\r\n * @param {HTMLElement} target - Element for which to calculate the content rectangle.\r\n * @returns {DOMRectInit}\r\n */\n\n\nfunction getHTMLElementContentRect(target) {\n  // Client width & height properties can't be\n  // used exclusively as they provide rounded values.\n  var clientWidth = target.clientWidth,\n      clientHeight = target.clientHeight; // By this condition we can catch all non-replaced inline, hidden and\n  // detached elements. Though elements with width & height properties less\n  // than 0.5 will be discarded as well.\n  //\n  // Without it we would need to implement separate methods for each of\n  // those cases and it's not possible to perform a precise and performance\n  // effective test for hidden elements. E.g. even jQuery's ':visible' filter\n  // gives wrong results for elements with width & height less than 0.5.\n\n  if (!clientWidth && !clientHeight) {\n    return emptyRect;\n  }\n\n  var styles = getWindowOf(target).getComputedStyle(target);\n  var paddings = getPaddings(styles);\n  var horizPad = paddings.left + paddings.right;\n  var vertPad = paddings.top + paddings.bottom; // Computed styles of width & height are being used because they are the\n  // only dimensions available to JS that contain non-rounded values. It could\n  // be possible to utilize the getBoundingClientRect if only it's data wasn't\n  // affected by CSS transformations let alone paddings, borders and scroll bars.\n\n  var width = toFloat(styles.width),\n      height = toFloat(styles.height); // Width & height include paddings and borders when the 'border-box' box\n  // model is applied (except for IE).\n\n  if (styles.boxSizing === 'border-box') {\n    // Following conditions are required to handle Internet Explorer which\n    // doesn't include paddings and borders to computed CSS dimensions.\n    //\n    // We can say that if CSS dimensions + paddings are equal to the \"client\"\n    // properties then it's either IE, and thus we don't need to subtract\n    // anything, or an element merely doesn't have paddings/borders styles.\n    if (Math.round(width + horizPad) !== clientWidth) {\n      width -= getBordersSize(styles, 'left', 'right') + horizPad;\n    }\n\n    if (Math.round(height + vertPad) !== clientHeight) {\n      height -= getBordersSize(styles, 'top', 'bottom') + vertPad;\n    }\n  } // Following steps can't be applied to the document's root element as its\n  // client[Width/Height] properties represent viewport area of the window.\n  // Besides, it's as well not necessary as the <html> itself neither has\n  // rendered scroll bars nor it can be clipped.\n\n\n  if (!isDocumentElement(target)) {\n    // In some browsers (only in Firefox, actually) CSS width & height\n    // include scroll bars size which can be removed at this step as scroll\n    // bars are the only difference between rounded dimensions + paddings\n    // and \"client\" properties, though that is not always true in Chrome.\n    var vertScrollbar = Math.round(width + horizPad) - clientWidth;\n    var horizScrollbar = Math.round(height + vertPad) - clientHeight; // Chrome has a rather weird rounding of \"client\" properties.\n    // E.g. for an element with content width of 314.2px it sometimes gives\n    // the client width of 315px and for the width of 314.7px it may give\n    // 314px. And it doesn't happen all the time. So just ignore this delta\n    // as a non-relevant.\n\n    if (Math.abs(vertScrollbar) !== 1) {\n      width -= vertScrollbar;\n    }\n\n    if (Math.abs(horizScrollbar) !== 1) {\n      height -= horizScrollbar;\n    }\n  }\n\n  return createRectInit(paddings.left, paddings.top, width, height);\n}\n/**\r\n * Checks whether provided element is an instance of the SVGGraphicsElement.\r\n *\r\n * @param {Element} target - Element to be checked.\r\n * @returns {boolean}\r\n */\n\n\nvar isSVGGraphicsElement = function () {\n  // Some browsers, namely IE and Edge, don't have the SVGGraphicsElement\n  // interface.\n  if (typeof SVGGraphicsElement !== 'undefined') {\n    return function (target) {\n      return target instanceof getWindowOf(target).SVGGraphicsElement;\n    };\n  } // If it's so, then check that element is at least an instance of the\n  // SVGElement and that it has the \"getBBox\" method.\n  // eslint-disable-next-line no-extra-parens\n\n\n  return function (target) {\n    return target instanceof getWindowOf(target).SVGElement && typeof target.getBBox === 'function';\n  };\n}();\n/**\r\n * Checks whether provided element is a document element (<html>).\r\n *\r\n * @param {Element} target - Element to be checked.\r\n * @returns {boolean}\r\n */\n\n\nfunction isDocumentElement(target) {\n  return target === getWindowOf(target).document.documentElement;\n}\n/**\r\n * Calculates an appropriate content rectangle for provided html or svg element.\r\n *\r\n * @param {Element} target - Element content rectangle of which needs to be calculated.\r\n * @returns {DOMRectInit}\r\n */\n\n\nfunction getContentRect(target) {\n  if (!isBrowser) {\n    return emptyRect;\n  }\n\n  if (isSVGGraphicsElement(target)) {\n    return getSVGContentRect(target);\n  }\n\n  return getHTMLElementContentRect(target);\n}\n/**\r\n * Creates rectangle with an interface of the DOMRectReadOnly.\r\n * Spec: https://drafts.fxtf.org/geometry/#domrectreadonly\r\n *\r\n * @param {DOMRectInit} rectInit - Object with rectangle's x/y coordinates and dimensions.\r\n * @returns {DOMRectReadOnly}\r\n */\n\n\nfunction createReadOnlyRect(_a) {\n  var x = _a.x,\n      y = _a.y,\n      width = _a.width,\n      height = _a.height; // If DOMRectReadOnly is available use it as a prototype for the rectangle.\n\n  var Constr = typeof DOMRectReadOnly !== 'undefined' ? DOMRectReadOnly : Object;\n  var rect = Object.create(Constr.prototype); // Rectangle's properties are not writable and non-enumerable.\n\n  defineConfigurable(rect, {\n    x: x,\n    y: y,\n    width: width,\n    height: height,\n    top: y,\n    right: x + width,\n    bottom: height + y,\n    left: x\n  });\n  return rect;\n}\n/**\r\n * Creates DOMRectInit object based on the provided dimensions and the x/y coordinates.\r\n * Spec: https://drafts.fxtf.org/geometry/#dictdef-domrectinit\r\n *\r\n * @param {number} x - X coordinate.\r\n * @param {number} y - Y coordinate.\r\n * @param {number} width - Rectangle's width.\r\n * @param {number} height - Rectangle's height.\r\n * @returns {DOMRectInit}\r\n */\n\n\nfunction createRectInit(x, y, width, height) {\n  return {\n    x: x,\n    y: y,\n    width: width,\n    height: height\n  };\n}\n/**\r\n * Class that is responsible for computations of the content rectangle of\r\n * provided DOM element and for keeping track of it's changes.\r\n */\n\n\nvar ResizeObservation =\n/** @class */\nfunction () {\n  /**\r\n   * Creates an instance of ResizeObservation.\r\n   *\r\n   * @param {Element} target - Element to be observed.\r\n   */\n  function ResizeObservation(target) {\n    /**\r\n     * Broadcasted width of content rectangle.\r\n     *\r\n     * @type {number}\r\n     */\n    this.broadcastWidth = 0;\n    /**\r\n     * Broadcasted height of content rectangle.\r\n     *\r\n     * @type {number}\r\n     */\n\n    this.broadcastHeight = 0;\n    /**\r\n     * Reference to the last observed content rectangle.\r\n     *\r\n     * @private {DOMRectInit}\r\n     */\n\n    this.contentRect_ = createRectInit(0, 0, 0, 0);\n    this.target = target;\n  }\n  /**\r\n   * Updates content rectangle and tells whether it's width or height properties\r\n   * have changed since the last broadcast.\r\n   *\r\n   * @returns {boolean}\r\n   */\n\n\n  ResizeObservation.prototype.isActive = function () {\n    var rect = getContentRect(this.target);\n    this.contentRect_ = rect;\n    return rect.width !== this.broadcastWidth || rect.height !== this.broadcastHeight;\n  };\n  /**\r\n   * Updates 'broadcastWidth' and 'broadcastHeight' properties with a data\r\n   * from the corresponding properties of the last observed content rectangle.\r\n   *\r\n   * @returns {DOMRectInit} Last observed content rectangle.\r\n   */\n\n\n  ResizeObservation.prototype.broadcastRect = function () {\n    var rect = this.contentRect_;\n    this.broadcastWidth = rect.width;\n    this.broadcastHeight = rect.height;\n    return rect;\n  };\n\n  return ResizeObservation;\n}();\n\nvar ResizeObserverEntry =\n/** @class */\nfunction () {\n  /**\r\n   * Creates an instance of ResizeObserverEntry.\r\n   *\r\n   * @param {Element} target - Element that is being observed.\r\n   * @param {DOMRectInit} rectInit - Data of the element's content rectangle.\r\n   */\n  function ResizeObserverEntry(target, rectInit) {\n    var contentRect = createReadOnlyRect(rectInit); // According to the specification following properties are not writable\n    // and are also not enumerable in the native implementation.\n    //\n    // Property accessors are not being used as they'd require to define a\n    // private WeakMap storage which may cause memory leaks in browsers that\n    // don't support this type of collections.\n\n    defineConfigurable(this, {\n      target: target,\n      contentRect: contentRect\n    });\n  }\n\n  return ResizeObserverEntry;\n}();\n\nvar ResizeObserverSPI =\n/** @class */\nfunction () {\n  /**\r\n   * Creates a new instance of ResizeObserver.\r\n   *\r\n   * @param {ResizeObserverCallback} callback - Callback function that is invoked\r\n   *      when one of the observed elements changes it's content dimensions.\r\n   * @param {ResizeObserverController} controller - Controller instance which\r\n   *      is responsible for the updates of observer.\r\n   * @param {ResizeObserver} callbackCtx - Reference to the public\r\n   *      ResizeObserver instance which will be passed to callback function.\r\n   */\n  function ResizeObserverSPI(callback, controller, callbackCtx) {\n    /**\r\n     * Collection of resize observations that have detected changes in dimensions\r\n     * of elements.\r\n     *\r\n     * @private {Array<ResizeObservation>}\r\n     */\n    this.activeObservations_ = [];\n    /**\r\n     * Registry of the ResizeObservation instances.\r\n     *\r\n     * @private {Map<Element, ResizeObservation>}\r\n     */\n\n    this.observations_ = new MapShim();\n\n    if (typeof callback !== 'function') {\n      throw new TypeError('The callback provided as parameter 1 is not a function.');\n    }\n\n    this.callback_ = callback;\n    this.controller_ = controller;\n    this.callbackCtx_ = callbackCtx;\n  }\n  /**\r\n   * Starts observing provided element.\r\n   *\r\n   * @param {Element} target - Element to be observed.\r\n   * @returns {void}\r\n   */\n\n\n  ResizeObserverSPI.prototype.observe = function (target) {\n    if (!arguments.length) {\n      throw new TypeError('1 argument required, but only 0 present.');\n    } // Do nothing if current environment doesn't have the Element interface.\n\n\n    if (typeof Element === 'undefined' || !(Element instanceof Object)) {\n      return;\n    }\n\n    if (!(target instanceof getWindowOf(target).Element)) {\n      throw new TypeError('parameter 1 is not of type \"Element\".');\n    }\n\n    var observations = this.observations_; // Do nothing if element is already being observed.\n\n    if (observations.has(target)) {\n      return;\n    }\n\n    observations.set(target, new ResizeObservation(target));\n    this.controller_.addObserver(this); // Force the update of observations.\n\n    this.controller_.refresh();\n  };\n  /**\r\n   * Stops observing provided element.\r\n   *\r\n   * @param {Element} target - Element to stop observing.\r\n   * @returns {void}\r\n   */\n\n\n  ResizeObserverSPI.prototype.unobserve = function (target) {\n    if (!arguments.length) {\n      throw new TypeError('1 argument required, but only 0 present.');\n    } // Do nothing if current environment doesn't have the Element interface.\n\n\n    if (typeof Element === 'undefined' || !(Element instanceof Object)) {\n      return;\n    }\n\n    if (!(target instanceof getWindowOf(target).Element)) {\n      throw new TypeError('parameter 1 is not of type \"Element\".');\n    }\n\n    var observations = this.observations_; // Do nothing if element is not being observed.\n\n    if (!observations.has(target)) {\n      return;\n    }\n\n    observations.delete(target);\n\n    if (!observations.size) {\n      this.controller_.removeObserver(this);\n    }\n  };\n  /**\r\n   * Stops observing all elements.\r\n   *\r\n   * @returns {void}\r\n   */\n\n\n  ResizeObserverSPI.prototype.disconnect = function () {\n    this.clearActive();\n    this.observations_.clear();\n    this.controller_.removeObserver(this);\n  };\n  /**\r\n   * Collects observation instances the associated element of which has changed\r\n   * it's content rectangle.\r\n   *\r\n   * @returns {void}\r\n   */\n\n\n  ResizeObserverSPI.prototype.gatherActive = function () {\n    var _this = this;\n\n    this.clearActive();\n    this.observations_.forEach(function (observation) {\n      if (observation.isActive()) {\n        _this.activeObservations_.push(observation);\n      }\n    });\n  };\n  /**\r\n   * Invokes initial callback function with a list of ResizeObserverEntry\r\n   * instances collected from active resize observations.\r\n   *\r\n   * @returns {void}\r\n   */\n\n\n  ResizeObserverSPI.prototype.broadcastActive = function () {\n    // Do nothing if observer doesn't have active observations.\n    if (!this.hasActive()) {\n      return;\n    }\n\n    var ctx = this.callbackCtx_; // Create ResizeObserverEntry instance for every active observation.\n\n    var entries = this.activeObservations_.map(function (observation) {\n      return new ResizeObserverEntry(observation.target, observation.broadcastRect());\n    });\n    this.callback_.call(ctx, entries, ctx);\n    this.clearActive();\n  };\n  /**\r\n   * Clears the collection of active observations.\r\n   *\r\n   * @returns {void}\r\n   */\n\n\n  ResizeObserverSPI.prototype.clearActive = function () {\n    this.activeObservations_.splice(0);\n  };\n  /**\r\n   * Tells whether observer has active observations.\r\n   *\r\n   * @returns {boolean}\r\n   */\n\n\n  ResizeObserverSPI.prototype.hasActive = function () {\n    return this.activeObservations_.length > 0;\n  };\n\n  return ResizeObserverSPI;\n}(); // Registry of internal observers. If WeakMap is not available use current shim\n// for the Map collection as it has all required methods and because WeakMap\n// can't be fully polyfilled anyway.\n\n\nvar observers = typeof WeakMap !== 'undefined' ? new WeakMap() : new MapShim();\n/**\r\n * ResizeObserver API. Encapsulates the ResizeObserver SPI implementation\r\n * exposing only those methods and properties that are defined in the spec.\r\n */\n\nvar ResizeObserver =\n/** @class */\nfunction () {\n  /**\r\n   * Creates a new instance of ResizeObserver.\r\n   *\r\n   * @param {ResizeObserverCallback} callback - Callback that is invoked when\r\n   *      dimensions of the observed elements change.\r\n   */\n  function ResizeObserver(callback) {\n    if (!(this instanceof ResizeObserver)) {\n      throw new TypeError('Cannot call a class as a function.');\n    }\n\n    if (!arguments.length) {\n      throw new TypeError('1 argument required, but only 0 present.');\n    }\n\n    var controller = ResizeObserverController.getInstance();\n    var observer = new ResizeObserverSPI(callback, controller, this);\n    observers.set(this, observer);\n  }\n\n  return ResizeObserver;\n}(); // Expose public methods of ResizeObserver.\n\n\n['observe', 'unobserve', 'disconnect'].forEach(function (method) {\n  ResizeObserver.prototype[method] = function () {\n    var _a;\n\n    return (_a = observers.get(this))[method].apply(_a, arguments);\n  };\n});\n\nvar index = function () {\n  // Export existing implementation if available.\n  if (typeof global$1.ResizeObserver !== 'undefined') {\n    return global$1.ResizeObserver;\n  }\n\n  return ResizeObserver;\n}();\n\nexport default index;","/*\n * DOM Level 2\n * Object DOMException\n * @see http://www.w3.org/TR/REC-DOM-Level-1/ecma-script-language-binding.html\n * @see http://www.w3.org/TR/2000/REC-DOM-Level-2-Core-20001113/ecma-script-binding.html\n */\nfunction copy(src, dest) {\n  for (var p in src) {\n    dest[p] = src[p];\n  }\n}\n/**\n^\\w+\\.prototype\\.([_\\w]+)\\s*=\\s*((?:.*\\{\\s*?[\\r\\n][\\s\\S]*?^})|\\S.*?(?=[;\\r\\n]));?\n^\\w+\\.prototype\\.([_\\w]+)\\s*=\\s*(\\S.*?(?=[;\\r\\n]));?\n */\n\n\nfunction _extends(Class, Super) {\n  var pt = Class.prototype;\n\n  if (Object.create) {\n    var ppt = Object.create(Super.prototype);\n    pt.__proto__ = ppt;\n  }\n\n  if (!(pt instanceof Super)) {\n    function t() {}\n\n    ;\n    t.prototype = Super.prototype;\n    t = new t();\n    copy(pt, t);\n    Class.prototype = pt = t;\n  }\n\n  if (pt.constructor != Class) {\n    if (typeof Class != 'function') {\n      console.error(\"unknow Class:\" + Class);\n    }\n\n    pt.constructor = Class;\n  }\n}\n\nvar htmlns = 'http://www.w3.org/1999/xhtml'; // Node Types\n\nvar NodeType = {};\nvar ELEMENT_NODE = NodeType.ELEMENT_NODE = 1;\nvar ATTRIBUTE_NODE = NodeType.ATTRIBUTE_NODE = 2;\nvar TEXT_NODE = NodeType.TEXT_NODE = 3;\nvar CDATA_SECTION_NODE = NodeType.CDATA_SECTION_NODE = 4;\nvar ENTITY_REFERENCE_NODE = NodeType.ENTITY_REFERENCE_NODE = 5;\nvar ENTITY_NODE = NodeType.ENTITY_NODE = 6;\nvar PROCESSING_INSTRUCTION_NODE = NodeType.PROCESSING_INSTRUCTION_NODE = 7;\nvar COMMENT_NODE = NodeType.COMMENT_NODE = 8;\nvar DOCUMENT_NODE = NodeType.DOCUMENT_NODE = 9;\nvar DOCUMENT_TYPE_NODE = NodeType.DOCUMENT_TYPE_NODE = 10;\nvar DOCUMENT_FRAGMENT_NODE = NodeType.DOCUMENT_FRAGMENT_NODE = 11;\nvar NOTATION_NODE = NodeType.NOTATION_NODE = 12; // ExceptionCode\n\nvar ExceptionCode = {};\nvar ExceptionMessage = {};\nvar INDEX_SIZE_ERR = ExceptionCode.INDEX_SIZE_ERR = (ExceptionMessage[1] = \"Index size error\", 1);\nvar DOMSTRING_SIZE_ERR = ExceptionCode.DOMSTRING_SIZE_ERR = (ExceptionMessage[2] = \"DOMString size error\", 2);\nvar HIERARCHY_REQUEST_ERR = ExceptionCode.HIERARCHY_REQUEST_ERR = (ExceptionMessage[3] = \"Hierarchy request error\", 3);\nvar WRONG_DOCUMENT_ERR = ExceptionCode.WRONG_DOCUMENT_ERR = (ExceptionMessage[4] = \"Wrong document\", 4);\nvar INVALID_CHARACTER_ERR = ExceptionCode.INVALID_CHARACTER_ERR = (ExceptionMessage[5] = \"Invalid character\", 5);\nvar NO_DATA_ALLOWED_ERR = ExceptionCode.NO_DATA_ALLOWED_ERR = (ExceptionMessage[6] = \"No data allowed\", 6);\nvar NO_MODIFICATION_ALLOWED_ERR = ExceptionCode.NO_MODIFICATION_ALLOWED_ERR = (ExceptionMessage[7] = \"No modification allowed\", 7);\nvar NOT_FOUND_ERR = ExceptionCode.NOT_FOUND_ERR = (ExceptionMessage[8] = \"Not found\", 8);\nvar NOT_SUPPORTED_ERR = ExceptionCode.NOT_SUPPORTED_ERR = (ExceptionMessage[9] = \"Not supported\", 9);\nvar INUSE_ATTRIBUTE_ERR = ExceptionCode.INUSE_ATTRIBUTE_ERR = (ExceptionMessage[10] = \"Attribute in use\", 10); //level2\n\nvar INVALID_STATE_ERR = ExceptionCode.INVALID_STATE_ERR = (ExceptionMessage[11] = \"Invalid state\", 11);\nvar SYNTAX_ERR = ExceptionCode.SYNTAX_ERR = (ExceptionMessage[12] = \"Syntax error\", 12);\nvar INVALID_MODIFICATION_ERR = ExceptionCode.INVALID_MODIFICATION_ERR = (ExceptionMessage[13] = \"Invalid modification\", 13);\nvar NAMESPACE_ERR = ExceptionCode.NAMESPACE_ERR = (ExceptionMessage[14] = \"Invalid namespace\", 14);\nvar INVALID_ACCESS_ERR = ExceptionCode.INVALID_ACCESS_ERR = (ExceptionMessage[15] = \"Invalid access\", 15);\n\nfunction DOMException(code, message) {\n  if (message instanceof Error) {\n    var error = message;\n  } else {\n    error = this;\n    Error.call(this, ExceptionMessage[code]);\n    this.message = ExceptionMessage[code];\n    if (Error.captureStackTrace) Error.captureStackTrace(this, DOMException);\n  }\n\n  error.code = code;\n  if (message) this.message = this.message + \": \" + message;\n  return error;\n}\n\n;\nDOMException.prototype = Error.prototype;\ncopy(ExceptionCode, DOMException);\n/**\n * @see http://www.w3.org/TR/2000/REC-DOM-Level-2-Core-20001113/core.html#ID-536297177\n * The NodeList interface provides the abstraction of an ordered collection of nodes, without defining or constraining how this collection is implemented. NodeList objects in the DOM are live.\n * The items in the NodeList are accessible via an integral index, starting from 0.\n */\n\nfunction NodeList() {}\n\n;\nNodeList.prototype = {\n  /**\n   * The number of nodes in the list. The range of valid child node indices is 0 to length-1 inclusive.\n   * @standard level1\n   */\n  length: 0,\n\n  /**\n   * Returns the indexth item in the collection. If index is greater than or equal to the number of nodes in the list, this returns null.\n   * @standard level1\n   * @param index  unsigned long \n   *   Index into the collection.\n   * @return Node\n   * \tThe node at the indexth position in the NodeList, or null if that is not a valid index. \n   */\n  item: function item(index) {\n    return this[index] || null;\n  },\n  toString: function toString(isHTML, nodeFilter) {\n    for (var buf = [], i = 0; i < this.length; i++) {\n      serializeToString(this[i], buf, isHTML, nodeFilter);\n    }\n\n    return buf.join('');\n  }\n};\n\nfunction LiveNodeList(node, refresh) {\n  this._node = node;\n  this._refresh = refresh;\n\n  _updateLiveList(this);\n}\n\nfunction _updateLiveList(list) {\n  var inc = list._node._inc || list._node.ownerDocument._inc;\n\n  if (list._inc != inc) {\n    var ls = list._refresh(list._node); //console.log(ls.length)\n\n\n    __set__(list, 'length', ls.length);\n\n    copy(ls, list);\n    list._inc = inc;\n  }\n}\n\nLiveNodeList.prototype.item = function (i) {\n  _updateLiveList(this);\n\n  return this[i];\n};\n\n_extends(LiveNodeList, NodeList);\n/**\n * \n * Objects implementing the NamedNodeMap interface are used to represent collections of nodes that can be accessed by name. Note that NamedNodeMap does not inherit from NodeList; NamedNodeMaps are not maintained in any particular order. Objects contained in an object implementing NamedNodeMap may also be accessed by an ordinal index, but this is simply to allow convenient enumeration of the contents of a NamedNodeMap, and does not imply that the DOM specifies an order to these Nodes.\n * NamedNodeMap objects in the DOM are live.\n * used for attributes or DocumentType entities \n */\n\n\nfunction NamedNodeMap() {}\n\n;\n\nfunction _findNodeIndex(list, node) {\n  var i = list.length;\n\n  while (i--) {\n    if (list[i] === node) {\n      return i;\n    }\n  }\n}\n\nfunction _addNamedNode(el, list, newAttr, oldAttr) {\n  if (oldAttr) {\n    list[_findNodeIndex(list, oldAttr)] = newAttr;\n  } else {\n    list[list.length++] = newAttr;\n  }\n\n  if (el) {\n    newAttr.ownerElement = el;\n    var doc = el.ownerDocument;\n\n    if (doc) {\n      oldAttr && _onRemoveAttribute(doc, el, oldAttr);\n\n      _onAddAttribute(doc, el, newAttr);\n    }\n  }\n}\n\nfunction _removeNamedNode(el, list, attr) {\n  //console.log('remove attr:'+attr)\n  var i = _findNodeIndex(list, attr);\n\n  if (i >= 0) {\n    var lastIndex = list.length - 1;\n\n    while (i < lastIndex) {\n      list[i] = list[++i];\n    }\n\n    list.length = lastIndex;\n\n    if (el) {\n      var doc = el.ownerDocument;\n\n      if (doc) {\n        _onRemoveAttribute(doc, el, attr);\n\n        attr.ownerElement = null;\n      }\n    }\n  } else {\n    throw DOMException(NOT_FOUND_ERR, new Error(el.tagName + '@' + attr));\n  }\n}\n\nNamedNodeMap.prototype = {\n  length: 0,\n  item: NodeList.prototype.item,\n  getNamedItem: function getNamedItem(key) {\n    //\t\tif(key.indexOf(':')>0 || key == 'xmlns'){\n    //\t\t\treturn null;\n    //\t\t}\n    //console.log()\n    var i = this.length;\n\n    while (i--) {\n      var attr = this[i]; //console.log(attr.nodeName,key)\n\n      if (attr.nodeName == key) {\n        return attr;\n      }\n    }\n  },\n  setNamedItem: function setNamedItem(attr) {\n    var el = attr.ownerElement;\n\n    if (el && el != this._ownerElement) {\n      throw new DOMException(INUSE_ATTRIBUTE_ERR);\n    }\n\n    var oldAttr = this.getNamedItem(attr.nodeName);\n\n    _addNamedNode(this._ownerElement, this, attr, oldAttr);\n\n    return oldAttr;\n  },\n\n  /* returns Node */\n  setNamedItemNS: function setNamedItemNS(attr) {\n    // raises: WRONG_DOCUMENT_ERR,NO_MODIFICATION_ALLOWED_ERR,INUSE_ATTRIBUTE_ERR\n    var el = attr.ownerElement,\n        oldAttr;\n\n    if (el && el != this._ownerElement) {\n      throw new DOMException(INUSE_ATTRIBUTE_ERR);\n    }\n\n    oldAttr = this.getNamedItemNS(attr.namespaceURI, attr.localName);\n\n    _addNamedNode(this._ownerElement, this, attr, oldAttr);\n\n    return oldAttr;\n  },\n\n  /* returns Node */\n  removeNamedItem: function removeNamedItem(key) {\n    var attr = this.getNamedItem(key);\n\n    _removeNamedNode(this._ownerElement, this, attr);\n\n    return attr;\n  },\n  // raises: NOT_FOUND_ERR,NO_MODIFICATION_ALLOWED_ERR\n  //for level2\n  removeNamedItemNS: function removeNamedItemNS(namespaceURI, localName) {\n    var attr = this.getNamedItemNS(namespaceURI, localName);\n\n    _removeNamedNode(this._ownerElement, this, attr);\n\n    return attr;\n  },\n  getNamedItemNS: function getNamedItemNS(namespaceURI, localName) {\n    var i = this.length;\n\n    while (i--) {\n      var node = this[i];\n\n      if (node.localName == localName && node.namespaceURI == namespaceURI) {\n        return node;\n      }\n    }\n\n    return null;\n  }\n};\n/**\n * @see http://www.w3.org/TR/REC-DOM-Level-1/level-one-core.html#ID-102161490\n */\n\nfunction DOMImplementation(\n/* Object */\nfeatures) {\n  this._features = {};\n\n  if (features) {\n    for (var feature in features) {\n      this._features = features[feature];\n    }\n  }\n}\n\n;\nDOMImplementation.prototype = {\n  hasFeature: function hasFeature(\n  /* string */\n  feature,\n  /* string */\n  version) {\n    var versions = this._features[feature.toLowerCase()];\n\n    if (versions && (!version || version in versions)) {\n      return true;\n    } else {\n      return false;\n    }\n  },\n  // Introduced in DOM Level 2:\n  createDocument: function createDocument(namespaceURI, qualifiedName, doctype) {\n    // raises:INVALID_CHARACTER_ERR,NAMESPACE_ERR,WRONG_DOCUMENT_ERR\n    var doc = new Document();\n    doc.implementation = this;\n    doc.childNodes = new NodeList();\n    doc.doctype = doctype;\n\n    if (doctype) {\n      doc.appendChild(doctype);\n    }\n\n    if (qualifiedName) {\n      var root = doc.createElementNS(namespaceURI, qualifiedName);\n      doc.appendChild(root);\n    }\n\n    return doc;\n  },\n  // Introduced in DOM Level 2:\n  createDocumentType: function createDocumentType(qualifiedName, publicId, systemId) {\n    // raises:INVALID_CHARACTER_ERR,NAMESPACE_ERR\n    var node = new DocumentType();\n    node.name = qualifiedName;\n    node.nodeName = qualifiedName;\n    node.publicId = publicId;\n    node.systemId = systemId; // Introduced in DOM Level 2:\n    //readonly attribute DOMString        internalSubset;\n    //TODO:..\n    //  readonly attribute NamedNodeMap     entities;\n    //  readonly attribute NamedNodeMap     notations;\n\n    return node;\n  }\n};\n/**\n * @see http://www.w3.org/TR/2000/REC-DOM-Level-2-Core-20001113/core.html#ID-1950641247\n */\n\nfunction Node() {}\n\n;\nNode.prototype = {\n  firstChild: null,\n  lastChild: null,\n  previousSibling: null,\n  nextSibling: null,\n  attributes: null,\n  parentNode: null,\n  childNodes: null,\n  ownerDocument: null,\n  nodeValue: null,\n  namespaceURI: null,\n  prefix: null,\n  localName: null,\n  // Modified in DOM Level 2:\n  insertBefore: function insertBefore(newChild, refChild) {\n    //raises \n    return _insertBefore(this, newChild, refChild);\n  },\n  replaceChild: function replaceChild(newChild, oldChild) {\n    //raises \n    this.insertBefore(newChild, oldChild);\n\n    if (oldChild) {\n      this.removeChild(oldChild);\n    }\n  },\n  removeChild: function removeChild(oldChild) {\n    return _removeChild(this, oldChild);\n  },\n  appendChild: function appendChild(newChild) {\n    return this.insertBefore(newChild, null);\n  },\n  hasChildNodes: function hasChildNodes() {\n    return this.firstChild != null;\n  },\n  cloneNode: function cloneNode(deep) {\n    return _cloneNode(this.ownerDocument || this, this, deep);\n  },\n  // Modified in DOM Level 2:\n  normalize: function normalize() {\n    var child = this.firstChild;\n\n    while (child) {\n      var next = child.nextSibling;\n\n      if (next && next.nodeType == TEXT_NODE && child.nodeType == TEXT_NODE) {\n        this.removeChild(next);\n        child.appendData(next.data);\n      } else {\n        child.normalize();\n        child = next;\n      }\n    }\n  },\n  // Introduced in DOM Level 2:\n  isSupported: function isSupported(feature, version) {\n    return this.ownerDocument.implementation.hasFeature(feature, version);\n  },\n  // Introduced in DOM Level 2:\n  hasAttributes: function hasAttributes() {\n    return this.attributes.length > 0;\n  },\n  lookupPrefix: function lookupPrefix(namespaceURI) {\n    var el = this;\n\n    while (el) {\n      var map = el._nsMap; //console.dir(map)\n\n      if (map) {\n        for (var n in map) {\n          if (map[n] == namespaceURI) {\n            return n;\n          }\n        }\n      }\n\n      el = el.nodeType == ATTRIBUTE_NODE ? el.ownerDocument : el.parentNode;\n    }\n\n    return null;\n  },\n  // Introduced in DOM Level 3:\n  lookupNamespaceURI: function lookupNamespaceURI(prefix) {\n    var el = this;\n\n    while (el) {\n      var map = el._nsMap; //console.dir(map)\n\n      if (map) {\n        if (prefix in map) {\n          return map[prefix];\n        }\n      }\n\n      el = el.nodeType == ATTRIBUTE_NODE ? el.ownerDocument : el.parentNode;\n    }\n\n    return null;\n  },\n  // Introduced in DOM Level 3:\n  isDefaultNamespace: function isDefaultNamespace(namespaceURI) {\n    var prefix = this.lookupPrefix(namespaceURI);\n    return prefix == null;\n  }\n};\n\nfunction _xmlEncoder(c) {\n  return c == '<' && '&lt;' || c == '>' && '&gt;' || c == '&' && '&amp;' || c == '\"' && '&quot;' || '&#' + c.charCodeAt() + ';';\n}\n\ncopy(NodeType, Node);\ncopy(NodeType, Node.prototype);\n/**\n * @param callback return true for continue,false for break\n * @return boolean true: break visit;\n */\n\nfunction _visitNode(node, callback) {\n  if (callback(node)) {\n    return true;\n  }\n\n  if (node = node.firstChild) {\n    do {\n      if (_visitNode(node, callback)) {\n        return true;\n      }\n    } while (node = node.nextSibling);\n  }\n}\n\nfunction Document() {}\n\nfunction _onAddAttribute(doc, el, newAttr) {\n  doc && doc._inc++;\n  var ns = newAttr.namespaceURI;\n\n  if (ns == 'http://www.w3.org/2000/xmlns/') {\n    //update namespace\n    el._nsMap[newAttr.prefix ? newAttr.localName : ''] = newAttr.value;\n  }\n}\n\nfunction _onRemoveAttribute(doc, el, newAttr, remove) {\n  doc && doc._inc++;\n  var ns = newAttr.namespaceURI;\n\n  if (ns == 'http://www.w3.org/2000/xmlns/') {\n    //update namespace\n    delete el._nsMap[newAttr.prefix ? newAttr.localName : ''];\n  }\n}\n\nfunction _onUpdateChild(doc, el, newChild) {\n  if (doc && doc._inc) {\n    doc._inc++; //update childNodes\n\n    var cs = el.childNodes;\n\n    if (newChild) {\n      cs[cs.length++] = newChild;\n    } else {\n      //console.log(1)\n      var child = el.firstChild;\n      var i = 0;\n\n      while (child) {\n        cs[i++] = child;\n        child = child.nextSibling;\n      }\n\n      cs.length = i;\n    }\n  }\n}\n/**\n * attributes;\n * children;\n * \n * writeable properties:\n * nodeValue,Attr:value,CharacterData:data\n * prefix\n */\n\n\nfunction _removeChild(parentNode, child) {\n  var previous = child.previousSibling;\n  var next = child.nextSibling;\n\n  if (previous) {\n    previous.nextSibling = next;\n  } else {\n    parentNode.firstChild = next;\n  }\n\n  if (next) {\n    next.previousSibling = previous;\n  } else {\n    parentNode.lastChild = previous;\n  }\n\n  _onUpdateChild(parentNode.ownerDocument, parentNode);\n\n  return child;\n}\n/**\n * preformance key(refChild == null)\n */\n\n\nfunction _insertBefore(parentNode, newChild, nextChild) {\n  var cp = newChild.parentNode;\n\n  if (cp) {\n    cp.removeChild(newChild); //remove and update\n  }\n\n  if (newChild.nodeType === DOCUMENT_FRAGMENT_NODE) {\n    var newFirst = newChild.firstChild;\n\n    if (newFirst == null) {\n      return newChild;\n    }\n\n    var newLast = newChild.lastChild;\n  } else {\n    newFirst = newLast = newChild;\n  }\n\n  var pre = nextChild ? nextChild.previousSibling : parentNode.lastChild;\n  newFirst.previousSibling = pre;\n  newLast.nextSibling = nextChild;\n\n  if (pre) {\n    pre.nextSibling = newFirst;\n  } else {\n    parentNode.firstChild = newFirst;\n  }\n\n  if (nextChild == null) {\n    parentNode.lastChild = newLast;\n  } else {\n    nextChild.previousSibling = newLast;\n  }\n\n  do {\n    newFirst.parentNode = parentNode;\n  } while (newFirst !== newLast && (newFirst = newFirst.nextSibling));\n\n  _onUpdateChild(parentNode.ownerDocument || parentNode, parentNode); //console.log(parentNode.lastChild.nextSibling == null)\n\n\n  if (newChild.nodeType == DOCUMENT_FRAGMENT_NODE) {\n    newChild.firstChild = newChild.lastChild = null;\n  }\n\n  return newChild;\n}\n\nfunction _appendSingleChild(parentNode, newChild) {\n  var cp = newChild.parentNode;\n\n  if (cp) {\n    var pre = parentNode.lastChild;\n    cp.removeChild(newChild); //remove and update\n\n    var pre = parentNode.lastChild;\n  }\n\n  var pre = parentNode.lastChild;\n  newChild.parentNode = parentNode;\n  newChild.previousSibling = pre;\n  newChild.nextSibling = null;\n\n  if (pre) {\n    pre.nextSibling = newChild;\n  } else {\n    parentNode.firstChild = newChild;\n  }\n\n  parentNode.lastChild = newChild;\n\n  _onUpdateChild(parentNode.ownerDocument, parentNode, newChild);\n\n  return newChild; //console.log(\"__aa\",parentNode.lastChild.nextSibling == null)\n}\n\nDocument.prototype = {\n  //implementation : null,\n  nodeName: '#document',\n  nodeType: DOCUMENT_NODE,\n  doctype: null,\n  documentElement: null,\n  _inc: 1,\n  insertBefore: function insertBefore(newChild, refChild) {\n    //raises \n    if (newChild.nodeType == DOCUMENT_FRAGMENT_NODE) {\n      var child = newChild.firstChild;\n\n      while (child) {\n        var next = child.nextSibling;\n        this.insertBefore(child, refChild);\n        child = next;\n      }\n\n      return newChild;\n    }\n\n    if (this.documentElement == null && newChild.nodeType == ELEMENT_NODE) {\n      this.documentElement = newChild;\n    }\n\n    return _insertBefore(this, newChild, refChild), newChild.ownerDocument = this, newChild;\n  },\n  removeChild: function removeChild(oldChild) {\n    if (this.documentElement == oldChild) {\n      this.documentElement = null;\n    }\n\n    return _removeChild(this, oldChild);\n  },\n  // Introduced in DOM Level 2:\n  importNode: function importNode(importedNode, deep) {\n    return _importNode(this, importedNode, deep);\n  },\n  // Introduced in DOM Level 2:\n  getElementById: function getElementById(id) {\n    var rtv = null;\n\n    _visitNode(this.documentElement, function (node) {\n      if (node.nodeType == ELEMENT_NODE) {\n        if (node.getAttribute('id') == id) {\n          rtv = node;\n          return true;\n        }\n      }\n    });\n\n    return rtv;\n  },\n  //document factory method:\n  createElement: function createElement(tagName) {\n    var node = new Element();\n    node.ownerDocument = this;\n    node.nodeName = tagName;\n    node.tagName = tagName;\n    node.childNodes = new NodeList();\n    var attrs = node.attributes = new NamedNodeMap();\n    attrs._ownerElement = node;\n    return node;\n  },\n  createDocumentFragment: function createDocumentFragment() {\n    var node = new DocumentFragment();\n    node.ownerDocument = this;\n    node.childNodes = new NodeList();\n    return node;\n  },\n  createTextNode: function createTextNode(data) {\n    var node = new Text();\n    node.ownerDocument = this;\n    node.appendData(data);\n    return node;\n  },\n  createComment: function createComment(data) {\n    var node = new Comment();\n    node.ownerDocument = this;\n    node.appendData(data);\n    return node;\n  },\n  createCDATASection: function createCDATASection(data) {\n    var node = new CDATASection();\n    node.ownerDocument = this;\n    node.appendData(data);\n    return node;\n  },\n  createProcessingInstruction: function createProcessingInstruction(target, data) {\n    var node = new ProcessingInstruction();\n    node.ownerDocument = this;\n    node.tagName = node.target = target;\n    node.nodeValue = node.data = data;\n    return node;\n  },\n  createAttribute: function createAttribute(name) {\n    var node = new Attr();\n    node.ownerDocument = this;\n    node.name = name;\n    node.nodeName = name;\n    node.localName = name;\n    node.specified = true;\n    return node;\n  },\n  createEntityReference: function createEntityReference(name) {\n    var node = new EntityReference();\n    node.ownerDocument = this;\n    node.nodeName = name;\n    return node;\n  },\n  // Introduced in DOM Level 2:\n  createElementNS: function createElementNS(namespaceURI, qualifiedName) {\n    var node = new Element();\n    var pl = qualifiedName.split(':');\n    var attrs = node.attributes = new NamedNodeMap();\n    node.childNodes = new NodeList();\n    node.ownerDocument = this;\n    node.nodeName = qualifiedName;\n    node.tagName = qualifiedName;\n    node.namespaceURI = namespaceURI;\n\n    if (pl.length == 2) {\n      node.prefix = pl[0];\n      node.localName = pl[1];\n    } else {\n      //el.prefix = null;\n      node.localName = qualifiedName;\n    }\n\n    attrs._ownerElement = node;\n    return node;\n  },\n  // Introduced in DOM Level 2:\n  createAttributeNS: function createAttributeNS(namespaceURI, qualifiedName) {\n    var node = new Attr();\n    var pl = qualifiedName.split(':');\n    node.ownerDocument = this;\n    node.nodeName = qualifiedName;\n    node.name = qualifiedName;\n    node.namespaceURI = namespaceURI;\n    node.specified = true;\n\n    if (pl.length == 2) {\n      node.prefix = pl[0];\n      node.localName = pl[1];\n    } else {\n      //el.prefix = null;\n      node.localName = qualifiedName;\n    }\n\n    return node;\n  }\n};\n\n_extends(Document, Node);\n\nfunction Element() {\n  this._nsMap = {};\n}\n\n;\nElement.prototype = {\n  nodeType: ELEMENT_NODE,\n  hasAttribute: function hasAttribute(name) {\n    return this.getAttributeNode(name) != null;\n  },\n  getAttribute: function getAttribute(name) {\n    var attr = this.getAttributeNode(name);\n    return attr && attr.value || '';\n  },\n  getAttributeNode: function getAttributeNode(name) {\n    return this.attributes.getNamedItem(name);\n  },\n  setAttribute: function setAttribute(name, value) {\n    var attr = this.ownerDocument.createAttribute(name);\n    attr.value = attr.nodeValue = \"\" + value;\n    this.setAttributeNode(attr);\n  },\n  removeAttribute: function removeAttribute(name) {\n    var attr = this.getAttributeNode(name);\n    attr && this.removeAttributeNode(attr);\n  },\n  //four real opeartion method\n  appendChild: function appendChild(newChild) {\n    if (newChild.nodeType === DOCUMENT_FRAGMENT_NODE) {\n      return this.insertBefore(newChild, null);\n    } else {\n      return _appendSingleChild(this, newChild);\n    }\n  },\n  setAttributeNode: function setAttributeNode(newAttr) {\n    return this.attributes.setNamedItem(newAttr);\n  },\n  setAttributeNodeNS: function setAttributeNodeNS(newAttr) {\n    return this.attributes.setNamedItemNS(newAttr);\n  },\n  removeAttributeNode: function removeAttributeNode(oldAttr) {\n    //console.log(this == oldAttr.ownerElement)\n    return this.attributes.removeNamedItem(oldAttr.nodeName);\n  },\n  //get real attribute name,and remove it by removeAttributeNode\n  removeAttributeNS: function removeAttributeNS(namespaceURI, localName) {\n    var old = this.getAttributeNodeNS(namespaceURI, localName);\n    old && this.removeAttributeNode(old);\n  },\n  hasAttributeNS: function hasAttributeNS(namespaceURI, localName) {\n    return this.getAttributeNodeNS(namespaceURI, localName) != null;\n  },\n  getAttributeNS: function getAttributeNS(namespaceURI, localName) {\n    var attr = this.getAttributeNodeNS(namespaceURI, localName);\n    return attr && attr.value || '';\n  },\n  setAttributeNS: function setAttributeNS(namespaceURI, qualifiedName, value) {\n    var attr = this.ownerDocument.createAttributeNS(namespaceURI, qualifiedName);\n    attr.value = attr.nodeValue = \"\" + value;\n    this.setAttributeNode(attr);\n  },\n  getAttributeNodeNS: function getAttributeNodeNS(namespaceURI, localName) {\n    return this.attributes.getNamedItemNS(namespaceURI, localName);\n  },\n  getElementsByTagName: function getElementsByTagName(tagName) {\n    return new LiveNodeList(this, function (base) {\n      var ls = [];\n\n      _visitNode(base, function (node) {\n        if (node !== base && node.nodeType == ELEMENT_NODE && (tagName === '*' || node.tagName == tagName)) {\n          ls.push(node);\n        }\n      });\n\n      return ls;\n    });\n  },\n  getElementsByTagNameNS: function getElementsByTagNameNS(namespaceURI, localName) {\n    return new LiveNodeList(this, function (base) {\n      var ls = [];\n\n      _visitNode(base, function (node) {\n        if (node !== base && node.nodeType === ELEMENT_NODE && (namespaceURI === '*' || node.namespaceURI === namespaceURI) && (localName === '*' || node.localName == localName)) {\n          ls.push(node);\n        }\n      });\n\n      return ls;\n    });\n  }\n};\nDocument.prototype.getElementsByTagName = Element.prototype.getElementsByTagName;\nDocument.prototype.getElementsByTagNameNS = Element.prototype.getElementsByTagNameNS;\n\n_extends(Element, Node);\n\nfunction Attr() {}\n\n;\nAttr.prototype.nodeType = ATTRIBUTE_NODE;\n\n_extends(Attr, Node);\n\nfunction CharacterData() {}\n\n;\nCharacterData.prototype = {\n  data: '',\n  substringData: function substringData(offset, count) {\n    return this.data.substring(offset, offset + count);\n  },\n  appendData: function appendData(text) {\n    text = this.data + text;\n    this.nodeValue = this.data = text;\n    this.length = text.length;\n  },\n  insertData: function insertData(offset, text) {\n    this.replaceData(offset, 0, text);\n  },\n  appendChild: function appendChild(newChild) {\n    throw new Error(ExceptionMessage[HIERARCHY_REQUEST_ERR]);\n  },\n  deleteData: function deleteData(offset, count) {\n    this.replaceData(offset, count, \"\");\n  },\n  replaceData: function replaceData(offset, count, text) {\n    var start = this.data.substring(0, offset);\n    var end = this.data.substring(offset + count);\n    text = start + text + end;\n    this.nodeValue = this.data = text;\n    this.length = text.length;\n  }\n};\n\n_extends(CharacterData, Node);\n\nfunction Text() {}\n\n;\nText.prototype = {\n  nodeName: \"#text\",\n  nodeType: TEXT_NODE,\n  splitText: function splitText(offset) {\n    var text = this.data;\n    var newText = text.substring(offset);\n    text = text.substring(0, offset);\n    this.data = this.nodeValue = text;\n    this.length = text.length;\n    var newNode = this.ownerDocument.createTextNode(newText);\n\n    if (this.parentNode) {\n      this.parentNode.insertBefore(newNode, this.nextSibling);\n    }\n\n    return newNode;\n  }\n};\n\n_extends(Text, CharacterData);\n\nfunction Comment() {}\n\n;\nComment.prototype = {\n  nodeName: \"#comment\",\n  nodeType: COMMENT_NODE\n};\n\n_extends(Comment, CharacterData);\n\nfunction CDATASection() {}\n\n;\nCDATASection.prototype = {\n  nodeName: \"#cdata-section\",\n  nodeType: CDATA_SECTION_NODE\n};\n\n_extends(CDATASection, CharacterData);\n\nfunction DocumentType() {}\n\n;\nDocumentType.prototype.nodeType = DOCUMENT_TYPE_NODE;\n\n_extends(DocumentType, Node);\n\nfunction Notation() {}\n\n;\nNotation.prototype.nodeType = NOTATION_NODE;\n\n_extends(Notation, Node);\n\nfunction Entity() {}\n\n;\nEntity.prototype.nodeType = ENTITY_NODE;\n\n_extends(Entity, Node);\n\nfunction EntityReference() {}\n\n;\nEntityReference.prototype.nodeType = ENTITY_REFERENCE_NODE;\n\n_extends(EntityReference, Node);\n\nfunction DocumentFragment() {}\n\n;\nDocumentFragment.prototype.nodeName = \"#document-fragment\";\nDocumentFragment.prototype.nodeType = DOCUMENT_FRAGMENT_NODE;\n\n_extends(DocumentFragment, Node);\n\nfunction ProcessingInstruction() {}\n\nProcessingInstruction.prototype.nodeType = PROCESSING_INSTRUCTION_NODE;\n\n_extends(ProcessingInstruction, Node);\n\nfunction XMLSerializer() {}\n\nXMLSerializer.prototype.serializeToString = function (node, isHtml, nodeFilter) {\n  return nodeSerializeToString.call(node, isHtml, nodeFilter);\n};\n\nNode.prototype.toString = nodeSerializeToString;\n\nfunction nodeSerializeToString(isHtml, nodeFilter) {\n  var buf = [];\n  var refNode = this.nodeType == 9 ? this.documentElement : this;\n  var prefix = refNode.prefix;\n  var uri = refNode.namespaceURI;\n\n  if (uri && prefix == null) {\n    //console.log(prefix)\n    var prefix = refNode.lookupPrefix(uri);\n\n    if (prefix == null) {\n      //isHTML = true;\n      var visibleNamespaces = [{\n        namespace: uri,\n        prefix: null\n      } //{namespace:uri,prefix:''}\n      ];\n    }\n  }\n\n  serializeToString(this, buf, isHtml, nodeFilter, visibleNamespaces); //console.log('###',this.nodeType,uri,prefix,buf.join(''))\n\n  return buf.join('');\n}\n\nfunction needNamespaceDefine(node, isHTML, visibleNamespaces) {\n  var prefix = node.prefix || '';\n  var uri = node.namespaceURI;\n\n  if (!prefix && !uri) {\n    return false;\n  }\n\n  if (prefix === \"xml\" && uri === \"http://www.w3.org/XML/1998/namespace\" || uri == 'http://www.w3.org/2000/xmlns/') {\n    return false;\n  }\n\n  var i = visibleNamespaces.length; //console.log('@@@@',node.tagName,prefix,uri,visibleNamespaces)\n\n  while (i--) {\n    var ns = visibleNamespaces[i]; // get namespace prefix\n    //console.log(node.nodeType,node.tagName,ns.prefix,prefix)\n\n    if (ns.prefix == prefix) {\n      return ns.namespace != uri;\n    }\n  } //console.log(isHTML,uri,prefix=='')\n  //if(isHTML && prefix ==null && uri == 'http://www.w3.org/1999/xhtml'){\n  //\treturn false;\n  //}\n  //node.flag = '11111'\n  //console.error(3,true,node.flag,node.prefix,node.namespaceURI)\n\n\n  return true;\n}\n\nfunction serializeToString(node, buf, isHTML, nodeFilter, visibleNamespaces) {\n  if (nodeFilter) {\n    node = nodeFilter(node);\n\n    if (node) {\n      if (typeof node == 'string') {\n        buf.push(node);\n        return;\n      }\n    } else {\n      return;\n    } //buf.sort.apply(attrs, attributeSorter);\n\n  }\n\n  switch (node.nodeType) {\n    case ELEMENT_NODE:\n      if (!visibleNamespaces) visibleNamespaces = [];\n      var startVisibleNamespaces = visibleNamespaces.length;\n      var attrs = node.attributes;\n      var len = attrs.length;\n      var child = node.firstChild;\n      var nodeName = node.tagName;\n      isHTML = htmlns === node.namespaceURI || isHTML;\n      buf.push('<', nodeName);\n\n      for (var i = 0; i < len; i++) {\n        // add namespaces for attributes\n        var attr = attrs.item(i);\n\n        if (attr.prefix == 'xmlns') {\n          visibleNamespaces.push({\n            prefix: attr.localName,\n            namespace: attr.value\n          });\n        } else if (attr.nodeName == 'xmlns') {\n          visibleNamespaces.push({\n            prefix: '',\n            namespace: attr.value\n          });\n        }\n      }\n\n      for (var i = 0; i < len; i++) {\n        var attr = attrs.item(i);\n\n        if (needNamespaceDefine(attr, isHTML, visibleNamespaces)) {\n          var prefix = attr.prefix || '';\n          var uri = attr.namespaceURI;\n          var ns = prefix ? ' xmlns:' + prefix : \" xmlns\";\n          buf.push(ns, '=\"', uri, '\"');\n          visibleNamespaces.push({\n            prefix: prefix,\n            namespace: uri\n          });\n        }\n\n        serializeToString(attr, buf, isHTML, nodeFilter, visibleNamespaces);\n      } // add namespace for current node\t\t\n\n\n      if (needNamespaceDefine(node, isHTML, visibleNamespaces)) {\n        var prefix = node.prefix || '';\n        var uri = node.namespaceURI;\n        var ns = prefix ? ' xmlns:' + prefix : \" xmlns\";\n        buf.push(ns, '=\"', uri, '\"');\n        visibleNamespaces.push({\n          prefix: prefix,\n          namespace: uri\n        });\n      }\n\n      if (child || isHTML && !/^(?:meta|link|img|br|hr|input)$/i.test(nodeName)) {\n        buf.push('>'); //if is cdata child node\n\n        if (isHTML && /^script$/i.test(nodeName)) {\n          while (child) {\n            if (child.data) {\n              buf.push(child.data);\n            } else {\n              serializeToString(child, buf, isHTML, nodeFilter, visibleNamespaces);\n            }\n\n            child = child.nextSibling;\n          }\n        } else {\n          while (child) {\n            serializeToString(child, buf, isHTML, nodeFilter, visibleNamespaces);\n            child = child.nextSibling;\n          }\n        }\n\n        buf.push('</', nodeName, '>');\n      } else {\n        buf.push('/>');\n      } // remove added visible namespaces\n      //visibleNamespaces.length = startVisibleNamespaces;\n\n\n      return;\n\n    case DOCUMENT_NODE:\n    case DOCUMENT_FRAGMENT_NODE:\n      var child = node.firstChild;\n\n      while (child) {\n        serializeToString(child, buf, isHTML, nodeFilter, visibleNamespaces);\n        child = child.nextSibling;\n      }\n\n      return;\n\n    case ATTRIBUTE_NODE:\n      return buf.push(' ', node.name, '=\"', node.value.replace(/[<&\"]/g, _xmlEncoder), '\"');\n\n    case TEXT_NODE:\n      return buf.push(node.data.replace(/[<&]/g, _xmlEncoder));\n\n    case CDATA_SECTION_NODE:\n      return buf.push('<![CDATA[', node.data, ']]>');\n\n    case COMMENT_NODE:\n      return buf.push(\"<!--\", node.data, \"-->\");\n\n    case DOCUMENT_TYPE_NODE:\n      var pubid = node.publicId;\n      var sysid = node.systemId;\n      buf.push('<!DOCTYPE ', node.name);\n\n      if (pubid) {\n        buf.push(' PUBLIC \"', pubid);\n\n        if (sysid && sysid != '.') {\n          buf.push('\" \"', sysid);\n        }\n\n        buf.push('\">');\n      } else if (sysid && sysid != '.') {\n        buf.push(' SYSTEM \"', sysid, '\">');\n      } else {\n        var sub = node.internalSubset;\n\n        if (sub) {\n          buf.push(\" [\", sub, \"]\");\n        }\n\n        buf.push(\">\");\n      }\n\n      return;\n\n    case PROCESSING_INSTRUCTION_NODE:\n      return buf.push(\"<?\", node.target, \" \", node.data, \"?>\");\n\n    case ENTITY_REFERENCE_NODE:\n      return buf.push('&', node.nodeName, ';');\n    //case ENTITY_NODE:\n    //case NOTATION_NODE:\n\n    default:\n      buf.push('??', node.nodeName);\n  }\n}\n\nfunction _importNode(doc, node, deep) {\n  var node2;\n\n  switch (node.nodeType) {\n    case ELEMENT_NODE:\n      node2 = node.cloneNode(false);\n      node2.ownerDocument = doc;\n    //var attrs = node2.attributes;\n    //var len = attrs.length;\n    //for(var i=0;i<len;i++){\n    //node2.setAttributeNodeNS(importNode(doc,attrs.item(i),deep));\n    //}\n\n    case DOCUMENT_FRAGMENT_NODE:\n      break;\n\n    case ATTRIBUTE_NODE:\n      deep = true;\n      break;\n    //case ENTITY_REFERENCE_NODE:\n    //case PROCESSING_INSTRUCTION_NODE:\n    ////case TEXT_NODE:\n    //case CDATA_SECTION_NODE:\n    //case COMMENT_NODE:\n    //\tdeep = false;\n    //\tbreak;\n    //case DOCUMENT_NODE:\n    //case DOCUMENT_TYPE_NODE:\n    //cannot be imported.\n    //case ENTITY_NODE:\n    //case NOTATION_NODE\n    //can not hit in level3\n    //default:throw e;\n  }\n\n  if (!node2) {\n    node2 = node.cloneNode(false); //false\n  }\n\n  node2.ownerDocument = doc;\n  node2.parentNode = null;\n\n  if (deep) {\n    var child = node.firstChild;\n\n    while (child) {\n      node2.appendChild(_importNode(doc, child, deep));\n      child = child.nextSibling;\n    }\n  }\n\n  return node2;\n} //\n//var _relationMap = {firstChild:1,lastChild:1,previousSibling:1,nextSibling:1,\n//\t\t\t\t\tattributes:1,childNodes:1,parentNode:1,documentElement:1,doctype,};\n\n\nfunction _cloneNode(doc, node, deep) {\n  var node2 = new node.constructor();\n\n  for (var n in node) {\n    var v = node[n];\n\n    if (typeof v != 'object') {\n      if (v != node2[n]) {\n        node2[n] = v;\n      }\n    }\n  }\n\n  if (node.childNodes) {\n    node2.childNodes = new NodeList();\n  }\n\n  node2.ownerDocument = doc;\n\n  switch (node2.nodeType) {\n    case ELEMENT_NODE:\n      var attrs = node.attributes;\n      var attrs2 = node2.attributes = new NamedNodeMap();\n      var len = attrs.length;\n      attrs2._ownerElement = node2;\n\n      for (var i = 0; i < len; i++) {\n        node2.setAttributeNode(_cloneNode(doc, attrs.item(i), true));\n      }\n\n      break;\n      ;\n\n    case ATTRIBUTE_NODE:\n      deep = true;\n  }\n\n  if (deep) {\n    var child = node.firstChild;\n\n    while (child) {\n      node2.appendChild(_cloneNode(doc, child, deep));\n      child = child.nextSibling;\n    }\n  }\n\n  return node2;\n}\n\nfunction __set__(object, key, value) {\n  object[key] = value;\n} //do dynamic\n\n\ntry {\n  if (Object.defineProperty) {\n    Object.defineProperty(LiveNodeList.prototype, 'length', {\n      get: function get() {\n        _updateLiveList(this);\n\n        return this.$$length;\n      }\n    });\n    Object.defineProperty(Node.prototype, 'textContent', {\n      get: function get() {\n        return getTextContent(this);\n      },\n      set: function set(data) {\n        switch (this.nodeType) {\n          case ELEMENT_NODE:\n          case DOCUMENT_FRAGMENT_NODE:\n            while (this.firstChild) {\n              this.removeChild(this.firstChild);\n            }\n\n            if (data || String(data)) {\n              this.appendChild(this.ownerDocument.createTextNode(data));\n            }\n\n            break;\n\n          default:\n            //TODO:\n            this.data = data;\n            this.value = data;\n            this.nodeValue = data;\n        }\n      }\n    });\n\n    function getTextContent(node) {\n      switch (node.nodeType) {\n        case ELEMENT_NODE:\n        case DOCUMENT_FRAGMENT_NODE:\n          var buf = [];\n          node = node.firstChild;\n\n          while (node) {\n            if (node.nodeType !== 7 && node.nodeType !== 8) {\n              buf.push(getTextContent(node));\n            }\n\n            node = node.nextSibling;\n          }\n\n          return buf.join('');\n\n        default:\n          return node.nodeValue;\n      }\n    }\n\n    __set__ = function __set__(object, key, value) {\n      //console.log(value)\n      object['$$' + key] = value;\n    };\n  }\n} catch (e) {//ie8\n} //if(typeof require == 'function'){\n\n\nexports.DOMImplementation = DOMImplementation;\nexports.XMLSerializer = XMLSerializer; //}","/**\n * mux.js\n *\n * Copyright (c) Brightcove\n * Licensed Apache-2.0 https://github.com/videojs/mux.js/blob/master/LICENSE\n */\nvar toUnsigned = function toUnsigned(value) {\n  return value >>> 0;\n};\n\nvar toHexString = function toHexString(value) {\n  return ('00' + value.toString(16)).slice(-2);\n};\n\nmodule.exports = {\n  toUnsigned: toUnsigned,\n  toHexString: toHexString\n};","module.exports = isFunction;\nvar toString = Object.prototype.toString;\n\nfunction isFunction(fn) {\n  if (!fn) {\n    return false;\n  }\n\n  var string = toString.call(fn);\n  return string === '[object Function]' || typeof fn === 'function' && string !== '[object RegExp]' || typeof window !== 'undefined' && ( // IE8 and below\n  fn === window.setTimeout || fn === window.alert || fn === window.confirm || fn === window.prompt);\n}\n\n;","/*! @name mpd-parser @version 0.10.0 @license Apache-2.0 */\nimport resolveUrl from '@videojs/vhs-utils/dist/resolve-url';\nimport window from 'global/window';\nimport decodeB64ToUint8Array from '@videojs/vhs-utils/dist/decode-b64-to-uint8-array';\nimport { DOMParser } from 'xmldom';\nvar version = \"0.10.0\";\n\nvar isObject = function isObject(obj) {\n  return !!obj && typeof obj === 'object';\n};\n\nvar merge = function merge() {\n  for (var _len = arguments.length, objects = new Array(_len), _key = 0; _key < _len; _key++) {\n    objects[_key] = arguments[_key];\n  }\n\n  return objects.reduce(function (result, source) {\n    Object.keys(source).forEach(function (key) {\n      if (Array.isArray(result[key]) && Array.isArray(source[key])) {\n        result[key] = result[key].concat(source[key]);\n      } else if (isObject(result[key]) && isObject(source[key])) {\n        result[key] = merge(result[key], source[key]);\n      } else {\n        result[key] = source[key];\n      }\n    });\n    return result;\n  }, {});\n};\n\nvar values = function values(o) {\n  return Object.keys(o).map(function (k) {\n    return o[k];\n  });\n};\n\nvar range = function range(start, end) {\n  var result = [];\n\n  for (var i = start; i < end; i++) {\n    result.push(i);\n  }\n\n  return result;\n};\n\nvar flatten = function flatten(lists) {\n  return lists.reduce(function (x, y) {\n    return x.concat(y);\n  }, []);\n};\n\nvar from = function from(list) {\n  if (!list.length) {\n    return [];\n  }\n\n  var result = [];\n\n  for (var i = 0; i < list.length; i++) {\n    result.push(list[i]);\n  }\n\n  return result;\n};\n\nvar findIndexes = function findIndexes(l, key) {\n  return l.reduce(function (a, e, i) {\n    if (e[key]) {\n      a.push(i);\n    }\n\n    return a;\n  }, []);\n};\n\nvar errors = {\n  INVALID_NUMBER_OF_PERIOD: 'INVALID_NUMBER_OF_PERIOD',\n  DASH_EMPTY_MANIFEST: 'DASH_EMPTY_MANIFEST',\n  DASH_INVALID_XML: 'DASH_INVALID_XML',\n  NO_BASE_URL: 'NO_BASE_URL',\n  MISSING_SEGMENT_INFORMATION: 'MISSING_SEGMENT_INFORMATION',\n  SEGMENT_TIME_UNSPECIFIED: 'SEGMENT_TIME_UNSPECIFIED',\n  UNSUPPORTED_UTC_TIMING_SCHEME: 'UNSUPPORTED_UTC_TIMING_SCHEME'\n};\n/**\n * @typedef {Object} SingleUri\n * @property {string} uri - relative location of segment\n * @property {string} resolvedUri - resolved location of segment\n * @property {Object} byterange - Object containing information on how to make byte range\n *   requests following byte-range-spec per RFC2616.\n * @property {String} byterange.length - length of range request\n * @property {String} byterange.offset - byte offset of range request\n *\n * @see https://www.w3.org/Protocols/rfc2616/rfc2616-sec14.html#sec14.35.1\n */\n\n/**\n * Converts a URLType node (5.3.9.2.3 Table 13) to a segment object\n * that conforms to how m3u8-parser is structured\n *\n * @see https://github.com/videojs/m3u8-parser\n *\n * @param {string} baseUrl - baseUrl provided by <BaseUrl> nodes\n * @param {string} source - source url for segment\n * @param {string} range - optional range used for range calls,\n *   follows  RFC 2616, Clause 14.35.1\n * @return {SingleUri} full segment information transformed into a format similar\n *   to m3u8-parser\n */\n\nvar urlTypeToSegment = function urlTypeToSegment(_ref) {\n  var _ref$baseUrl = _ref.baseUrl,\n      baseUrl = _ref$baseUrl === void 0 ? '' : _ref$baseUrl,\n      _ref$source = _ref.source,\n      source = _ref$source === void 0 ? '' : _ref$source,\n      _ref$range = _ref.range,\n      range = _ref$range === void 0 ? '' : _ref$range,\n      _ref$indexRange = _ref.indexRange,\n      indexRange = _ref$indexRange === void 0 ? '' : _ref$indexRange;\n  var segment = {\n    uri: source,\n    resolvedUri: resolveUrl(baseUrl || '', source)\n  };\n\n  if (range || indexRange) {\n    var rangeStr = range ? range : indexRange;\n    var ranges = rangeStr.split('-');\n    var startRange = parseInt(ranges[0], 10);\n    var endRange = parseInt(ranges[1], 10); // byterange should be inclusive according to\n    // RFC 2616, Clause 14.35.1\n\n    segment.byterange = {\n      length: endRange - startRange + 1,\n      offset: startRange\n    };\n  }\n\n  return segment;\n};\n\nvar byteRangeToString = function byteRangeToString(byterange) {\n  // `endRange` is one less than `offset + length` because the HTTP range\n  // header uses inclusive ranges\n  var endRange = byterange.offset + byterange.length - 1;\n  return byterange.offset + \"-\" + endRange;\n};\n/**\n * Functions for calculating the range of available segments in static and dynamic\n * manifests.\n */\n\n\nvar segmentRange = {\n  /**\n   * Returns the entire range of available segments for a static MPD\n   *\n   * @param {Object} attributes\n   *        Inheritied MPD attributes\n   * @return {{ start: number, end: number }}\n   *         The start and end numbers for available segments\n   */\n  static: function _static(attributes) {\n    var duration = attributes.duration,\n        _attributes$timescale = attributes.timescale,\n        timescale = _attributes$timescale === void 0 ? 1 : _attributes$timescale,\n        sourceDuration = attributes.sourceDuration;\n    return {\n      start: 0,\n      end: Math.ceil(sourceDuration / (duration / timescale))\n    };\n  },\n\n  /**\n   * Returns the current live window range of available segments for a dynamic MPD\n   *\n   * @param {Object} attributes\n   *        Inheritied MPD attributes\n   * @return {{ start: number, end: number }}\n   *         The start and end numbers for available segments\n   */\n  dynamic: function dynamic(attributes) {\n    var NOW = attributes.NOW,\n        clientOffset = attributes.clientOffset,\n        availabilityStartTime = attributes.availabilityStartTime,\n        _attributes$timescale2 = attributes.timescale,\n        timescale = _attributes$timescale2 === void 0 ? 1 : _attributes$timescale2,\n        duration = attributes.duration,\n        _attributes$start = attributes.start,\n        start = _attributes$start === void 0 ? 0 : _attributes$start,\n        _attributes$minimumUp = attributes.minimumUpdatePeriod,\n        minimumUpdatePeriod = _attributes$minimumUp === void 0 ? 0 : _attributes$minimumUp,\n        _attributes$timeShift = attributes.timeShiftBufferDepth,\n        timeShiftBufferDepth = _attributes$timeShift === void 0 ? Infinity : _attributes$timeShift;\n    var now = (NOW + clientOffset) / 1000;\n    var periodStartWC = availabilityStartTime + start;\n    var periodEndWC = now + minimumUpdatePeriod;\n    var periodDuration = periodEndWC - periodStartWC;\n    var segmentCount = Math.ceil(periodDuration * timescale / duration);\n    var availableStart = Math.floor((now - periodStartWC - timeShiftBufferDepth) * timescale / duration);\n    var availableEnd = Math.floor((now - periodStartWC) * timescale / duration);\n    return {\n      start: Math.max(0, availableStart),\n      end: Math.min(segmentCount, availableEnd)\n    };\n  }\n};\n/**\n * Maps a range of numbers to objects with information needed to build the corresponding\n * segment list\n *\n * @name toSegmentsCallback\n * @function\n * @param {number} number\n *        Number of the segment\n * @param {number} index\n *        Index of the number in the range list\n * @return {{ number: Number, duration: Number, timeline: Number, time: Number }}\n *         Object with segment timing and duration info\n */\n\n/**\n * Returns a callback for Array.prototype.map for mapping a range of numbers to\n * information needed to build the segment list.\n *\n * @param {Object} attributes\n *        Inherited MPD attributes\n * @return {toSegmentsCallback}\n *         Callback map function\n */\n\nvar toSegments = function toSegments(attributes) {\n  return function (number, index) {\n    var duration = attributes.duration,\n        _attributes$timescale3 = attributes.timescale,\n        timescale = _attributes$timescale3 === void 0 ? 1 : _attributes$timescale3,\n        periodIndex = attributes.periodIndex,\n        _attributes$startNumb = attributes.startNumber,\n        startNumber = _attributes$startNumb === void 0 ? 1 : _attributes$startNumb;\n    return {\n      number: startNumber + number,\n      duration: duration / timescale,\n      timeline: periodIndex,\n      time: index * duration\n    };\n  };\n};\n/**\n * Returns a list of objects containing segment timing and duration info used for\n * building the list of segments. This uses the @duration attribute specified\n * in the MPD manifest to derive the range of segments.\n *\n * @param {Object} attributes\n *        Inherited MPD attributes\n * @return {{number: number, duration: number, time: number, timeline: number}[]}\n *         List of Objects with segment timing and duration info\n */\n\n\nvar parseByDuration = function parseByDuration(attributes) {\n  var _attributes$type = attributes.type,\n      type = _attributes$type === void 0 ? 'static' : _attributes$type,\n      duration = attributes.duration,\n      _attributes$timescale4 = attributes.timescale,\n      timescale = _attributes$timescale4 === void 0 ? 1 : _attributes$timescale4,\n      sourceDuration = attributes.sourceDuration;\n\n  var _segmentRange$type = segmentRange[type](attributes),\n      start = _segmentRange$type.start,\n      end = _segmentRange$type.end;\n\n  var segments = range(start, end).map(toSegments(attributes));\n\n  if (type === 'static') {\n    var index = segments.length - 1; // final segment may be less than full segment duration\n\n    segments[index].duration = sourceDuration - duration / timescale * index;\n  }\n\n  return segments;\n};\n/**\n * Translates SegmentBase into a set of segments.\n * (DASH SPEC Section 5.3.9.3.2) contains a set of <SegmentURL> nodes.  Each\n * node should be translated into segment.\n *\n * @param {Object} attributes\n *   Object containing all inherited attributes from parent elements with attribute\n *   names as keys\n * @return {Object.<Array>} list of segments\n */\n\n\nvar segmentsFromBase = function segmentsFromBase(attributes) {\n  var baseUrl = attributes.baseUrl,\n      _attributes$initializ = attributes.initialization,\n      initialization = _attributes$initializ === void 0 ? {} : _attributes$initializ,\n      sourceDuration = attributes.sourceDuration,\n      _attributes$timescale = attributes.timescale,\n      timescale = _attributes$timescale === void 0 ? 1 : _attributes$timescale,\n      _attributes$indexRang = attributes.indexRange,\n      indexRange = _attributes$indexRang === void 0 ? '' : _attributes$indexRang,\n      duration = attributes.duration; // base url is required for SegmentBase to work, per spec (Section 5.3.9.2.1)\n\n  if (!baseUrl) {\n    throw new Error(errors.NO_BASE_URL);\n  }\n\n  var initSegment = urlTypeToSegment({\n    baseUrl: baseUrl,\n    source: initialization.sourceURL,\n    range: initialization.range\n  });\n  var segment = urlTypeToSegment({\n    baseUrl: baseUrl,\n    source: baseUrl,\n    indexRange: indexRange\n  });\n  segment.map = initSegment; // If there is a duration, use it, otherwise use the given duration of the source\n  // (since SegmentBase is only for one total segment)\n\n  if (duration) {\n    var segmentTimeInfo = parseByDuration(attributes);\n\n    if (segmentTimeInfo.length) {\n      segment.duration = segmentTimeInfo[0].duration;\n      segment.timeline = segmentTimeInfo[0].timeline;\n    }\n  } else if (sourceDuration) {\n    segment.duration = sourceDuration / timescale;\n    segment.timeline = 0;\n  } // This is used for mediaSequence\n\n\n  segment.number = 0;\n  return [segment];\n};\n/**\n * Given a playlist, a sidx box, and a baseUrl, update the segment list of the playlist\n * according to the sidx information given.\n *\n * playlist.sidx has metadadata about the sidx where-as the sidx param\n * is the parsed sidx box itself.\n *\n * @param {Object} playlist the playlist to update the sidx information for\n * @param {Object} sidx the parsed sidx box\n * @return {Object} the playlist object with the updated sidx information\n */\n\n\nvar addSegmentsToPlaylist = function addSegmentsToPlaylist(playlist, sidx, baseUrl) {\n  // Retain init segment information\n  var initSegment = playlist.sidx.map ? playlist.sidx.map : null; // Retain source duration from initial master manifest parsing\n\n  var sourceDuration = playlist.sidx.duration; // Retain source timeline\n\n  var timeline = playlist.timeline || 0;\n  var sidxByteRange = playlist.sidx.byterange;\n  var sidxEnd = sidxByteRange.offset + sidxByteRange.length; // Retain timescale of the parsed sidx\n\n  var timescale = sidx.timescale; // referenceType 1 refers to other sidx boxes\n\n  var mediaReferences = sidx.references.filter(function (r) {\n    return r.referenceType !== 1;\n  });\n  var segments = []; // firstOffset is the offset from the end of the sidx box\n\n  var startIndex = sidxEnd + sidx.firstOffset;\n\n  for (var i = 0; i < mediaReferences.length; i++) {\n    var reference = sidx.references[i]; // size of the referenced (sub)segment\n\n    var size = reference.referencedSize; // duration of the referenced (sub)segment, in  the  timescale\n    // this will be converted to seconds when generating segments\n\n    var duration = reference.subsegmentDuration; // should be an inclusive range\n\n    var endIndex = startIndex + size - 1;\n    var indexRange = startIndex + \"-\" + endIndex;\n    var attributes = {\n      baseUrl: baseUrl,\n      timescale: timescale,\n      timeline: timeline,\n      // this is used in parseByDuration\n      periodIndex: timeline,\n      duration: duration,\n      sourceDuration: sourceDuration,\n      indexRange: indexRange\n    };\n    var segment = segmentsFromBase(attributes)[0];\n\n    if (initSegment) {\n      segment.map = initSegment;\n    }\n\n    segments.push(segment);\n    startIndex += size;\n  }\n\n  playlist.segments = segments;\n  return playlist;\n};\n\nvar mergeDiscontiguousPlaylists = function mergeDiscontiguousPlaylists(playlists) {\n  var mergedPlaylists = values(playlists.reduce(function (acc, playlist) {\n    // assuming playlist IDs are the same across periods\n    // TODO: handle multiperiod where representation sets are not the same\n    // across periods\n    var name = playlist.attributes.id + (playlist.attributes.lang || ''); // Periods after first\n\n    if (acc[name]) {\n      var _acc$name$segments; // first segment of subsequent periods signal a discontinuity\n\n\n      if (playlist.segments[0]) {\n        playlist.segments[0].discontinuity = true;\n      }\n\n      (_acc$name$segments = acc[name].segments).push.apply(_acc$name$segments, playlist.segments); // bubble up contentProtection, this assumes all DRM content\n      // has the same contentProtection\n\n\n      if (playlist.attributes.contentProtection) {\n        acc[name].attributes.contentProtection = playlist.attributes.contentProtection;\n      }\n    } else {\n      // first Period\n      acc[name] = playlist;\n    }\n\n    return acc;\n  }, {}));\n  return mergedPlaylists.map(function (playlist) {\n    playlist.discontinuityStarts = findIndexes(playlist.segments, 'discontinuity');\n    return playlist;\n  });\n};\n\nvar addSegmentInfoFromSidx = function addSegmentInfoFromSidx(playlists, sidxMapping) {\n  if (sidxMapping === void 0) {\n    sidxMapping = {};\n  }\n\n  if (!Object.keys(sidxMapping).length) {\n    return playlists;\n  }\n\n  for (var i in playlists) {\n    var playlist = playlists[i];\n\n    if (!playlist.sidx) {\n      continue;\n    }\n\n    var sidxKey = playlist.sidx.uri + '-' + byteRangeToString(playlist.sidx.byterange);\n    var sidxMatch = sidxMapping[sidxKey] && sidxMapping[sidxKey].sidx;\n\n    if (playlist.sidx && sidxMatch) {\n      addSegmentsToPlaylist(playlist, sidxMatch, playlist.sidx.resolvedUri);\n    }\n  }\n\n  return playlists;\n};\n\nvar formatAudioPlaylist = function formatAudioPlaylist(_ref) {\n  var _attributes;\n\n  var attributes = _ref.attributes,\n      segments = _ref.segments,\n      sidx = _ref.sidx;\n  var playlist = {\n    attributes: (_attributes = {\n      NAME: attributes.id,\n      BANDWIDTH: attributes.bandwidth,\n      CODECS: attributes.codecs\n    }, _attributes['PROGRAM-ID'] = 1, _attributes),\n    uri: '',\n    endList: (attributes.type || 'static') === 'static',\n    timeline: attributes.periodIndex,\n    resolvedUri: '',\n    targetDuration: attributes.duration,\n    segments: segments,\n    mediaSequence: segments.length ? segments[0].number : 1\n  };\n\n  if (attributes.contentProtection) {\n    playlist.contentProtection = attributes.contentProtection;\n  }\n\n  if (sidx) {\n    playlist.sidx = sidx;\n  }\n\n  return playlist;\n};\n\nvar formatVttPlaylist = function formatVttPlaylist(_ref2) {\n  var _attributes2;\n\n  var attributes = _ref2.attributes,\n      segments = _ref2.segments;\n\n  if (typeof segments === 'undefined') {\n    // vtt tracks may use single file in BaseURL\n    segments = [{\n      uri: attributes.baseUrl,\n      timeline: attributes.periodIndex,\n      resolvedUri: attributes.baseUrl || '',\n      duration: attributes.sourceDuration,\n      number: 0\n    }]; // targetDuration should be the same duration as the only segment\n\n    attributes.duration = attributes.sourceDuration;\n  }\n\n  return {\n    attributes: (_attributes2 = {\n      NAME: attributes.id,\n      BANDWIDTH: attributes.bandwidth\n    }, _attributes2['PROGRAM-ID'] = 1, _attributes2),\n    uri: '',\n    endList: (attributes.type || 'static') === 'static',\n    timeline: attributes.periodIndex,\n    resolvedUri: attributes.baseUrl || '',\n    targetDuration: attributes.duration,\n    segments: segments,\n    mediaSequence: segments.length ? segments[0].number : 1\n  };\n};\n\nvar organizeAudioPlaylists = function organizeAudioPlaylists(playlists, sidxMapping) {\n  if (sidxMapping === void 0) {\n    sidxMapping = {};\n  }\n\n  var mainPlaylist;\n  var formattedPlaylists = playlists.reduce(function (a, playlist) {\n    var role = playlist.attributes.role && playlist.attributes.role.value || '';\n    var language = playlist.attributes.lang || '';\n    var label = 'main';\n\n    if (language) {\n      var roleLabel = role ? \" (\" + role + \")\" : '';\n      label = \"\" + playlist.attributes.lang + roleLabel;\n    } // skip if we already have the highest quality audio for a language\n\n\n    if (a[label] && a[label].playlists[0].attributes.BANDWIDTH > playlist.attributes.bandwidth) {\n      return a;\n    }\n\n    a[label] = {\n      language: language,\n      autoselect: true,\n      default: role === 'main',\n      playlists: addSegmentInfoFromSidx([formatAudioPlaylist(playlist)], sidxMapping),\n      uri: ''\n    };\n\n    if (typeof mainPlaylist === 'undefined' && role === 'main') {\n      mainPlaylist = playlist;\n      mainPlaylist.default = true;\n    }\n\n    return a;\n  }, {}); // if no playlists have role \"main\", mark the first as main\n\n  if (!mainPlaylist) {\n    var firstLabel = Object.keys(formattedPlaylists)[0];\n    formattedPlaylists[firstLabel].default = true;\n  }\n\n  return formattedPlaylists;\n};\n\nvar organizeVttPlaylists = function organizeVttPlaylists(playlists, sidxMapping) {\n  if (sidxMapping === void 0) {\n    sidxMapping = {};\n  }\n\n  return playlists.reduce(function (a, playlist) {\n    var label = playlist.attributes.lang || 'text'; // skip if we already have subtitles\n\n    if (a[label]) {\n      return a;\n    }\n\n    a[label] = {\n      language: label,\n      default: false,\n      autoselect: false,\n      playlists: addSegmentInfoFromSidx([formatVttPlaylist(playlist)], sidxMapping),\n      uri: ''\n    };\n    return a;\n  }, {});\n};\n\nvar formatVideoPlaylist = function formatVideoPlaylist(_ref3) {\n  var _attributes3;\n\n  var attributes = _ref3.attributes,\n      segments = _ref3.segments,\n      sidx = _ref3.sidx;\n  var playlist = {\n    attributes: (_attributes3 = {\n      NAME: attributes.id,\n      AUDIO: 'audio',\n      SUBTITLES: 'subs',\n      RESOLUTION: {\n        width: attributes.width,\n        height: attributes.height\n      },\n      CODECS: attributes.codecs,\n      BANDWIDTH: attributes.bandwidth\n    }, _attributes3['PROGRAM-ID'] = 1, _attributes3),\n    uri: '',\n    endList: (attributes.type || 'static') === 'static',\n    timeline: attributes.periodIndex,\n    resolvedUri: '',\n    targetDuration: attributes.duration,\n    segments: segments,\n    mediaSequence: segments.length ? segments[0].number : 1\n  };\n\n  if (attributes.contentProtection) {\n    playlist.contentProtection = attributes.contentProtection;\n  }\n\n  if (sidx) {\n    playlist.sidx = sidx;\n  }\n\n  return playlist;\n};\n\nvar toM3u8 = function toM3u8(dashPlaylists, sidxMapping) {\n  var _mediaGroups;\n\n  if (sidxMapping === void 0) {\n    sidxMapping = {};\n  }\n\n  if (!dashPlaylists.length) {\n    return {};\n  } // grab all master attributes\n\n\n  var _dashPlaylists$0$attr = dashPlaylists[0].attributes,\n      duration = _dashPlaylists$0$attr.sourceDuration,\n      _dashPlaylists$0$attr2 = _dashPlaylists$0$attr.type,\n      type = _dashPlaylists$0$attr2 === void 0 ? 'static' : _dashPlaylists$0$attr2,\n      suggestedPresentationDelay = _dashPlaylists$0$attr.suggestedPresentationDelay,\n      _dashPlaylists$0$attr3 = _dashPlaylists$0$attr.minimumUpdatePeriod,\n      minimumUpdatePeriod = _dashPlaylists$0$attr3 === void 0 ? 0 : _dashPlaylists$0$attr3;\n\n  var videoOnly = function videoOnly(_ref4) {\n    var attributes = _ref4.attributes;\n    return attributes.mimeType === 'video/mp4' || attributes.contentType === 'video';\n  };\n\n  var audioOnly = function audioOnly(_ref5) {\n    var attributes = _ref5.attributes;\n    return attributes.mimeType === 'audio/mp4' || attributes.contentType === 'audio';\n  };\n\n  var vttOnly = function vttOnly(_ref6) {\n    var attributes = _ref6.attributes;\n    return attributes.mimeType === 'text/vtt' || attributes.contentType === 'text';\n  };\n\n  var videoPlaylists = mergeDiscontiguousPlaylists(dashPlaylists.filter(videoOnly)).map(formatVideoPlaylist);\n  var audioPlaylists = mergeDiscontiguousPlaylists(dashPlaylists.filter(audioOnly));\n  var vttPlaylists = dashPlaylists.filter(vttOnly);\n  var master = {\n    allowCache: true,\n    discontinuityStarts: [],\n    segments: [],\n    endList: true,\n    mediaGroups: (_mediaGroups = {\n      AUDIO: {},\n      VIDEO: {}\n    }, _mediaGroups['CLOSED-CAPTIONS'] = {}, _mediaGroups.SUBTITLES = {}, _mediaGroups),\n    uri: '',\n    duration: duration,\n    playlists: addSegmentInfoFromSidx(videoPlaylists, sidxMapping),\n    minimumUpdatePeriod: minimumUpdatePeriod * 1000\n  };\n\n  if (type === 'dynamic') {\n    master.suggestedPresentationDelay = suggestedPresentationDelay;\n  }\n\n  if (audioPlaylists.length) {\n    master.mediaGroups.AUDIO.audio = organizeAudioPlaylists(audioPlaylists, sidxMapping);\n  }\n\n  if (vttPlaylists.length) {\n    master.mediaGroups.SUBTITLES.subs = organizeVttPlaylists(vttPlaylists, sidxMapping);\n  }\n\n  return master;\n};\n/**\n * Calculates the R (repetition) value for a live stream (for the final segment\n * in a manifest where the r value is negative 1)\n *\n * @param {Object} attributes\n *        Object containing all inherited attributes from parent elements with attribute\n *        names as keys\n * @param {number} time\n *        current time (typically the total time up until the final segment)\n * @param {number} duration\n *        duration property for the given <S />\n *\n * @return {number}\n *        R value to reach the end of the given period\n */\n\n\nvar getLiveRValue = function getLiveRValue(attributes, time, duration) {\n  var NOW = attributes.NOW,\n      clientOffset = attributes.clientOffset,\n      availabilityStartTime = attributes.availabilityStartTime,\n      _attributes$timescale = attributes.timescale,\n      timescale = _attributes$timescale === void 0 ? 1 : _attributes$timescale,\n      _attributes$start = attributes.start,\n      start = _attributes$start === void 0 ? 0 : _attributes$start,\n      _attributes$minimumUp = attributes.minimumUpdatePeriod,\n      minimumUpdatePeriod = _attributes$minimumUp === void 0 ? 0 : _attributes$minimumUp;\n  var now = (NOW + clientOffset) / 1000;\n  var periodStartWC = availabilityStartTime + start;\n  var periodEndWC = now + minimumUpdatePeriod;\n  var periodDuration = periodEndWC - periodStartWC;\n  return Math.ceil((periodDuration * timescale - time) / duration);\n};\n/**\n * Uses information provided by SegmentTemplate.SegmentTimeline to determine segment\n * timing and duration\n *\n * @param {Object} attributes\n *        Object containing all inherited attributes from parent elements with attribute\n *        names as keys\n * @param {Object[]} segmentTimeline\n *        List of objects representing the attributes of each S element contained within\n *\n * @return {{number: number, duration: number, time: number, timeline: number}[]}\n *         List of Objects with segment timing and duration info\n */\n\n\nvar parseByTimeline = function parseByTimeline(attributes, segmentTimeline) {\n  var _attributes$type = attributes.type,\n      type = _attributes$type === void 0 ? 'static' : _attributes$type,\n      _attributes$minimumUp2 = attributes.minimumUpdatePeriod,\n      minimumUpdatePeriod = _attributes$minimumUp2 === void 0 ? 0 : _attributes$minimumUp2,\n      _attributes$media = attributes.media,\n      media = _attributes$media === void 0 ? '' : _attributes$media,\n      sourceDuration = attributes.sourceDuration,\n      _attributes$timescale2 = attributes.timescale,\n      timescale = _attributes$timescale2 === void 0 ? 1 : _attributes$timescale2,\n      _attributes$startNumb = attributes.startNumber,\n      startNumber = _attributes$startNumb === void 0 ? 1 : _attributes$startNumb,\n      timeline = attributes.periodIndex;\n  var segments = [];\n  var time = -1;\n\n  for (var sIndex = 0; sIndex < segmentTimeline.length; sIndex++) {\n    var S = segmentTimeline[sIndex];\n    var duration = S.d;\n    var repeat = S.r || 0;\n    var segmentTime = S.t || 0;\n\n    if (time < 0) {\n      // first segment\n      time = segmentTime;\n    }\n\n    if (segmentTime && segmentTime > time) {\n      // discontinuity\n      // TODO: How to handle this type of discontinuity\n      // timeline++ here would treat it like HLS discontuity and content would\n      // get appended without gap\n      // E.G.\n      //  <S t=\"0\" d=\"1\" />\n      //  <S d=\"1\" />\n      //  <S d=\"1\" />\n      //  <S t=\"5\" d=\"1\" />\n      // would have $Time$ values of [0, 1, 2, 5]\n      // should this be appened at time positions [0, 1, 2, 3],(#EXT-X-DISCONTINUITY)\n      // or [0, 1, 2, gap, gap, 5]? (#EXT-X-GAP)\n      // does the value of sourceDuration consider this when calculating arbitrary\n      // negative @r repeat value?\n      // E.G. Same elements as above with this added at the end\n      //  <S d=\"1\" r=\"-1\" />\n      //  with a sourceDuration of 10\n      // Would the 2 gaps be included in the time duration calculations resulting in\n      // 8 segments with $Time$ values of [0, 1, 2, 5, 6, 7, 8, 9] or 10 segments\n      // with $Time$ values of [0, 1, 2, 5, 6, 7, 8, 9, 10, 11] ?\n      time = segmentTime;\n    }\n\n    var count = void 0;\n\n    if (repeat < 0) {\n      var nextS = sIndex + 1;\n\n      if (nextS === segmentTimeline.length) {\n        // last segment\n        if (type === 'dynamic' && minimumUpdatePeriod > 0 && media.indexOf('$Number$') > 0) {\n          count = getLiveRValue(attributes, time, duration);\n        } else {\n          // TODO: This may be incorrect depending on conclusion of TODO above\n          count = (sourceDuration * timescale - time) / duration;\n        }\n      } else {\n        count = (segmentTimeline[nextS].t - time) / duration;\n      }\n    } else {\n      count = repeat + 1;\n    }\n\n    var end = startNumber + segments.length + count;\n    var number = startNumber + segments.length;\n\n    while (number < end) {\n      segments.push({\n        number: number,\n        duration: duration / timescale,\n        time: time,\n        timeline: timeline\n      });\n      time += duration;\n      number++;\n    }\n  }\n\n  return segments;\n};\n\nvar identifierPattern = /\\$([A-z]*)(?:(%0)([0-9]+)d)?\\$/g;\n/**\n * Replaces template identifiers with corresponding values. To be used as the callback\n * for String.prototype.replace\n *\n * @name replaceCallback\n * @function\n * @param {string} match\n *        Entire match of identifier\n * @param {string} identifier\n *        Name of matched identifier\n * @param {string} format\n *        Format tag string. Its presence indicates that padding is expected\n * @param {string} width\n *        Desired length of the replaced value. Values less than this width shall be left\n *        zero padded\n * @return {string}\n *         Replacement for the matched identifier\n */\n\n/**\n * Returns a function to be used as a callback for String.prototype.replace to replace\n * template identifiers\n *\n * @param {Obect} values\n *        Object containing values that shall be used to replace known identifiers\n * @param {number} values.RepresentationID\n *        Value of the Representation@id attribute\n * @param {number} values.Number\n *        Number of the corresponding segment\n * @param {number} values.Bandwidth\n *        Value of the Representation@bandwidth attribute.\n * @param {number} values.Time\n *        Timestamp value of the corresponding segment\n * @return {replaceCallback}\n *         Callback to be used with String.prototype.replace to replace identifiers\n */\n\nvar identifierReplacement = function identifierReplacement(values) {\n  return function (match, identifier, format, width) {\n    if (match === '$$') {\n      // escape sequence\n      return '$';\n    }\n\n    if (typeof values[identifier] === 'undefined') {\n      return match;\n    }\n\n    var value = '' + values[identifier];\n\n    if (identifier === 'RepresentationID') {\n      // Format tag shall not be present with RepresentationID\n      return value;\n    }\n\n    if (!format) {\n      width = 1;\n    } else {\n      width = parseInt(width, 10);\n    }\n\n    if (value.length >= width) {\n      return value;\n    }\n\n    return \"\" + new Array(width - value.length + 1).join('0') + value;\n  };\n};\n/**\n * Constructs a segment url from a template string\n *\n * @param {string} url\n *        Template string to construct url from\n * @param {Obect} values\n *        Object containing values that shall be used to replace known identifiers\n * @param {number} values.RepresentationID\n *        Value of the Representation@id attribute\n * @param {number} values.Number\n *        Number of the corresponding segment\n * @param {number} values.Bandwidth\n *        Value of the Representation@bandwidth attribute.\n * @param {number} values.Time\n *        Timestamp value of the corresponding segment\n * @return {string}\n *         Segment url with identifiers replaced\n */\n\n\nvar constructTemplateUrl = function constructTemplateUrl(url, values) {\n  return url.replace(identifierPattern, identifierReplacement(values));\n};\n/**\n * Generates a list of objects containing timing and duration information about each\n * segment needed to generate segment uris and the complete segment object\n *\n * @param {Object} attributes\n *        Object containing all inherited attributes from parent elements with attribute\n *        names as keys\n * @param {Object[]|undefined} segmentTimeline\n *        List of objects representing the attributes of each S element contained within\n *        the SegmentTimeline element\n * @return {{number: number, duration: number, time: number, timeline: number}[]}\n *         List of Objects with segment timing and duration info\n */\n\n\nvar parseTemplateInfo = function parseTemplateInfo(attributes, segmentTimeline) {\n  if (!attributes.duration && !segmentTimeline) {\n    // if neither @duration or SegmentTimeline are present, then there shall be exactly\n    // one media segment\n    return [{\n      number: attributes.startNumber || 1,\n      duration: attributes.sourceDuration,\n      time: 0,\n      timeline: attributes.periodIndex\n    }];\n  }\n\n  if (attributes.duration) {\n    return parseByDuration(attributes);\n  }\n\n  return parseByTimeline(attributes, segmentTimeline);\n};\n/**\n * Generates a list of segments using information provided by the SegmentTemplate element\n *\n * @param {Object} attributes\n *        Object containing all inherited attributes from parent elements with attribute\n *        names as keys\n * @param {Object[]|undefined} segmentTimeline\n *        List of objects representing the attributes of each S element contained within\n *        the SegmentTimeline element\n * @return {Object[]}\n *         List of segment objects\n */\n\n\nvar segmentsFromTemplate = function segmentsFromTemplate(attributes, segmentTimeline) {\n  var templateValues = {\n    RepresentationID: attributes.id,\n    Bandwidth: attributes.bandwidth || 0\n  };\n  var _attributes$initializ = attributes.initialization,\n      initialization = _attributes$initializ === void 0 ? {\n    sourceURL: '',\n    range: ''\n  } : _attributes$initializ;\n  var mapSegment = urlTypeToSegment({\n    baseUrl: attributes.baseUrl,\n    source: constructTemplateUrl(initialization.sourceURL, templateValues),\n    range: initialization.range\n  });\n  var segments = parseTemplateInfo(attributes, segmentTimeline);\n  return segments.map(function (segment) {\n    templateValues.Number = segment.number;\n    templateValues.Time = segment.time;\n    var uri = constructTemplateUrl(attributes.media || '', templateValues);\n    return {\n      uri: uri,\n      timeline: segment.timeline,\n      duration: segment.duration,\n      resolvedUri: resolveUrl(attributes.baseUrl || '', uri),\n      map: mapSegment,\n      number: segment.number\n    };\n  });\n};\n/**\n * Converts a <SegmentUrl> (of type URLType from the DASH spec 5.3.9.2 Table 14)\n * to an object that matches the output of a segment in videojs/mpd-parser\n *\n * @param {Object} attributes\n *   Object containing all inherited attributes from parent elements with attribute\n *   names as keys\n * @param {Object} segmentUrl\n *   <SegmentURL> node to translate into a segment object\n * @return {Object} translated segment object\n */\n\n\nvar SegmentURLToSegmentObject = function SegmentURLToSegmentObject(attributes, segmentUrl) {\n  var baseUrl = attributes.baseUrl,\n      _attributes$initializ = attributes.initialization,\n      initialization = _attributes$initializ === void 0 ? {} : _attributes$initializ;\n  var initSegment = urlTypeToSegment({\n    baseUrl: baseUrl,\n    source: initialization.sourceURL,\n    range: initialization.range\n  });\n  var segment = urlTypeToSegment({\n    baseUrl: baseUrl,\n    source: segmentUrl.media,\n    range: segmentUrl.mediaRange\n  });\n  segment.map = initSegment;\n  return segment;\n};\n/**\n * Generates a list of segments using information provided by the SegmentList element\n * SegmentList (DASH SPEC Section 5.3.9.3.2) contains a set of <SegmentURL> nodes.  Each\n * node should be translated into segment.\n *\n * @param {Object} attributes\n *   Object containing all inherited attributes from parent elements with attribute\n *   names as keys\n * @param {Object[]|undefined} segmentTimeline\n *        List of objects representing the attributes of each S element contained within\n *        the SegmentTimeline element\n * @return {Object.<Array>} list of segments\n */\n\n\nvar segmentsFromList = function segmentsFromList(attributes, segmentTimeline) {\n  var duration = attributes.duration,\n      _attributes$segmentUr = attributes.segmentUrls,\n      segmentUrls = _attributes$segmentUr === void 0 ? [] : _attributes$segmentUr; // Per spec (5.3.9.2.1) no way to determine segment duration OR\n  // if both SegmentTimeline and @duration are defined, it is outside of spec.\n\n  if (!duration && !segmentTimeline || duration && segmentTimeline) {\n    throw new Error(errors.SEGMENT_TIME_UNSPECIFIED);\n  }\n\n  var segmentUrlMap = segmentUrls.map(function (segmentUrlObject) {\n    return SegmentURLToSegmentObject(attributes, segmentUrlObject);\n  });\n  var segmentTimeInfo;\n\n  if (duration) {\n    segmentTimeInfo = parseByDuration(attributes);\n  }\n\n  if (segmentTimeline) {\n    segmentTimeInfo = parseByTimeline(attributes, segmentTimeline);\n  }\n\n  var segments = segmentTimeInfo.map(function (segmentTime, index) {\n    if (segmentUrlMap[index]) {\n      var segment = segmentUrlMap[index];\n      segment.timeline = segmentTime.timeline;\n      segment.duration = segmentTime.duration;\n      segment.number = segmentTime.number;\n      return segment;\n    } // Since we're mapping we should get rid of any blank segments (in case\n    // the given SegmentTimeline is handling for more elements than we have\n    // SegmentURLs for).\n\n  }).filter(function (segment) {\n    return segment;\n  });\n  return segments;\n};\n\nvar generateSegments = function generateSegments(_ref) {\n  var attributes = _ref.attributes,\n      segmentInfo = _ref.segmentInfo;\n  var segmentAttributes;\n  var segmentsFn;\n\n  if (segmentInfo.template) {\n    segmentsFn = segmentsFromTemplate;\n    segmentAttributes = merge(attributes, segmentInfo.template);\n  } else if (segmentInfo.base) {\n    segmentsFn = segmentsFromBase;\n    segmentAttributes = merge(attributes, segmentInfo.base);\n  } else if (segmentInfo.list) {\n    segmentsFn = segmentsFromList;\n    segmentAttributes = merge(attributes, segmentInfo.list);\n  }\n\n  var segmentsInfo = {\n    attributes: attributes\n  };\n\n  if (!segmentsFn) {\n    return segmentsInfo;\n  }\n\n  var segments = segmentsFn(segmentAttributes, segmentInfo.timeline); // The @duration attribute will be used to determin the playlist's targetDuration which\n  // must be in seconds. Since we've generated the segment list, we no longer need\n  // @duration to be in @timescale units, so we can convert it here.\n\n  if (segmentAttributes.duration) {\n    var _segmentAttributes = segmentAttributes,\n        duration = _segmentAttributes.duration,\n        _segmentAttributes$ti = _segmentAttributes.timescale,\n        timescale = _segmentAttributes$ti === void 0 ? 1 : _segmentAttributes$ti;\n    segmentAttributes.duration = duration / timescale;\n  } else if (segments.length) {\n    // if there is no @duration attribute, use the largest segment duration as\n    // as target duration\n    segmentAttributes.duration = segments.reduce(function (max, segment) {\n      return Math.max(max, Math.ceil(segment.duration));\n    }, 0);\n  } else {\n    segmentAttributes.duration = 0;\n  }\n\n  segmentsInfo.attributes = segmentAttributes;\n  segmentsInfo.segments = segments; // This is a sidx box without actual segment information\n\n  if (segmentInfo.base && segmentAttributes.indexRange) {\n    segmentsInfo.sidx = segments[0];\n    segmentsInfo.segments = [];\n  }\n\n  return segmentsInfo;\n};\n\nvar toPlaylists = function toPlaylists(representations) {\n  return representations.map(generateSegments);\n};\n\nvar findChildren = function findChildren(element, name) {\n  return from(element.childNodes).filter(function (_ref) {\n    var tagName = _ref.tagName;\n    return tagName === name;\n  });\n};\n\nvar getContent = function getContent(element) {\n  return element.textContent.trim();\n};\n\nvar parseDuration = function parseDuration(str) {\n  var SECONDS_IN_YEAR = 365 * 24 * 60 * 60;\n  var SECONDS_IN_MONTH = 30 * 24 * 60 * 60;\n  var SECONDS_IN_DAY = 24 * 60 * 60;\n  var SECONDS_IN_HOUR = 60 * 60;\n  var SECONDS_IN_MIN = 60; // P10Y10M10DT10H10M10.1S\n\n  var durationRegex = /P(?:(\\d*)Y)?(?:(\\d*)M)?(?:(\\d*)D)?(?:T(?:(\\d*)H)?(?:(\\d*)M)?(?:([\\d.]*)S)?)?/;\n  var match = durationRegex.exec(str);\n\n  if (!match) {\n    return 0;\n  }\n\n  var _match$slice = match.slice(1),\n      year = _match$slice[0],\n      month = _match$slice[1],\n      day = _match$slice[2],\n      hour = _match$slice[3],\n      minute = _match$slice[4],\n      second = _match$slice[5];\n\n  return parseFloat(year || 0) * SECONDS_IN_YEAR + parseFloat(month || 0) * SECONDS_IN_MONTH + parseFloat(day || 0) * SECONDS_IN_DAY + parseFloat(hour || 0) * SECONDS_IN_HOUR + parseFloat(minute || 0) * SECONDS_IN_MIN + parseFloat(second || 0);\n};\n\nvar parseDate = function parseDate(str) {\n  // Date format without timezone according to ISO 8601\n  // YYY-MM-DDThh:mm:ss.ssssss\n  var dateRegex = /^\\d+-\\d+-\\d+T\\d+:\\d+:\\d+(\\.\\d+)?$/; // If the date string does not specifiy a timezone, we must specifiy UTC. This is\n  // expressed by ending with 'Z'\n\n  if (dateRegex.test(str)) {\n    str += 'Z';\n  }\n\n  return Date.parse(str);\n};\n\nvar parsers = {\n  /**\n   * Specifies the duration of the entire Media Presentation. Format is a duration string\n   * as specified in ISO 8601\n   *\n   * @param {string} value\n   *        value of attribute as a string\n   * @return {number}\n   *         The duration in seconds\n   */\n  mediaPresentationDuration: function mediaPresentationDuration(value) {\n    return parseDuration(value);\n  },\n\n  /**\n   * Specifies the Segment availability start time for all Segments referred to in this\n   * MPD. For a dynamic manifest, it specifies the anchor for the earliest availability\n   * time. Format is a date string as specified in ISO 8601\n   *\n   * @param {string} value\n   *        value of attribute as a string\n   * @return {number}\n   *         The date as seconds from unix epoch\n   */\n  availabilityStartTime: function availabilityStartTime(value) {\n    return parseDate(value) / 1000;\n  },\n\n  /**\n   * Specifies the smallest period between potential changes to the MPD. Format is a\n   * duration string as specified in ISO 8601\n   *\n   * @param {string} value\n   *        value of attribute as a string\n   * @return {number}\n   *         The duration in seconds\n   */\n  minimumUpdatePeriod: function minimumUpdatePeriod(value) {\n    return parseDuration(value);\n  },\n\n  /**\n   * Specifies the suggested presentation delay. Format is a\n   * duration string as specified in ISO 8601\n   *\n   * @param {string} value\n   *        value of attribute as a string\n   * @return {number}\n   *         The duration in seconds\n   */\n  suggestedPresentationDelay: function suggestedPresentationDelay(value) {\n    return parseDuration(value);\n  },\n\n  /**\n   * specifices the type of mpd. Can be either \"static\" or \"dynamic\"\n   *\n   * @param {string} value\n   *        value of attribute as a string\n   *\n   * @return {string}\n   *         The type as a string\n   */\n  type: function type(value) {\n    return value;\n  },\n\n  /**\n   * Specifies the duration of the smallest time shifting buffer for any Representation\n   * in the MPD. Format is a duration string as specified in ISO 8601\n   *\n   * @param {string} value\n   *        value of attribute as a string\n   * @return {number}\n   *         The duration in seconds\n   */\n  timeShiftBufferDepth: function timeShiftBufferDepth(value) {\n    return parseDuration(value);\n  },\n\n  /**\n   * Specifies the PeriodStart time of the Period relative to the availabilityStarttime.\n   * Format is a duration string as specified in ISO 8601\n   *\n   * @param {string} value\n   *        value of attribute as a string\n   * @return {number}\n   *         The duration in seconds\n   */\n  start: function start(value) {\n    return parseDuration(value);\n  },\n\n  /**\n   * Specifies the width of the visual presentation\n   *\n   * @param {string} value\n   *        value of attribute as a string\n   * @return {number}\n   *         The parsed width\n   */\n  width: function width(value) {\n    return parseInt(value, 10);\n  },\n\n  /**\n   * Specifies the height of the visual presentation\n   *\n   * @param {string} value\n   *        value of attribute as a string\n   * @return {number}\n   *         The parsed height\n   */\n  height: function height(value) {\n    return parseInt(value, 10);\n  },\n\n  /**\n   * Specifies the bitrate of the representation\n   *\n   * @param {string} value\n   *        value of attribute as a string\n   * @return {number}\n   *         The parsed bandwidth\n   */\n  bandwidth: function bandwidth(value) {\n    return parseInt(value, 10);\n  },\n\n  /**\n   * Specifies the number of the first Media Segment in this Representation in the Period\n   *\n   * @param {string} value\n   *        value of attribute as a string\n   * @return {number}\n   *         The parsed number\n   */\n  startNumber: function startNumber(value) {\n    return parseInt(value, 10);\n  },\n\n  /**\n   * Specifies the timescale in units per seconds\n   *\n   * @param {string} value\n   *        value of attribute as a string\n   * @return {number}\n   *         The aprsed timescale\n   */\n  timescale: function timescale(value) {\n    return parseInt(value, 10);\n  },\n\n  /**\n   * Specifies the constant approximate Segment duration\n   * NOTE: The <Period> element also contains an @duration attribute. This duration\n   *       specifies the duration of the Period. This attribute is currently not\n   *       supported by the rest of the parser, however we still check for it to prevent\n   *       errors.\n   *\n   * @param {string} value\n   *        value of attribute as a string\n   * @return {number}\n   *         The parsed duration\n   */\n  duration: function duration(value) {\n    var parsedValue = parseInt(value, 10);\n\n    if (isNaN(parsedValue)) {\n      return parseDuration(value);\n    }\n\n    return parsedValue;\n  },\n\n  /**\n   * Specifies the Segment duration, in units of the value of the @timescale.\n   *\n   * @param {string} value\n   *        value of attribute as a string\n   * @return {number}\n   *         The parsed duration\n   */\n  d: function d(value) {\n    return parseInt(value, 10);\n  },\n\n  /**\n   * Specifies the MPD start time, in @timescale units, the first Segment in the series\n   * starts relative to the beginning of the Period\n   *\n   * @param {string} value\n   *        value of attribute as a string\n   * @return {number}\n   *         The parsed time\n   */\n  t: function t(value) {\n    return parseInt(value, 10);\n  },\n\n  /**\n   * Specifies the repeat count of the number of following contiguous Segments with the\n   * same duration expressed by the value of @d\n   *\n   * @param {string} value\n   *        value of attribute as a string\n   * @return {number}\n   *         The parsed number\n   */\n  r: function r(value) {\n    return parseInt(value, 10);\n  },\n\n  /**\n   * Default parser for all other attributes. Acts as a no-op and just returns the value\n   * as a string\n   *\n   * @param {string} value\n   *        value of attribute as a string\n   * @return {string}\n   *         Unparsed value\n   */\n  DEFAULT: function DEFAULT(value) {\n    return value;\n  }\n};\n/**\n * Gets all the attributes and values of the provided node, parses attributes with known\n * types, and returns an object with attribute names mapped to values.\n *\n * @param {Node} el\n *        The node to parse attributes from\n * @return {Object}\n *         Object with all attributes of el parsed\n */\n\nvar parseAttributes = function parseAttributes(el) {\n  if (!(el && el.attributes)) {\n    return {};\n  }\n\n  return from(el.attributes).reduce(function (a, e) {\n    var parseFn = parsers[e.name] || parsers.DEFAULT;\n    a[e.name] = parseFn(e.value);\n    return a;\n  }, {});\n};\n\nvar keySystemsMap = {\n  'urn:uuid:1077efec-c0b2-4d02-ace3-3c1e52e2fb4b': 'org.w3.clearkey',\n  'urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed': 'com.widevine.alpha',\n  'urn:uuid:9a04f079-9840-4286-ab92-e65be0885f95': 'com.microsoft.playready',\n  'urn:uuid:f239e769-efa3-4850-9c16-a903c6932efb': 'com.adobe.primetime'\n};\n/**\n * Builds a list of urls that is the product of the reference urls and BaseURL values\n *\n * @param {string[]} referenceUrls\n *        List of reference urls to resolve to\n * @param {Node[]} baseUrlElements\n *        List of BaseURL nodes from the mpd\n * @return {string[]}\n *         List of resolved urls\n */\n\nvar buildBaseUrls = function buildBaseUrls(referenceUrls, baseUrlElements) {\n  if (!baseUrlElements.length) {\n    return referenceUrls;\n  }\n\n  return flatten(referenceUrls.map(function (reference) {\n    return baseUrlElements.map(function (baseUrlElement) {\n      return resolveUrl(reference, getContent(baseUrlElement));\n    });\n  }));\n};\n/**\n * Contains all Segment information for its containing AdaptationSet\n *\n * @typedef {Object} SegmentInformation\n * @property {Object|undefined} template\n *           Contains the attributes for the SegmentTemplate node\n * @property {Object[]|undefined} timeline\n *           Contains a list of atrributes for each S node within the SegmentTimeline node\n * @property {Object|undefined} list\n *           Contains the attributes for the SegmentList node\n * @property {Object|undefined} base\n *           Contains the attributes for the SegmentBase node\n */\n\n/**\n * Returns all available Segment information contained within the AdaptationSet node\n *\n * @param {Node} adaptationSet\n *        The AdaptationSet node to get Segment information from\n * @return {SegmentInformation}\n *         The Segment information contained within the provided AdaptationSet\n */\n\n\nvar getSegmentInformation = function getSegmentInformation(adaptationSet) {\n  var segmentTemplate = findChildren(adaptationSet, 'SegmentTemplate')[0];\n  var segmentList = findChildren(adaptationSet, 'SegmentList')[0];\n  var segmentUrls = segmentList && findChildren(segmentList, 'SegmentURL').map(function (s) {\n    return merge({\n      tag: 'SegmentURL'\n    }, parseAttributes(s));\n  });\n  var segmentBase = findChildren(adaptationSet, 'SegmentBase')[0];\n  var segmentTimelineParentNode = segmentList || segmentTemplate;\n  var segmentTimeline = segmentTimelineParentNode && findChildren(segmentTimelineParentNode, 'SegmentTimeline')[0];\n  var segmentInitializationParentNode = segmentList || segmentBase || segmentTemplate;\n  var segmentInitialization = segmentInitializationParentNode && findChildren(segmentInitializationParentNode, 'Initialization')[0]; // SegmentTemplate is handled slightly differently, since it can have both\n  // @initialization and an <Initialization> node.  @initialization can be templated,\n  // while the node can have a url and range specified.  If the <SegmentTemplate> has\n  // both @initialization and an <Initialization> subelement we opt to override with\n  // the node, as this interaction is not defined in the spec.\n\n  var template = segmentTemplate && parseAttributes(segmentTemplate);\n\n  if (template && segmentInitialization) {\n    template.initialization = segmentInitialization && parseAttributes(segmentInitialization);\n  } else if (template && template.initialization) {\n    // If it is @initialization we convert it to an object since this is the format that\n    // later functions will rely on for the initialization segment.  This is only valid\n    // for <SegmentTemplate>\n    template.initialization = {\n      sourceURL: template.initialization\n    };\n  }\n\n  var segmentInfo = {\n    template: template,\n    timeline: segmentTimeline && findChildren(segmentTimeline, 'S').map(function (s) {\n      return parseAttributes(s);\n    }),\n    list: segmentList && merge(parseAttributes(segmentList), {\n      segmentUrls: segmentUrls,\n      initialization: parseAttributes(segmentInitialization)\n    }),\n    base: segmentBase && merge(parseAttributes(segmentBase), {\n      initialization: parseAttributes(segmentInitialization)\n    })\n  };\n  Object.keys(segmentInfo).forEach(function (key) {\n    if (!segmentInfo[key]) {\n      delete segmentInfo[key];\n    }\n  });\n  return segmentInfo;\n};\n/**\n * Contains Segment information and attributes needed to construct a Playlist object\n * from a Representation\n *\n * @typedef {Object} RepresentationInformation\n * @property {SegmentInformation} segmentInfo\n *           Segment information for this Representation\n * @property {Object} attributes\n *           Inherited attributes for this Representation\n */\n\n/**\n * Maps a Representation node to an object containing Segment information and attributes\n *\n * @name inheritBaseUrlsCallback\n * @function\n * @param {Node} representation\n *        Representation node from the mpd\n * @return {RepresentationInformation}\n *         Representation information needed to construct a Playlist object\n */\n\n/**\n * Returns a callback for Array.prototype.map for mapping Representation nodes to\n * Segment information and attributes using inherited BaseURL nodes.\n *\n * @param {Object} adaptationSetAttributes\n *        Contains attributes inherited by the AdaptationSet\n * @param {string[]} adaptationSetBaseUrls\n *        Contains list of resolved base urls inherited by the AdaptationSet\n * @param {SegmentInformation} adaptationSetSegmentInfo\n *        Contains Segment information for the AdaptationSet\n * @return {inheritBaseUrlsCallback}\n *         Callback map function\n */\n\n\nvar inheritBaseUrls = function inheritBaseUrls(adaptationSetAttributes, adaptationSetBaseUrls, adaptationSetSegmentInfo) {\n  return function (representation) {\n    var repBaseUrlElements = findChildren(representation, 'BaseURL');\n    var repBaseUrls = buildBaseUrls(adaptationSetBaseUrls, repBaseUrlElements);\n    var attributes = merge(adaptationSetAttributes, parseAttributes(representation));\n    var representationSegmentInfo = getSegmentInformation(representation);\n    return repBaseUrls.map(function (baseUrl) {\n      return {\n        segmentInfo: merge(adaptationSetSegmentInfo, representationSegmentInfo),\n        attributes: merge(attributes, {\n          baseUrl: baseUrl\n        })\n      };\n    });\n  };\n};\n/**\n * Tranforms a series of content protection nodes to\n * an object containing pssh data by key system\n *\n * @param {Node[]} contentProtectionNodes\n *        Content protection nodes\n * @return {Object}\n *        Object containing pssh data by key system\n */\n\n\nvar generateKeySystemInformation = function generateKeySystemInformation(contentProtectionNodes) {\n  return contentProtectionNodes.reduce(function (acc, node) {\n    var attributes = parseAttributes(node);\n    var keySystem = keySystemsMap[attributes.schemeIdUri];\n\n    if (keySystem) {\n      acc[keySystem] = {\n        attributes: attributes\n      };\n      var psshNode = findChildren(node, 'cenc:pssh')[0];\n\n      if (psshNode) {\n        var pssh = getContent(psshNode);\n        var psshBuffer = pssh && decodeB64ToUint8Array(pssh);\n        acc[keySystem].pssh = psshBuffer;\n      }\n    }\n\n    return acc;\n  }, {});\n};\n/**\n * Maps an AdaptationSet node to a list of Representation information objects\n *\n * @name toRepresentationsCallback\n * @function\n * @param {Node} adaptationSet\n *        AdaptationSet node from the mpd\n * @return {RepresentationInformation[]}\n *         List of objects containing Representaion information\n */\n\n/**\n * Returns a callback for Array.prototype.map for mapping AdaptationSet nodes to a list of\n * Representation information objects\n *\n * @param {Object} periodAttributes\n *        Contains attributes inherited by the Period\n * @param {string[]} periodBaseUrls\n *        Contains list of resolved base urls inherited by the Period\n * @param {string[]} periodSegmentInfo\n *        Contains Segment Information at the period level\n * @return {toRepresentationsCallback}\n *         Callback map function\n */\n\n\nvar toRepresentations = function toRepresentations(periodAttributes, periodBaseUrls, periodSegmentInfo) {\n  return function (adaptationSet) {\n    var adaptationSetAttributes = parseAttributes(adaptationSet);\n    var adaptationSetBaseUrls = buildBaseUrls(periodBaseUrls, findChildren(adaptationSet, 'BaseURL'));\n    var role = findChildren(adaptationSet, 'Role')[0];\n    var roleAttributes = {\n      role: parseAttributes(role)\n    };\n    var attrs = merge(periodAttributes, adaptationSetAttributes, roleAttributes);\n    var contentProtection = generateKeySystemInformation(findChildren(adaptationSet, 'ContentProtection'));\n\n    if (Object.keys(contentProtection).length) {\n      attrs = merge(attrs, {\n        contentProtection: contentProtection\n      });\n    }\n\n    var segmentInfo = getSegmentInformation(adaptationSet);\n    var representations = findChildren(adaptationSet, 'Representation');\n    var adaptationSetSegmentInfo = merge(periodSegmentInfo, segmentInfo);\n    return flatten(representations.map(inheritBaseUrls(attrs, adaptationSetBaseUrls, adaptationSetSegmentInfo)));\n  };\n};\n/**\n * Maps an Period node to a list of Representation inforamtion objects for all\n * AdaptationSet nodes contained within the Period\n *\n * @name toAdaptationSetsCallback\n * @function\n * @param {Node} period\n *        Period node from the mpd\n * @param {number} periodIndex\n *        Index of the Period within the mpd\n * @return {RepresentationInformation[]}\n *         List of objects containing Representaion information\n */\n\n/**\n * Returns a callback for Array.prototype.map for mapping Period nodes to a list of\n * Representation information objects\n *\n * @param {Object} mpdAttributes\n *        Contains attributes inherited by the mpd\n * @param {string[]} mpdBaseUrls\n *        Contains list of resolved base urls inherited by the mpd\n * @return {toAdaptationSetsCallback}\n *         Callback map function\n */\n\n\nvar toAdaptationSets = function toAdaptationSets(mpdAttributes, mpdBaseUrls) {\n  return function (period, index) {\n    var periodBaseUrls = buildBaseUrls(mpdBaseUrls, findChildren(period, 'BaseURL'));\n    var periodAtt = parseAttributes(period);\n    var parsedPeriodId = parseInt(periodAtt.id, 10); // fallback to mapping index if Period@id is not a number\n\n    var periodIndex = window.isNaN(parsedPeriodId) ? index : parsedPeriodId;\n    var periodAttributes = merge(mpdAttributes, {\n      periodIndex: periodIndex\n    });\n    var adaptationSets = findChildren(period, 'AdaptationSet');\n    var periodSegmentInfo = getSegmentInformation(period);\n    return flatten(adaptationSets.map(toRepresentations(periodAttributes, periodBaseUrls, periodSegmentInfo)));\n  };\n};\n/**\n * Traverses the mpd xml tree to generate a list of Representation information objects\n * that have inherited attributes from parent nodes\n *\n * @param {Node} mpd\n *        The root node of the mpd\n * @param {Object} options\n *        Available options for inheritAttributes\n * @param {string} options.manifestUri\n *        The uri source of the mpd\n * @param {number} options.NOW\n *        Current time per DASH IOP.  Default is current time in ms since epoch\n * @param {number} options.clientOffset\n *        Client time difference from NOW (in milliseconds)\n * @return {RepresentationInformation[]}\n *         List of objects containing Representation information\n */\n\n\nvar inheritAttributes = function inheritAttributes(mpd, options) {\n  if (options === void 0) {\n    options = {};\n  }\n\n  var _options = options,\n      _options$manifestUri = _options.manifestUri,\n      manifestUri = _options$manifestUri === void 0 ? '' : _options$manifestUri,\n      _options$NOW = _options.NOW,\n      NOW = _options$NOW === void 0 ? Date.now() : _options$NOW,\n      _options$clientOffset = _options.clientOffset,\n      clientOffset = _options$clientOffset === void 0 ? 0 : _options$clientOffset;\n  var periods = findChildren(mpd, 'Period');\n\n  if (!periods.length) {\n    throw new Error(errors.INVALID_NUMBER_OF_PERIOD);\n  }\n\n  var mpdAttributes = parseAttributes(mpd);\n  var mpdBaseUrls = buildBaseUrls([manifestUri], findChildren(mpd, 'BaseURL'));\n  mpdAttributes.sourceDuration = mpdAttributes.mediaPresentationDuration || 0;\n  mpdAttributes.NOW = NOW;\n  mpdAttributes.clientOffset = clientOffset;\n  return flatten(periods.map(toAdaptationSets(mpdAttributes, mpdBaseUrls)));\n};\n\nvar stringToMpdXml = function stringToMpdXml(manifestString) {\n  if (manifestString === '') {\n    throw new Error(errors.DASH_EMPTY_MANIFEST);\n  }\n\n  var parser = new DOMParser();\n  var xml = parser.parseFromString(manifestString, 'application/xml');\n  var mpd = xml && xml.documentElement.tagName === 'MPD' ? xml.documentElement : null;\n\n  if (!mpd || mpd && mpd.getElementsByTagName('parsererror').length > 0) {\n    throw new Error(errors.DASH_INVALID_XML);\n  }\n\n  return mpd;\n};\n/**\n * Parses the manifest for a UTCTiming node, returning the nodes attributes if found\n *\n * @param {string} mpd\n *        XML string of the MPD manifest\n * @return {Object|null}\n *         Attributes of UTCTiming node specified in the manifest. Null if none found\n */\n\n\nvar parseUTCTimingScheme = function parseUTCTimingScheme(mpd) {\n  var UTCTimingNode = findChildren(mpd, 'UTCTiming')[0];\n\n  if (!UTCTimingNode) {\n    return null;\n  }\n\n  var attributes = parseAttributes(UTCTimingNode);\n\n  switch (attributes.schemeIdUri) {\n    case 'urn:mpeg:dash:utc:http-head:2014':\n    case 'urn:mpeg:dash:utc:http-head:2012':\n      attributes.method = 'HEAD';\n      break;\n\n    case 'urn:mpeg:dash:utc:http-xsdate:2014':\n    case 'urn:mpeg:dash:utc:http-iso:2014':\n    case 'urn:mpeg:dash:utc:http-xsdate:2012':\n    case 'urn:mpeg:dash:utc:http-iso:2012':\n      attributes.method = 'GET';\n      break;\n\n    case 'urn:mpeg:dash:utc:direct:2014':\n    case 'urn:mpeg:dash:utc:direct:2012':\n      attributes.method = 'DIRECT';\n      attributes.value = Date.parse(attributes.value);\n      break;\n\n    case 'urn:mpeg:dash:utc:http-ntp:2014':\n    case 'urn:mpeg:dash:utc:ntp:2014':\n    case 'urn:mpeg:dash:utc:sntp:2014':\n    default:\n      throw new Error(errors.UNSUPPORTED_UTC_TIMING_SCHEME);\n  }\n\n  return attributes;\n};\n\nvar VERSION = version;\n\nvar parse = function parse(manifestString, options) {\n  if (options === void 0) {\n    options = {};\n  }\n\n  return toM3u8(toPlaylists(inheritAttributes(stringToMpdXml(manifestString), options)), options.sidxMapping);\n};\n/**\n * Parses the manifest for a UTCTiming node, returning the nodes attributes if found\n *\n * @param {string} manifestString\n *        XML string of the MPD manifest\n * @return {Object|null}\n *         Attributes of UTCTiming node specified in the manifest. Null if none found\n */\n\n\nvar parseUTCTiming = function parseUTCTiming(manifestString) {\n  return parseUTCTimingScheme(stringToMpdXml(manifestString));\n};\n\nexport { VERSION, inheritAttributes, parse, parseUTCTiming, stringToMpdXml, toM3u8, toPlaylists };","/*! @name @videojs/vhs-utils @version 1.3.0 @license MIT */\n'use strict';\n\nfunction _interopDefault(ex) {\n  return ex && typeof ex === 'object' && 'default' in ex ? ex['default'] : ex;\n}\n\nvar window = _interopDefault(require('global/window'));\n\nvar atob = function atob(s) {\n  return window.atob ? window.atob(s) : Buffer.from(s, 'base64').toString('binary');\n};\n\nfunction decodeB64ToUint8Array(b64Text) {\n  var decodedString = atob(b64Text);\n  var array = new Uint8Array(decodedString.length);\n\n  for (var i = 0; i < decodedString.length; i++) {\n    array[i] = decodedString.charCodeAt(i);\n  }\n\n  return array;\n}\n\nmodule.exports = decodeB64ToUint8Array;","module.exports = SafeParseTuple;\n\nfunction SafeParseTuple(obj, reviver) {\n  var json;\n  var error = null;\n\n  try {\n    json = JSON.parse(obj, reviver);\n  } catch (err) {\n    error = err;\n  }\n\n  return [error, json];\n}","var MediaQueryDispatch = require('./MediaQueryDispatch');\n\nmodule.exports = new MediaQueryDispatch();","/**\n * Delegate to handle a media query being matched and unmatched.\n *\n * @param {object} options\n * @param {function} options.match callback for when the media query is matched\n * @param {function} [options.unmatch] callback for when the media query is unmatched\n * @param {function} [options.setup] one-time callback triggered the first time a query is matched\n * @param {boolean} [options.deferSetup=false] should the setup callback be run immediately, rather than first time query is matched?\n * @constructor\n */\nfunction QueryHandler(options) {\n  this.options = options;\n  !options.deferSetup && this.setup();\n}\n\nQueryHandler.prototype = {\n  constructor: QueryHandler,\n\n  /**\n   * coordinates setup of the handler\n   *\n   * @function\n   */\n  setup: function setup() {\n    if (this.options.setup) {\n      this.options.setup();\n    }\n\n    this.initialised = true;\n  },\n\n  /**\n   * coordinates setup and triggering of the handler\n   *\n   * @function\n   */\n  on: function on() {\n    !this.initialised && this.setup();\n    this.options.match && this.options.match();\n  },\n\n  /**\n   * coordinates the unmatch event for the handler\n   *\n   * @function\n   */\n  off: function off() {\n    this.options.unmatch && this.options.unmatch();\n  },\n\n  /**\n   * called when a handler is to be destroyed.\n   * delegates to the destroy or unmatch callbacks, depending on availability.\n   *\n   * @function\n   */\n  destroy: function destroy() {\n    this.options.destroy ? this.options.destroy() : this.off();\n  },\n\n  /**\n   * determines equality by reference.\n   * if object is supplied compare options, if function, compare match callback\n   *\n   * @function\n   * @param {object || function} [target] the target for comparison\n   */\n  equals: function equals(target) {\n    return this.options === target || this.options.match === target;\n  }\n};\nmodule.exports = QueryHandler;","/**\n * mux.js\n *\n * Copyright (c) Brightcove\n * Licensed Apache-2.0 https://github.com/videojs/mux.js/blob/master/LICENSE\n *\n * Parse the internal MP4 structure into an equivalent javascript\n * object.\n */\n'use strict';\n\nvar inspectMp4,\n    _textifyMp,\n    toUnsigned = require('../utils/bin').toUnsigned,\n    parseMp4Date = function parseMp4Date(seconds) {\n  return new Date(seconds * 1000 - 2082844800000);\n},\n    parseSampleFlags = function parseSampleFlags(flags) {\n  return {\n    isLeading: (flags[0] & 0x0c) >>> 2,\n    dependsOn: flags[0] & 0x03,\n    isDependedOn: (flags[1] & 0xc0) >>> 6,\n    hasRedundancy: (flags[1] & 0x30) >>> 4,\n    paddingValue: (flags[1] & 0x0e) >>> 1,\n    isNonSyncSample: flags[1] & 0x01,\n    degradationPriority: flags[2] << 8 | flags[3]\n  };\n},\n\n/**\n * Returns the string representation of an ASCII encoded four byte buffer.\n * @param buffer {Uint8Array} a four-byte buffer to translate\n * @return {string} the corresponding string\n */\nparseType = function parseType(buffer) {\n  var result = '';\n  result += String.fromCharCode(buffer[0]);\n  result += String.fromCharCode(buffer[1]);\n  result += String.fromCharCode(buffer[2]);\n  result += String.fromCharCode(buffer[3]);\n  return result;\n},\n    // Find the data for a box specified by its path\nfindBox = function findBox(data, path) {\n  var results = [],\n      i,\n      size,\n      type,\n      end,\n      subresults;\n\n  if (!path.length) {\n    // short-circuit the search for empty paths\n    return null;\n  }\n\n  for (i = 0; i < data.byteLength;) {\n    size = toUnsigned(data[i] << 24 | data[i + 1] << 16 | data[i + 2] << 8 | data[i + 3]);\n    type = parseType(data.subarray(i + 4, i + 8));\n    end = size > 1 ? i + size : data.byteLength;\n\n    if (type === path[0]) {\n      if (path.length === 1) {\n        // this is the end of the path and we've found the box we were\n        // looking for\n        results.push(data.subarray(i + 8, end));\n      } else {\n        // recursively search for the next box along the path\n        subresults = findBox(data.subarray(i + 8, end), path.slice(1));\n\n        if (subresults.length) {\n          results = results.concat(subresults);\n        }\n      }\n    }\n\n    i = end;\n  } // we've finished searching all of data\n\n\n  return results;\n},\n    nalParse = function nalParse(avcStream) {\n  var avcView = new DataView(avcStream.buffer, avcStream.byteOffset, avcStream.byteLength),\n      result = [],\n      i,\n      length;\n\n  for (i = 0; i + 4 < avcStream.length; i += length) {\n    length = avcView.getUint32(i);\n    i += 4; // bail if this doesn't appear to be an H264 stream\n\n    if (length <= 0) {\n      result.push('<span style=\\'color:red;\\'>MALFORMED DATA</span>');\n      continue;\n    }\n\n    switch (avcStream[i] & 0x1F) {\n      case 0x01:\n        result.push('slice_layer_without_partitioning_rbsp');\n        break;\n\n      case 0x05:\n        result.push('slice_layer_without_partitioning_rbsp_idr');\n        break;\n\n      case 0x06:\n        result.push('sei_rbsp');\n        break;\n\n      case 0x07:\n        result.push('seq_parameter_set_rbsp');\n        break;\n\n      case 0x08:\n        result.push('pic_parameter_set_rbsp');\n        break;\n\n      case 0x09:\n        result.push('access_unit_delimiter_rbsp');\n        break;\n\n      default:\n        result.push('UNKNOWN NAL - ' + avcStream[i] & 0x1F);\n        break;\n    }\n  }\n\n  return result;\n},\n    // registry of handlers for individual mp4 box types\nparse = {\n  // codingname, not a first-class box type. stsd entries share the\n  // same format as real boxes so the parsing infrastructure can be\n  // shared\n  avc1: function avc1(data) {\n    var view = new DataView(data.buffer, data.byteOffset, data.byteLength);\n    return {\n      dataReferenceIndex: view.getUint16(6),\n      width: view.getUint16(24),\n      height: view.getUint16(26),\n      horizresolution: view.getUint16(28) + view.getUint16(30) / 16,\n      vertresolution: view.getUint16(32) + view.getUint16(34) / 16,\n      frameCount: view.getUint16(40),\n      depth: view.getUint16(74),\n      config: inspectMp4(data.subarray(78, data.byteLength))\n    };\n  },\n  avcC: function avcC(data) {\n    var view = new DataView(data.buffer, data.byteOffset, data.byteLength),\n        result = {\n      configurationVersion: data[0],\n      avcProfileIndication: data[1],\n      profileCompatibility: data[2],\n      avcLevelIndication: data[3],\n      lengthSizeMinusOne: data[4] & 0x03,\n      sps: [],\n      pps: []\n    },\n        numOfSequenceParameterSets = data[5] & 0x1f,\n        numOfPictureParameterSets,\n        nalSize,\n        offset,\n        i; // iterate past any SPSs\n\n    offset = 6;\n\n    for (i = 0; i < numOfSequenceParameterSets; i++) {\n      nalSize = view.getUint16(offset);\n      offset += 2;\n      result.sps.push(new Uint8Array(data.subarray(offset, offset + nalSize)));\n      offset += nalSize;\n    } // iterate past any PPSs\n\n\n    numOfPictureParameterSets = data[offset];\n    offset++;\n\n    for (i = 0; i < numOfPictureParameterSets; i++) {\n      nalSize = view.getUint16(offset);\n      offset += 2;\n      result.pps.push(new Uint8Array(data.subarray(offset, offset + nalSize)));\n      offset += nalSize;\n    }\n\n    return result;\n  },\n  btrt: function btrt(data) {\n    var view = new DataView(data.buffer, data.byteOffset, data.byteLength);\n    return {\n      bufferSizeDB: view.getUint32(0),\n      maxBitrate: view.getUint32(4),\n      avgBitrate: view.getUint32(8)\n    };\n  },\n  esds: function esds(data) {\n    return {\n      version: data[0],\n      flags: new Uint8Array(data.subarray(1, 4)),\n      esId: data[6] << 8 | data[7],\n      streamPriority: data[8] & 0x1f,\n      decoderConfig: {\n        objectProfileIndication: data[11],\n        streamType: data[12] >>> 2 & 0x3f,\n        bufferSize: data[13] << 16 | data[14] << 8 | data[15],\n        maxBitrate: data[16] << 24 | data[17] << 16 | data[18] << 8 | data[19],\n        avgBitrate: data[20] << 24 | data[21] << 16 | data[22] << 8 | data[23],\n        decoderConfigDescriptor: {\n          tag: data[24],\n          length: data[25],\n          audioObjectType: data[26] >>> 3 & 0x1f,\n          samplingFrequencyIndex: (data[26] & 0x07) << 1 | data[27] >>> 7 & 0x01,\n          channelConfiguration: data[27] >>> 3 & 0x0f\n        }\n      }\n    };\n  },\n  ftyp: function ftyp(data) {\n    var view = new DataView(data.buffer, data.byteOffset, data.byteLength),\n        result = {\n      majorBrand: parseType(data.subarray(0, 4)),\n      minorVersion: view.getUint32(4),\n      compatibleBrands: []\n    },\n        i = 8;\n\n    while (i < data.byteLength) {\n      result.compatibleBrands.push(parseType(data.subarray(i, i + 4)));\n      i += 4;\n    }\n\n    return result;\n  },\n  dinf: function dinf(data) {\n    return {\n      boxes: inspectMp4(data)\n    };\n  },\n  dref: function dref(data) {\n    return {\n      version: data[0],\n      flags: new Uint8Array(data.subarray(1, 4)),\n      dataReferences: inspectMp4(data.subarray(8))\n    };\n  },\n  hdlr: function hdlr(data) {\n    var view = new DataView(data.buffer, data.byteOffset, data.byteLength),\n        result = {\n      version: view.getUint8(0),\n      flags: new Uint8Array(data.subarray(1, 4)),\n      handlerType: parseType(data.subarray(8, 12)),\n      name: ''\n    },\n        i = 8; // parse out the name field\n\n    for (i = 24; i < data.byteLength; i++) {\n      if (data[i] === 0x00) {\n        // the name field is null-terminated\n        i++;\n        break;\n      }\n\n      result.name += String.fromCharCode(data[i]);\n    } // decode UTF-8 to javascript's internal representation\n    // see http://ecmanaut.blogspot.com/2006/07/encoding-decoding-utf8-in-javascript.html\n\n\n    result.name = decodeURIComponent(escape(result.name));\n    return result;\n  },\n  mdat: function mdat(data) {\n    return {\n      byteLength: data.byteLength,\n      nals: nalParse(data)\n    };\n  },\n  mdhd: function mdhd(data) {\n    var view = new DataView(data.buffer, data.byteOffset, data.byteLength),\n        i = 4,\n        language,\n        result = {\n      version: view.getUint8(0),\n      flags: new Uint8Array(data.subarray(1, 4)),\n      language: ''\n    };\n\n    if (result.version === 1) {\n      i += 4;\n      result.creationTime = parseMp4Date(view.getUint32(i)); // truncating top 4 bytes\n\n      i += 8;\n      result.modificationTime = parseMp4Date(view.getUint32(i)); // truncating top 4 bytes\n\n      i += 4;\n      result.timescale = view.getUint32(i);\n      i += 8;\n      result.duration = view.getUint32(i); // truncating top 4 bytes\n    } else {\n      result.creationTime = parseMp4Date(view.getUint32(i));\n      i += 4;\n      result.modificationTime = parseMp4Date(view.getUint32(i));\n      i += 4;\n      result.timescale = view.getUint32(i);\n      i += 4;\n      result.duration = view.getUint32(i);\n    }\n\n    i += 4; // language is stored as an ISO-639-2/T code in an array of three 5-bit fields\n    // each field is the packed difference between its ASCII value and 0x60\n\n    language = view.getUint16(i);\n    result.language += String.fromCharCode((language >> 10) + 0x60);\n    result.language += String.fromCharCode(((language & 0x03e0) >> 5) + 0x60);\n    result.language += String.fromCharCode((language & 0x1f) + 0x60);\n    return result;\n  },\n  mdia: function mdia(data) {\n    return {\n      boxes: inspectMp4(data)\n    };\n  },\n  mfhd: function mfhd(data) {\n    return {\n      version: data[0],\n      flags: new Uint8Array(data.subarray(1, 4)),\n      sequenceNumber: data[4] << 24 | data[5] << 16 | data[6] << 8 | data[7]\n    };\n  },\n  minf: function minf(data) {\n    return {\n      boxes: inspectMp4(data)\n    };\n  },\n  // codingname, not a first-class box type. stsd entries share the\n  // same format as real boxes so the parsing infrastructure can be\n  // shared\n  mp4a: function mp4a(data) {\n    var view = new DataView(data.buffer, data.byteOffset, data.byteLength),\n        result = {\n      // 6 bytes reserved\n      dataReferenceIndex: view.getUint16(6),\n      // 4 + 4 bytes reserved\n      channelcount: view.getUint16(16),\n      samplesize: view.getUint16(18),\n      // 2 bytes pre_defined\n      // 2 bytes reserved\n      samplerate: view.getUint16(24) + view.getUint16(26) / 65536\n    }; // if there are more bytes to process, assume this is an ISO/IEC\n    // 14496-14 MP4AudioSampleEntry and parse the ESDBox\n\n    if (data.byteLength > 28) {\n      result.streamDescriptor = inspectMp4(data.subarray(28))[0];\n    }\n\n    return result;\n  },\n  moof: function moof(data) {\n    return {\n      boxes: inspectMp4(data)\n    };\n  },\n  moov: function moov(data) {\n    return {\n      boxes: inspectMp4(data)\n    };\n  },\n  mvex: function mvex(data) {\n    return {\n      boxes: inspectMp4(data)\n    };\n  },\n  mvhd: function mvhd(data) {\n    var view = new DataView(data.buffer, data.byteOffset, data.byteLength),\n        i = 4,\n        result = {\n      version: view.getUint8(0),\n      flags: new Uint8Array(data.subarray(1, 4))\n    };\n\n    if (result.version === 1) {\n      i += 4;\n      result.creationTime = parseMp4Date(view.getUint32(i)); // truncating top 4 bytes\n\n      i += 8;\n      result.modificationTime = parseMp4Date(view.getUint32(i)); // truncating top 4 bytes\n\n      i += 4;\n      result.timescale = view.getUint32(i);\n      i += 8;\n      result.duration = view.getUint32(i); // truncating top 4 bytes\n    } else {\n      result.creationTime = parseMp4Date(view.getUint32(i));\n      i += 4;\n      result.modificationTime = parseMp4Date(view.getUint32(i));\n      i += 4;\n      result.timescale = view.getUint32(i);\n      i += 4;\n      result.duration = view.getUint32(i);\n    }\n\n    i += 4; // convert fixed-point, base 16 back to a number\n\n    result.rate = view.getUint16(i) + view.getUint16(i + 2) / 16;\n    i += 4;\n    result.volume = view.getUint8(i) + view.getUint8(i + 1) / 8;\n    i += 2;\n    i += 2;\n    i += 2 * 4;\n    result.matrix = new Uint32Array(data.subarray(i, i + 9 * 4));\n    i += 9 * 4;\n    i += 6 * 4;\n    result.nextTrackId = view.getUint32(i);\n    return result;\n  },\n  pdin: function pdin(data) {\n    var view = new DataView(data.buffer, data.byteOffset, data.byteLength);\n    return {\n      version: view.getUint8(0),\n      flags: new Uint8Array(data.subarray(1, 4)),\n      rate: view.getUint32(4),\n      initialDelay: view.getUint32(8)\n    };\n  },\n  sdtp: function sdtp(data) {\n    var result = {\n      version: data[0],\n      flags: new Uint8Array(data.subarray(1, 4)),\n      samples: []\n    },\n        i;\n\n    for (i = 4; i < data.byteLength; i++) {\n      result.samples.push({\n        dependsOn: (data[i] & 0x30) >> 4,\n        isDependedOn: (data[i] & 0x0c) >> 2,\n        hasRedundancy: data[i] & 0x03\n      });\n    }\n\n    return result;\n  },\n  sidx: function sidx(data) {\n    var view = new DataView(data.buffer, data.byteOffset, data.byteLength),\n        result = {\n      version: data[0],\n      flags: new Uint8Array(data.subarray(1, 4)),\n      references: [],\n      referenceId: view.getUint32(4),\n      timescale: view.getUint32(8),\n      earliestPresentationTime: view.getUint32(12),\n      firstOffset: view.getUint32(16)\n    },\n        referenceCount = view.getUint16(22),\n        i;\n\n    for (i = 24; referenceCount; i += 12, referenceCount--) {\n      result.references.push({\n        referenceType: (data[i] & 0x80) >>> 7,\n        referencedSize: view.getUint32(i) & 0x7FFFFFFF,\n        subsegmentDuration: view.getUint32(i + 4),\n        startsWithSap: !!(data[i + 8] & 0x80),\n        sapType: (data[i + 8] & 0x70) >>> 4,\n        sapDeltaTime: view.getUint32(i + 8) & 0x0FFFFFFF\n      });\n    }\n\n    return result;\n  },\n  smhd: function smhd(data) {\n    return {\n      version: data[0],\n      flags: new Uint8Array(data.subarray(1, 4)),\n      balance: data[4] + data[5] / 256\n    };\n  },\n  stbl: function stbl(data) {\n    return {\n      boxes: inspectMp4(data)\n    };\n  },\n  stco: function stco(data) {\n    var view = new DataView(data.buffer, data.byteOffset, data.byteLength),\n        result = {\n      version: data[0],\n      flags: new Uint8Array(data.subarray(1, 4)),\n      chunkOffsets: []\n    },\n        entryCount = view.getUint32(4),\n        i;\n\n    for (i = 8; entryCount; i += 4, entryCount--) {\n      result.chunkOffsets.push(view.getUint32(i));\n    }\n\n    return result;\n  },\n  stsc: function stsc(data) {\n    var view = new DataView(data.buffer, data.byteOffset, data.byteLength),\n        entryCount = view.getUint32(4),\n        result = {\n      version: data[0],\n      flags: new Uint8Array(data.subarray(1, 4)),\n      sampleToChunks: []\n    },\n        i;\n\n    for (i = 8; entryCount; i += 12, entryCount--) {\n      result.sampleToChunks.push({\n        firstChunk: view.getUint32(i),\n        samplesPerChunk: view.getUint32(i + 4),\n        sampleDescriptionIndex: view.getUint32(i + 8)\n      });\n    }\n\n    return result;\n  },\n  stsd: function stsd(data) {\n    return {\n      version: data[0],\n      flags: new Uint8Array(data.subarray(1, 4)),\n      sampleDescriptions: inspectMp4(data.subarray(8))\n    };\n  },\n  stsz: function stsz(data) {\n    var view = new DataView(data.buffer, data.byteOffset, data.byteLength),\n        result = {\n      version: data[0],\n      flags: new Uint8Array(data.subarray(1, 4)),\n      sampleSize: view.getUint32(4),\n      entries: []\n    },\n        i;\n\n    for (i = 12; i < data.byteLength; i += 4) {\n      result.entries.push(view.getUint32(i));\n    }\n\n    return result;\n  },\n  stts: function stts(data) {\n    var view = new DataView(data.buffer, data.byteOffset, data.byteLength),\n        result = {\n      version: data[0],\n      flags: new Uint8Array(data.subarray(1, 4)),\n      timeToSamples: []\n    },\n        entryCount = view.getUint32(4),\n        i;\n\n    for (i = 8; entryCount; i += 8, entryCount--) {\n      result.timeToSamples.push({\n        sampleCount: view.getUint32(i),\n        sampleDelta: view.getUint32(i + 4)\n      });\n    }\n\n    return result;\n  },\n  styp: function styp(data) {\n    return parse.ftyp(data);\n  },\n  tfdt: function tfdt(data) {\n    var result = {\n      version: data[0],\n      flags: new Uint8Array(data.subarray(1, 4)),\n      baseMediaDecodeTime: toUnsigned(data[4] << 24 | data[5] << 16 | data[6] << 8 | data[7])\n    };\n\n    if (result.version === 1) {\n      result.baseMediaDecodeTime *= Math.pow(2, 32);\n      result.baseMediaDecodeTime += toUnsigned(data[8] << 24 | data[9] << 16 | data[10] << 8 | data[11]);\n    }\n\n    return result;\n  },\n  tfhd: function tfhd(data) {\n    var view = new DataView(data.buffer, data.byteOffset, data.byteLength),\n        result = {\n      version: data[0],\n      flags: new Uint8Array(data.subarray(1, 4)),\n      trackId: view.getUint32(4)\n    },\n        baseDataOffsetPresent = result.flags[2] & 0x01,\n        sampleDescriptionIndexPresent = result.flags[2] & 0x02,\n        defaultSampleDurationPresent = result.flags[2] & 0x08,\n        defaultSampleSizePresent = result.flags[2] & 0x10,\n        defaultSampleFlagsPresent = result.flags[2] & 0x20,\n        durationIsEmpty = result.flags[0] & 0x010000,\n        defaultBaseIsMoof = result.flags[0] & 0x020000,\n        i;\n    i = 8;\n\n    if (baseDataOffsetPresent) {\n      i += 4; // truncate top 4 bytes\n      // FIXME: should we read the full 64 bits?\n\n      result.baseDataOffset = view.getUint32(12);\n      i += 4;\n    }\n\n    if (sampleDescriptionIndexPresent) {\n      result.sampleDescriptionIndex = view.getUint32(i);\n      i += 4;\n    }\n\n    if (defaultSampleDurationPresent) {\n      result.defaultSampleDuration = view.getUint32(i);\n      i += 4;\n    }\n\n    if (defaultSampleSizePresent) {\n      result.defaultSampleSize = view.getUint32(i);\n      i += 4;\n    }\n\n    if (defaultSampleFlagsPresent) {\n      result.defaultSampleFlags = view.getUint32(i);\n    }\n\n    if (durationIsEmpty) {\n      result.durationIsEmpty = true;\n    }\n\n    if (!baseDataOffsetPresent && defaultBaseIsMoof) {\n      result.baseDataOffsetIsMoof = true;\n    }\n\n    return result;\n  },\n  tkhd: function tkhd(data) {\n    var view = new DataView(data.buffer, data.byteOffset, data.byteLength),\n        i = 4,\n        result = {\n      version: view.getUint8(0),\n      flags: new Uint8Array(data.subarray(1, 4))\n    };\n\n    if (result.version === 1) {\n      i += 4;\n      result.creationTime = parseMp4Date(view.getUint32(i)); // truncating top 4 bytes\n\n      i += 8;\n      result.modificationTime = parseMp4Date(view.getUint32(i)); // truncating top 4 bytes\n\n      i += 4;\n      result.trackId = view.getUint32(i);\n      i += 4;\n      i += 8;\n      result.duration = view.getUint32(i); // truncating top 4 bytes\n    } else {\n      result.creationTime = parseMp4Date(view.getUint32(i));\n      i += 4;\n      result.modificationTime = parseMp4Date(view.getUint32(i));\n      i += 4;\n      result.trackId = view.getUint32(i);\n      i += 4;\n      i += 4;\n      result.duration = view.getUint32(i);\n    }\n\n    i += 4;\n    i += 2 * 4;\n    result.layer = view.getUint16(i);\n    i += 2;\n    result.alternateGroup = view.getUint16(i);\n    i += 2; // convert fixed-point, base 16 back to a number\n\n    result.volume = view.getUint8(i) + view.getUint8(i + 1) / 8;\n    i += 2;\n    i += 2;\n    result.matrix = new Uint32Array(data.subarray(i, i + 9 * 4));\n    i += 9 * 4;\n    result.width = view.getUint16(i) + view.getUint16(i + 2) / 16;\n    i += 4;\n    result.height = view.getUint16(i) + view.getUint16(i + 2) / 16;\n    return result;\n  },\n  traf: function traf(data) {\n    return {\n      boxes: inspectMp4(data)\n    };\n  },\n  trak: function trak(data) {\n    return {\n      boxes: inspectMp4(data)\n    };\n  },\n  trex: function trex(data) {\n    var view = new DataView(data.buffer, data.byteOffset, data.byteLength);\n    return {\n      version: data[0],\n      flags: new Uint8Array(data.subarray(1, 4)),\n      trackId: view.getUint32(4),\n      defaultSampleDescriptionIndex: view.getUint32(8),\n      defaultSampleDuration: view.getUint32(12),\n      defaultSampleSize: view.getUint32(16),\n      sampleDependsOn: data[20] & 0x03,\n      sampleIsDependedOn: (data[21] & 0xc0) >> 6,\n      sampleHasRedundancy: (data[21] & 0x30) >> 4,\n      samplePaddingValue: (data[21] & 0x0e) >> 1,\n      sampleIsDifferenceSample: !!(data[21] & 0x01),\n      sampleDegradationPriority: view.getUint16(22)\n    };\n  },\n  trun: function trun(data) {\n    var result = {\n      version: data[0],\n      flags: new Uint8Array(data.subarray(1, 4)),\n      samples: []\n    },\n        view = new DataView(data.buffer, data.byteOffset, data.byteLength),\n        // Flag interpretation\n    dataOffsetPresent = result.flags[2] & 0x01,\n        // compare with 2nd byte of 0x1\n    firstSampleFlagsPresent = result.flags[2] & 0x04,\n        // compare with 2nd byte of 0x4\n    sampleDurationPresent = result.flags[1] & 0x01,\n        // compare with 2nd byte of 0x100\n    sampleSizePresent = result.flags[1] & 0x02,\n        // compare with 2nd byte of 0x200\n    sampleFlagsPresent = result.flags[1] & 0x04,\n        // compare with 2nd byte of 0x400\n    sampleCompositionTimeOffsetPresent = result.flags[1] & 0x08,\n        // compare with 2nd byte of 0x800\n    sampleCount = view.getUint32(4),\n        offset = 8,\n        sample;\n\n    if (dataOffsetPresent) {\n      // 32 bit signed integer\n      result.dataOffset = view.getInt32(offset);\n      offset += 4;\n    } // Overrides the flags for the first sample only. The order of\n    // optional values will be: duration, size, compositionTimeOffset\n\n\n    if (firstSampleFlagsPresent && sampleCount) {\n      sample = {\n        flags: parseSampleFlags(data.subarray(offset, offset + 4))\n      };\n      offset += 4;\n\n      if (sampleDurationPresent) {\n        sample.duration = view.getUint32(offset);\n        offset += 4;\n      }\n\n      if (sampleSizePresent) {\n        sample.size = view.getUint32(offset);\n        offset += 4;\n      }\n\n      if (sampleCompositionTimeOffsetPresent) {\n        // Note: this should be a signed int if version is 1\n        sample.compositionTimeOffset = view.getUint32(offset);\n        offset += 4;\n      }\n\n      result.samples.push(sample);\n      sampleCount--;\n    }\n\n    while (sampleCount--) {\n      sample = {};\n\n      if (sampleDurationPresent) {\n        sample.duration = view.getUint32(offset);\n        offset += 4;\n      }\n\n      if (sampleSizePresent) {\n        sample.size = view.getUint32(offset);\n        offset += 4;\n      }\n\n      if (sampleFlagsPresent) {\n        sample.flags = parseSampleFlags(data.subarray(offset, offset + 4));\n        offset += 4;\n      }\n\n      if (sampleCompositionTimeOffsetPresent) {\n        // Note: this should be a signed int if version is 1\n        sample.compositionTimeOffset = view.getUint32(offset);\n        offset += 4;\n      }\n\n      result.samples.push(sample);\n    }\n\n    return result;\n  },\n  'url ': function url(data) {\n    return {\n      version: data[0],\n      flags: new Uint8Array(data.subarray(1, 4))\n    };\n  },\n  vmhd: function vmhd(data) {\n    var view = new DataView(data.buffer, data.byteOffset, data.byteLength);\n    return {\n      version: data[0],\n      flags: new Uint8Array(data.subarray(1, 4)),\n      graphicsmode: view.getUint16(4),\n      opcolor: new Uint16Array([view.getUint16(6), view.getUint16(8), view.getUint16(10)])\n    };\n  }\n};\n/**\n * Return a javascript array of box objects parsed from an ISO base\n * media file.\n * @param data {Uint8Array} the binary data of the media to be inspected\n * @return {array} a javascript array of potentially nested box objects\n */\n\n\ninspectMp4 = function inspectMp4(data) {\n  var i = 0,\n      result = [],\n      view,\n      size,\n      type,\n      end,\n      box; // Convert data from Uint8Array to ArrayBuffer, to follow Dataview API\n\n  var ab = new ArrayBuffer(data.length);\n  var v = new Uint8Array(ab);\n\n  for (var z = 0; z < data.length; ++z) {\n    v[z] = data[z];\n  }\n\n  view = new DataView(ab);\n\n  while (i < data.byteLength) {\n    // parse box data\n    size = view.getUint32(i);\n    type = parseType(data.subarray(i + 4, i + 8));\n    end = size > 1 ? i + size : data.byteLength; // parse type-specific data\n\n    box = (parse[type] || function (data) {\n      return {\n        data: data\n      };\n    })(data.subarray(i + 8, end));\n\n    box.size = size;\n    box.type = type; // store this box and move to the next\n\n    result.push(box);\n    i = end;\n  }\n\n  return result;\n};\n/**\n * Returns a textual representation of the javascript represtentation\n * of an MP4 file. You can use it as an alternative to\n * JSON.stringify() to compare inspected MP4s.\n * @param inspectedMp4 {array} the parsed array of boxes in an MP4\n * file\n * @param depth {number} (optional) the number of ancestor boxes of\n * the elements of inspectedMp4. Assumed to be zero if unspecified.\n * @return {string} a text representation of the parsed MP4\n */\n\n\n_textifyMp = function textifyMp4(inspectedMp4, depth) {\n  var indent;\n  depth = depth || 0;\n  indent = new Array(depth * 2 + 1).join(' '); // iterate over all the boxes\n\n  return inspectedMp4.map(function (box, index) {\n    // list the box type first at the current indentation level\n    return indent + box.type + '\\n' + // the type is already included and handle child boxes separately\n    Object.keys(box).filter(function (key) {\n      return key !== 'type' && key !== 'boxes'; // output all the box properties\n    }).map(function (key) {\n      var prefix = indent + '  ' + key + ': ',\n          value = box[key]; // print out raw bytes as hexademical\n\n      if (value instanceof Uint8Array || value instanceof Uint32Array) {\n        var bytes = Array.prototype.slice.call(new Uint8Array(value.buffer, value.byteOffset, value.byteLength)).map(function (byte) {\n          return ' ' + ('00' + byte.toString(16)).slice(-2);\n        }).join('').match(/.{1,24}/g);\n\n        if (!bytes) {\n          return prefix + '<>';\n        }\n\n        if (bytes.length === 1) {\n          return prefix + '<' + bytes.join('').slice(1) + '>';\n        }\n\n        return prefix + '<\\n' + bytes.map(function (line) {\n          return indent + '  ' + line;\n        }).join('\\n') + '\\n' + indent + '  >';\n      } // stringify generic objects\n\n\n      return prefix + JSON.stringify(value, null, 2).split('\\n').map(function (line, index) {\n        if (index === 0) {\n          return line;\n        }\n\n        return indent + '  ' + line;\n      }).join('\\n');\n    }).join('\\n') + ( // recursively textify the child boxes\n    box.boxes ? '\\n' + _textifyMp(box.boxes, depth + 1) : '');\n  }).join('\\n');\n};\n\nmodule.exports = {\n  inspect: inspectMp4,\n  textify: _textifyMp,\n  parseType: parseType,\n  findBox: findBox,\n  parseTraf: parse.traf,\n  parseTfdt: parse.tfdt,\n  parseHdlr: parse.hdlr,\n  parseTfhd: parse.tfhd,\n  parseTrun: parse.trun,\n  parseSidx: parse.sidx\n};","var camel2hyphen = require('string-convert/camel2hyphen');\n\nvar isDimension = function isDimension(feature) {\n  var re = /[height|width]$/;\n  return re.test(feature);\n};\n\nvar obj2mq = function obj2mq(obj) {\n  var mq = '';\n  var features = Object.keys(obj);\n  features.forEach(function (feature, index) {\n    var value = obj[feature];\n    feature = camel2hyphen(feature); // Add px to dimension features\n\n    if (isDimension(feature) && typeof value === 'number') {\n      value = value + 'px';\n    }\n\n    if (value === true) {\n      mq += feature;\n    } else if (value === false) {\n      mq += 'not ' + feature;\n    } else {\n      mq += '(' + feature + ': ' + value + ')';\n    }\n\n    if (index < features.length - 1) {\n      mq += ' and ';\n    }\n  });\n  return mq;\n};\n\nvar json2mq = function json2mq(query) {\n  var mq = '';\n\n  if (typeof query === 'string') {\n    return query;\n  } // Handling array of media queries\n\n\n  if (query instanceof Array) {\n    query.forEach(function (q, index) {\n      mq += obj2mq(q);\n\n      if (index < query.length - 1) {\n        mq += ', ';\n      }\n    });\n    return mq;\n  } // Handling single media query\n\n\n  return obj2mq(query);\n};\n\nmodule.exports = json2mq;","/**\n * mux.js\n *\n * Copyright (c) Brightcove\n * Licensed Apache-2.0 https://github.com/videojs/mux.js/blob/master/LICENSE\n *\n * Reads in-band CEA-708 captions out of FMP4 segments.\n * @see https://en.wikipedia.org/wiki/CEA-708\n */\n'use strict';\n\nvar discardEmulationPreventionBytes = require('../tools/caption-packet-parser').discardEmulationPreventionBytes;\n\nvar CaptionStream = require('../m2ts/caption-stream').CaptionStream;\n\nvar probe = require('./probe');\n\nvar inspect = require('../tools/mp4-inspector');\n/**\n  * Maps an offset in the mdat to a sample based on the the size of the samples.\n  * Assumes that `parseSamples` has been called first.\n  *\n  * @param {Number} offset - The offset into the mdat\n  * @param {Object[]} samples - An array of samples, parsed using `parseSamples`\n  * @return {?Object} The matching sample, or null if no match was found.\n  *\n  * @see ISO-BMFF-12/2015, Section 8.8.8\n **/\n\n\nvar mapToSample = function mapToSample(offset, samples) {\n  var approximateOffset = offset;\n\n  for (var i = 0; i < samples.length; i++) {\n    var sample = samples[i];\n\n    if (approximateOffset < sample.size) {\n      return sample;\n    }\n\n    approximateOffset -= sample.size;\n  }\n\n  return null;\n};\n/**\n  * Finds SEI nal units contained in a Media Data Box.\n  * Assumes that `parseSamples` has been called first.\n  *\n  * @param {Uint8Array} avcStream - The bytes of the mdat\n  * @param {Object[]} samples - The samples parsed out by `parseSamples`\n  * @param {Number} trackId - The trackId of this video track\n  * @return {Object[]} seiNals - the parsed SEI NALUs found.\n  *   The contents of the seiNal should match what is expected by\n  *   CaptionStream.push (nalUnitType, size, data, escapedRBSP, pts, dts)\n  *\n  * @see ISO-BMFF-12/2015, Section 8.1.1\n  * @see Rec. ITU-T H.264, 7.3.2.3.1\n **/\n\n\nvar findSeiNals = function findSeiNals(avcStream, samples, trackId) {\n  var avcView = new DataView(avcStream.buffer, avcStream.byteOffset, avcStream.byteLength),\n      result = [],\n      seiNal,\n      i,\n      length,\n      lastMatchedSample;\n\n  for (i = 0; i + 4 < avcStream.length; i += length) {\n    length = avcView.getUint32(i);\n    i += 4; // Bail if this doesn't appear to be an H264 stream\n\n    if (length <= 0) {\n      continue;\n    }\n\n    switch (avcStream[i] & 0x1F) {\n      case 0x06:\n        var data = avcStream.subarray(i + 1, i + 1 + length);\n        var matchingSample = mapToSample(i, samples);\n        seiNal = {\n          nalUnitType: 'sei_rbsp',\n          size: length,\n          data: data,\n          escapedRBSP: discardEmulationPreventionBytes(data),\n          trackId: trackId\n        };\n\n        if (matchingSample) {\n          seiNal.pts = matchingSample.pts;\n          seiNal.dts = matchingSample.dts;\n          lastMatchedSample = matchingSample;\n        } else {\n          // If a matching sample cannot be found, use the last\n          // sample's values as they should be as close as possible\n          seiNal.pts = lastMatchedSample.pts;\n          seiNal.dts = lastMatchedSample.dts;\n        }\n\n        result.push(seiNal);\n        break;\n\n      default:\n        break;\n    }\n  }\n\n  return result;\n};\n/**\n  * Parses sample information out of Track Run Boxes and calculates\n  * the absolute presentation and decode timestamps of each sample.\n  *\n  * @param {Array<Uint8Array>} truns - The Trun Run boxes to be parsed\n  * @param {Number} baseMediaDecodeTime - base media decode time from tfdt\n      @see ISO-BMFF-12/2015, Section 8.8.12\n  * @param {Object} tfhd - The parsed Track Fragment Header\n  *   @see inspect.parseTfhd\n  * @return {Object[]} the parsed samples\n  *\n  * @see ISO-BMFF-12/2015, Section 8.8.8\n **/\n\n\nvar parseSamples = function parseSamples(truns, baseMediaDecodeTime, tfhd) {\n  var currentDts = baseMediaDecodeTime;\n  var defaultSampleDuration = tfhd.defaultSampleDuration || 0;\n  var defaultSampleSize = tfhd.defaultSampleSize || 0;\n  var trackId = tfhd.trackId;\n  var allSamples = [];\n  truns.forEach(function (trun) {\n    // Note: We currently do not parse the sample table as well\n    // as the trun. It's possible some sources will require this.\n    // moov > trak > mdia > minf > stbl\n    var trackRun = inspect.parseTrun(trun);\n    var samples = trackRun.samples;\n    samples.forEach(function (sample) {\n      if (sample.duration === undefined) {\n        sample.duration = defaultSampleDuration;\n      }\n\n      if (sample.size === undefined) {\n        sample.size = defaultSampleSize;\n      }\n\n      sample.trackId = trackId;\n      sample.dts = currentDts;\n\n      if (sample.compositionTimeOffset === undefined) {\n        sample.compositionTimeOffset = 0;\n      }\n\n      sample.pts = currentDts + sample.compositionTimeOffset;\n      currentDts += sample.duration;\n    });\n    allSamples = allSamples.concat(samples);\n  });\n  return allSamples;\n};\n/**\n  * Parses out caption nals from an FMP4 segment's video tracks.\n  *\n  * @param {Uint8Array} segment - The bytes of a single segment\n  * @param {Number} videoTrackId - The trackId of a video track in the segment\n  * @return {Object.<Number, Object[]>} A mapping of video trackId to\n  *   a list of seiNals found in that track\n **/\n\n\nvar parseCaptionNals = function parseCaptionNals(segment, videoTrackId) {\n  // To get the samples\n  var trafs = probe.findBox(segment, ['moof', 'traf']); // To get SEI NAL units\n\n  var mdats = probe.findBox(segment, ['mdat']);\n  var captionNals = {};\n  var mdatTrafPairs = []; // Pair up each traf with a mdat as moofs and mdats are in pairs\n\n  mdats.forEach(function (mdat, index) {\n    var matchingTraf = trafs[index];\n    mdatTrafPairs.push({\n      mdat: mdat,\n      traf: matchingTraf\n    });\n  });\n  mdatTrafPairs.forEach(function (pair) {\n    var mdat = pair.mdat;\n    var traf = pair.traf;\n    var tfhd = probe.findBox(traf, ['tfhd']); // Exactly 1 tfhd per traf\n\n    var headerInfo = inspect.parseTfhd(tfhd[0]);\n    var trackId = headerInfo.trackId;\n    var tfdt = probe.findBox(traf, ['tfdt']); // Either 0 or 1 tfdt per traf\n\n    var baseMediaDecodeTime = tfdt.length > 0 ? inspect.parseTfdt(tfdt[0]).baseMediaDecodeTime : 0;\n    var truns = probe.findBox(traf, ['trun']);\n    var samples;\n    var seiNals; // Only parse video data for the chosen video track\n\n    if (videoTrackId === trackId && truns.length > 0) {\n      samples = parseSamples(truns, baseMediaDecodeTime, headerInfo);\n      seiNals = findSeiNals(mdat, samples, trackId);\n\n      if (!captionNals[trackId]) {\n        captionNals[trackId] = [];\n      }\n\n      captionNals[trackId] = captionNals[trackId].concat(seiNals);\n    }\n  });\n  return captionNals;\n};\n/**\n  * Parses out inband captions from an MP4 container and returns\n  * caption objects that can be used by WebVTT and the TextTrack API.\n  * @see https://developer.mozilla.org/en-US/docs/Web/API/VTTCue\n  * @see https://developer.mozilla.org/en-US/docs/Web/API/TextTrack\n  * Assumes that `probe.getVideoTrackIds` and `probe.timescale` have been called first\n  *\n  * @param {Uint8Array} segment - The fmp4 segment containing embedded captions\n  * @param {Number} trackId - The id of the video track to parse\n  * @param {Number} timescale - The timescale for the video track from the init segment\n  *\n  * @return {?Object[]} parsedCaptions - A list of captions or null if no video tracks\n  * @return {Number} parsedCaptions[].startTime - The time to show the caption in seconds\n  * @return {Number} parsedCaptions[].endTime - The time to stop showing the caption in seconds\n  * @return {String} parsedCaptions[].text - The visible content of the caption\n **/\n\n\nvar parseEmbeddedCaptions = function parseEmbeddedCaptions(segment, trackId, timescale) {\n  var seiNals; // the ISO-BMFF spec says that trackId can't be zero, but there's some broken content out there\n\n  if (trackId === null) {\n    return null;\n  }\n\n  seiNals = parseCaptionNals(segment, trackId);\n  return {\n    seiNals: seiNals[trackId],\n    timescale: timescale\n  };\n};\n/**\n  * Converts SEI NALUs into captions that can be used by video.js\n **/\n\n\nvar CaptionParser = function CaptionParser() {\n  var isInitialized = false;\n  var captionStream; // Stores segments seen before trackId and timescale are set\n\n  var segmentCache; // Stores video track ID of the track being parsed\n\n  var trackId; // Stores the timescale of the track being parsed\n\n  var timescale; // Stores captions parsed so far\n\n  var parsedCaptions; // Stores whether we are receiving partial data or not\n\n  var parsingPartial;\n  /**\n    * A method to indicate whether a CaptionParser has been initalized\n    * @returns {Boolean}\n   **/\n\n  this.isInitialized = function () {\n    return isInitialized;\n  };\n  /**\n    * Initializes the underlying CaptionStream, SEI NAL parsing\n    * and management, and caption collection\n   **/\n\n\n  this.init = function (options) {\n    captionStream = new CaptionStream();\n    isInitialized = true;\n    parsingPartial = options ? options.isPartial : false; // Collect dispatched captions\n\n    captionStream.on('data', function (event) {\n      // Convert to seconds in the source's timescale\n      event.startTime = event.startPts / timescale;\n      event.endTime = event.endPts / timescale;\n      parsedCaptions.captions.push(event);\n      parsedCaptions.captionStreams[event.stream] = true;\n    });\n  };\n  /**\n    * Determines if a new video track will be selected\n    * or if the timescale changed\n    * @return {Boolean}\n   **/\n\n\n  this.isNewInit = function (videoTrackIds, timescales) {\n    if (videoTrackIds && videoTrackIds.length === 0 || timescales && typeof timescales === 'object' && Object.keys(timescales).length === 0) {\n      return false;\n    }\n\n    return trackId !== videoTrackIds[0] || timescale !== timescales[trackId];\n  };\n  /**\n    * Parses out SEI captions and interacts with underlying\n    * CaptionStream to return dispatched captions\n    *\n    * @param {Uint8Array} segment - The fmp4 segment containing embedded captions\n    * @param {Number[]} videoTrackIds - A list of video tracks found in the init segment\n    * @param {Object.<Number, Number>} timescales - The timescales found in the init segment\n    * @see parseEmbeddedCaptions\n    * @see m2ts/caption-stream.js\n   **/\n\n\n  this.parse = function (segment, videoTrackIds, timescales) {\n    var parsedData;\n\n    if (!this.isInitialized()) {\n      return null; // This is not likely to be a video segment\n    } else if (!videoTrackIds || !timescales) {\n      return null;\n    } else if (this.isNewInit(videoTrackIds, timescales)) {\n      // Use the first video track only as there is no\n      // mechanism to switch to other video tracks\n      trackId = videoTrackIds[0];\n      timescale = timescales[trackId]; // If an init segment has not been seen yet, hold onto segment\n      // data until we have one.\n      // the ISO-BMFF spec says that trackId can't be zero, but there's some broken content out there\n    } else if (trackId === null || !timescale) {\n      segmentCache.push(segment);\n      return null;\n    } // Now that a timescale and trackId is set, parse cached segments\n\n\n    while (segmentCache.length > 0) {\n      var cachedSegment = segmentCache.shift();\n      this.parse(cachedSegment, videoTrackIds, timescales);\n    }\n\n    parsedData = parseEmbeddedCaptions(segment, trackId, timescale);\n\n    if (parsedData === null || !parsedData.seiNals) {\n      return null;\n    }\n\n    this.pushNals(parsedData.seiNals); // Force the parsed captions to be dispatched\n\n    this.flushStream();\n    return parsedCaptions;\n  };\n  /**\n    * Pushes SEI NALUs onto CaptionStream\n    * @param {Object[]} nals - A list of SEI nals parsed using `parseCaptionNals`\n    * Assumes that `parseCaptionNals` has been called first\n    * @see m2ts/caption-stream.js\n    **/\n\n\n  this.pushNals = function (nals) {\n    if (!this.isInitialized() || !nals || nals.length === 0) {\n      return null;\n    }\n\n    nals.forEach(function (nal) {\n      captionStream.push(nal);\n    });\n  };\n  /**\n    * Flushes underlying CaptionStream to dispatch processed, displayable captions\n    * @see m2ts/caption-stream.js\n   **/\n\n\n  this.flushStream = function () {\n    if (!this.isInitialized()) {\n      return null;\n    }\n\n    if (!parsingPartial) {\n      captionStream.flush();\n    } else {\n      captionStream.partialFlush();\n    }\n  };\n  /**\n    * Reset caption buckets for new data\n   **/\n\n\n  this.clearParsedCaptions = function () {\n    parsedCaptions.captions = [];\n    parsedCaptions.captionStreams = {};\n  };\n  /**\n    * Resets underlying CaptionStream\n    * @see m2ts/caption-stream.js\n   **/\n\n\n  this.resetCaptionStream = function () {\n    if (!this.isInitialized()) {\n      return null;\n    }\n\n    captionStream.reset();\n  };\n  /**\n    * Convenience method to clear all captions flushed from the\n    * CaptionStream and still being parsed\n    * @see m2ts/caption-stream.js\n   **/\n\n\n  this.clearAllCaptions = function () {\n    this.clearParsedCaptions();\n    this.resetCaptionStream();\n  };\n  /**\n    * Reset caption parser\n   **/\n\n\n  this.reset = function () {\n    segmentCache = [];\n    trackId = null;\n    timescale = null;\n\n    if (!parsedCaptions) {\n      parsedCaptions = {\n        captions: [],\n        // CC1, CC2, CC3, CC4\n        captionStreams: {}\n      };\n    } else {\n      this.clearParsedCaptions();\n    }\n\n    this.resetCaptionStream();\n  };\n\n  this.reset();\n};\n\nmodule.exports = CaptionParser;","/**\n * mux.js\n *\n * Copyright (c) Brightcove\n * Licensed Apache-2.0 https://github.com/videojs/mux.js/blob/master/LICENSE\n */\n'use strict';\n\nmodule.exports = {\n  H264_STREAM_TYPE: 0x1B,\n  ADTS_STREAM_TYPE: 0x0F,\n  METADATA_STREAM_TYPE: 0x15\n};","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\nvar initialState = {\n  animating: false,\n  autoplaying: null,\n  currentDirection: 0,\n  currentLeft: null,\n  currentSlide: 0,\n  direction: 1,\n  dragging: false,\n  edgeDragged: false,\n  initialized: false,\n  lazyLoadedList: [],\n  listHeight: null,\n  listWidth: null,\n  scrolling: false,\n  slideCount: null,\n  slideHeight: null,\n  slideWidth: null,\n  swipeLeft: null,\n  swiped: false,\n  // used by swipeEvent. differentites between touch and swipe.\n  swiping: false,\n  touchObject: {\n    startX: 0,\n    startY: 0,\n    curX: 0,\n    curY: 0\n  },\n  trackStyle: {},\n  trackWidth: 0,\n  targetSlide: 0\n};\nvar _default = initialState;\nexports[\"default\"] = _default;","/**\n * Copyright 2013 vtt.js Contributors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar autoKeyword = \"auto\";\nvar directionSetting = {\n  \"\": 1,\n  \"lr\": 1,\n  \"rl\": 1\n};\nvar alignSetting = {\n  \"start\": 1,\n  \"center\": 1,\n  \"end\": 1,\n  \"left\": 1,\n  \"right\": 1,\n  \"auto\": 1,\n  \"line-left\": 1,\n  \"line-right\": 1\n};\n\nfunction findDirectionSetting(value) {\n  if (typeof value !== \"string\") {\n    return false;\n  }\n\n  var dir = directionSetting[value.toLowerCase()];\n  return dir ? value.toLowerCase() : false;\n}\n\nfunction findAlignSetting(value) {\n  if (typeof value !== \"string\") {\n    return false;\n  }\n\n  var align = alignSetting[value.toLowerCase()];\n  return align ? value.toLowerCase() : false;\n}\n\nfunction VTTCue(startTime, endTime, text) {\n  /**\n   * Shim implementation specific properties. These properties are not in\n   * the spec.\n   */\n  // Lets us know when the VTTCue's data has changed in such a way that we need\n  // to recompute its display state. This lets us compute its display state\n  // lazily.\n  this.hasBeenReset = false;\n  /**\n   * VTTCue and TextTrackCue properties\n   * http://dev.w3.org/html5/webvtt/#vttcue-interface\n   */\n\n  var _id = \"\";\n  var _pauseOnExit = false;\n  var _startTime = startTime;\n  var _endTime = endTime;\n  var _text = text;\n  var _region = null;\n  var _vertical = \"\";\n  var _snapToLines = true;\n  var _line = \"auto\";\n  var _lineAlign = \"start\";\n  var _position = \"auto\";\n  var _positionAlign = \"auto\";\n  var _size = 100;\n  var _align = \"center\";\n  Object.defineProperties(this, {\n    \"id\": {\n      enumerable: true,\n      get: function get() {\n        return _id;\n      },\n      set: function set(value) {\n        _id = \"\" + value;\n      }\n    },\n    \"pauseOnExit\": {\n      enumerable: true,\n      get: function get() {\n        return _pauseOnExit;\n      },\n      set: function set(value) {\n        _pauseOnExit = !!value;\n      }\n    },\n    \"startTime\": {\n      enumerable: true,\n      get: function get() {\n        return _startTime;\n      },\n      set: function set(value) {\n        if (typeof value !== \"number\") {\n          throw new TypeError(\"Start time must be set to a number.\");\n        }\n\n        _startTime = value;\n        this.hasBeenReset = true;\n      }\n    },\n    \"endTime\": {\n      enumerable: true,\n      get: function get() {\n        return _endTime;\n      },\n      set: function set(value) {\n        if (typeof value !== \"number\") {\n          throw new TypeError(\"End time must be set to a number.\");\n        }\n\n        _endTime = value;\n        this.hasBeenReset = true;\n      }\n    },\n    \"text\": {\n      enumerable: true,\n      get: function get() {\n        return _text;\n      },\n      set: function set(value) {\n        _text = \"\" + value;\n        this.hasBeenReset = true;\n      }\n    },\n    \"region\": {\n      enumerable: true,\n      get: function get() {\n        return _region;\n      },\n      set: function set(value) {\n        _region = value;\n        this.hasBeenReset = true;\n      }\n    },\n    \"vertical\": {\n      enumerable: true,\n      get: function get() {\n        return _vertical;\n      },\n      set: function set(value) {\n        var setting = findDirectionSetting(value); // Have to check for false because the setting an be an empty string.\n\n        if (setting === false) {\n          throw new SyntaxError(\"Vertical: an invalid or illegal direction string was specified.\");\n        }\n\n        _vertical = setting;\n        this.hasBeenReset = true;\n      }\n    },\n    \"snapToLines\": {\n      enumerable: true,\n      get: function get() {\n        return _snapToLines;\n      },\n      set: function set(value) {\n        _snapToLines = !!value;\n        this.hasBeenReset = true;\n      }\n    },\n    \"line\": {\n      enumerable: true,\n      get: function get() {\n        return _line;\n      },\n      set: function set(value) {\n        if (typeof value !== \"number\" && value !== autoKeyword) {\n          throw new SyntaxError(\"Line: an invalid number or illegal string was specified.\");\n        }\n\n        _line = value;\n        this.hasBeenReset = true;\n      }\n    },\n    \"lineAlign\": {\n      enumerable: true,\n      get: function get() {\n        return _lineAlign;\n      },\n      set: function set(value) {\n        var setting = findAlignSetting(value);\n\n        if (!setting) {\n          console.warn(\"lineAlign: an invalid or illegal string was specified.\");\n        } else {\n          _lineAlign = setting;\n          this.hasBeenReset = true;\n        }\n      }\n    },\n    \"position\": {\n      enumerable: true,\n      get: function get() {\n        return _position;\n      },\n      set: function set(value) {\n        if (value < 0 || value > 100) {\n          throw new Error(\"Position must be between 0 and 100.\");\n        }\n\n        _position = value;\n        this.hasBeenReset = true;\n      }\n    },\n    \"positionAlign\": {\n      enumerable: true,\n      get: function get() {\n        return _positionAlign;\n      },\n      set: function set(value) {\n        var setting = findAlignSetting(value);\n\n        if (!setting) {\n          console.warn(\"positionAlign: an invalid or illegal string was specified.\");\n        } else {\n          _positionAlign = setting;\n          this.hasBeenReset = true;\n        }\n      }\n    },\n    \"size\": {\n      enumerable: true,\n      get: function get() {\n        return _size;\n      },\n      set: function set(value) {\n        if (value < 0 || value > 100) {\n          throw new Error(\"Size must be between 0 and 100.\");\n        }\n\n        _size = value;\n        this.hasBeenReset = true;\n      }\n    },\n    \"align\": {\n      enumerable: true,\n      get: function get() {\n        return _align;\n      },\n      set: function set(value) {\n        var setting = findAlignSetting(value);\n\n        if (!setting) {\n          throw new SyntaxError(\"align: an invalid or illegal alignment string was specified.\");\n        }\n\n        _align = setting;\n        this.hasBeenReset = true;\n      }\n    }\n  });\n  /**\n   * Other <track> spec defined properties\n   */\n  // http://www.whatwg.org/specs/web-apps/current-work/multipage/the-video-element.html#text-track-cue-display-state\n\n  this.displayState = undefined;\n}\n/**\n * VTTCue methods\n */\n\n\nVTTCue.prototype.getCueAsHTML = function () {\n  // Assume WebVTT.convertCueToDOMTree is on the global.\n  return WebVTT.convertCueToDOMTree(window, this.text);\n};\n\nmodule.exports = VTTCue;","var setPrototypeOf = require(\"./setPrototypeOf\");\n\nvar isNativeReflectConstruct = require(\"./isNativeReflectConstruct\");\n\nfunction _construct(Parent, args, Class) {\n  if (isNativeReflectConstruct()) {\n    module.exports = _construct = Reflect.construct;\n  } else {\n    module.exports = _construct = function _construct(Parent, args, Class) {\n      var a = [null];\n      a.push.apply(a, args);\n      var Constructor = Function.bind.apply(Parent, a);\n      var instance = new Constructor();\n      if (Class) setPrototypeOf(instance, Class.prototype);\n      return instance;\n    };\n  }\n\n  return _construct.apply(null, arguments);\n}\n\nmodule.exports = _construct;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.InnerSlider = void 0;\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _initialState = _interopRequireDefault(require(\"./initial-state\"));\n\nvar _lodash = _interopRequireDefault(require(\"lodash.debounce\"));\n\nvar _classnames = _interopRequireDefault(require(\"classnames\"));\n\nvar _innerSliderUtils = require(\"./utils/innerSliderUtils\");\n\nvar _track = require(\"./track\");\n\nvar _dots = require(\"./dots\");\n\nvar _arrows = require(\"./arrows\");\n\nvar _resizeObserverPolyfill = _interopRequireDefault(require(\"resize-observer-polyfill\"));\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    \"default\": obj\n  };\n}\n\nfunction _typeof(obj) {\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n\n  var target = _objectWithoutPropertiesLoose(source, excluded);\n\n  var key, i;\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(source, true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(source).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return _assertThisInitialized(self);\n}\n\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) _setPrototypeOf(subClass, superClass);\n}\n\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nvar InnerSlider = /*#__PURE__*/function (_React$Component) {\n  _inherits(InnerSlider, _React$Component);\n\n  function InnerSlider(props) {\n    var _this;\n\n    _classCallCheck(this, InnerSlider);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(InnerSlider).call(this, props));\n\n    _defineProperty(_assertThisInitialized(_this), \"listRefHandler\", function (ref) {\n      return _this.list = ref;\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"trackRefHandler\", function (ref) {\n      return _this.track = ref;\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"adaptHeight\", function () {\n      if (_this.props.adaptiveHeight && _this.list) {\n        var elem = _this.list.querySelector(\"[data-index=\\\"\".concat(_this.state.currentSlide, \"\\\"]\"));\n\n        _this.list.style.height = (0, _innerSliderUtils.getHeight)(elem) + \"px\";\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"componentDidMount\", function () {\n      _this.props.onInit && _this.props.onInit();\n\n      if (_this.props.lazyLoad) {\n        var slidesToLoad = (0, _innerSliderUtils.getOnDemandLazySlides)(_objectSpread({}, _this.props, {}, _this.state));\n\n        if (slidesToLoad.length > 0) {\n          _this.setState(function (prevState) {\n            return {\n              lazyLoadedList: prevState.lazyLoadedList.concat(slidesToLoad)\n            };\n          });\n\n          if (_this.props.onLazyLoad) {\n            _this.props.onLazyLoad(slidesToLoad);\n          }\n        }\n      }\n\n      var spec = _objectSpread({\n        listRef: _this.list,\n        trackRef: _this.track\n      }, _this.props);\n\n      _this.updateState(spec, true, function () {\n        _this.adaptHeight();\n\n        _this.props.autoplay && _this.autoPlay(\"update\");\n      });\n\n      if (_this.props.lazyLoad === \"progressive\") {\n        _this.lazyLoadTimer = setInterval(_this.progressiveLazyLoad, 1000);\n      }\n\n      _this.ro = new _resizeObserverPolyfill[\"default\"](function () {\n        if (_this.state.animating) {\n          _this.onWindowResized(false); // don't set trackStyle hence don't break animation\n\n\n          _this.callbackTimers.push(setTimeout(function () {\n            return _this.onWindowResized();\n          }, _this.props.speed));\n        } else {\n          _this.onWindowResized();\n        }\n      });\n\n      _this.ro.observe(_this.list);\n\n      Array.prototype.forEach.call(document.querySelectorAll(\".slick-slide\"), function (slide) {\n        slide.onfocus = _this.props.pauseOnFocus ? _this.onSlideFocus : null;\n        slide.onblur = _this.props.pauseOnFocus ? _this.onSlideBlur : null;\n      });\n\n      if (window.addEventListener) {\n        window.addEventListener(\"resize\", _this.onWindowResized);\n      } else {\n        window.attachEvent(\"onresize\", _this.onWindowResized);\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"componentWillUnmount\", function () {\n      if (_this.animationEndCallback) {\n        clearTimeout(_this.animationEndCallback);\n      }\n\n      if (_this.lazyLoadTimer) {\n        clearInterval(_this.lazyLoadTimer);\n      }\n\n      if (_this.callbackTimers.length) {\n        _this.callbackTimers.forEach(function (timer) {\n          return clearTimeout(timer);\n        });\n\n        _this.callbackTimers = [];\n      }\n\n      if (window.addEventListener) {\n        window.removeEventListener(\"resize\", _this.onWindowResized);\n      } else {\n        window.detachEvent(\"onresize\", _this.onWindowResized);\n      }\n\n      if (_this.autoplayTimer) {\n        clearInterval(_this.autoplayTimer);\n      }\n\n      _this.ro.disconnect();\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"componentDidUpdate\", function (prevProps) {\n      _this.checkImagesLoad();\n\n      _this.props.onReInit && _this.props.onReInit();\n\n      if (_this.props.lazyLoad) {\n        var slidesToLoad = (0, _innerSliderUtils.getOnDemandLazySlides)(_objectSpread({}, _this.props, {}, _this.state));\n\n        if (slidesToLoad.length > 0) {\n          _this.setState(function (prevState) {\n            return {\n              lazyLoadedList: prevState.lazyLoadedList.concat(slidesToLoad)\n            };\n          });\n\n          if (_this.props.onLazyLoad) {\n            _this.props.onLazyLoad(slidesToLoad);\n          }\n        }\n      } // if (this.props.onLazyLoad) {\n      //   this.props.onLazyLoad([leftMostSlide])\n      // }\n\n\n      _this.adaptHeight();\n\n      var spec = _objectSpread({\n        listRef: _this.list,\n        trackRef: _this.track\n      }, _this.props, {}, _this.state);\n\n      var setTrackStyle = _this.didPropsChange(prevProps);\n\n      setTrackStyle && _this.updateState(spec, setTrackStyle, function () {\n        if (_this.state.currentSlide >= _react[\"default\"].Children.count(_this.props.children)) {\n          _this.changeSlide({\n            message: \"index\",\n            index: _react[\"default\"].Children.count(_this.props.children) - _this.props.slidesToShow,\n            currentSlide: _this.state.currentSlide\n          });\n        }\n\n        if (_this.props.autoplay) {\n          _this.autoPlay(\"update\");\n        } else {\n          _this.pause(\"paused\");\n        }\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onWindowResized\", function (setTrackStyle) {\n      if (_this.debouncedResize) _this.debouncedResize.cancel();\n      _this.debouncedResize = (0, _lodash[\"default\"])(function () {\n        return _this.resizeWindow(setTrackStyle);\n      }, 50);\n\n      _this.debouncedResize();\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"resizeWindow\", function () {\n      var setTrackStyle = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;\n      var isTrackMounted = Boolean(_this.track && _this.track.node); // prevent warning: setting state on unmounted component (server side rendering)\n\n      if (!isTrackMounted) return;\n\n      var spec = _objectSpread({\n        listRef: _this.list,\n        trackRef: _this.track\n      }, _this.props, {}, _this.state);\n\n      _this.updateState(spec, setTrackStyle, function () {\n        if (_this.props.autoplay) _this.autoPlay(\"update\");else _this.pause(\"paused\");\n      }); // animating state should be cleared while resizing, otherwise autoplay stops working\n\n\n      _this.setState({\n        animating: false\n      });\n\n      clearTimeout(_this.animationEndCallback);\n      delete _this.animationEndCallback;\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"updateState\", function (spec, setTrackStyle, callback) {\n      var updatedState = (0, _innerSliderUtils.initializedState)(spec);\n      spec = _objectSpread({}, spec, {}, updatedState, {\n        slideIndex: updatedState.currentSlide\n      });\n      var targetLeft = (0, _innerSliderUtils.getTrackLeft)(spec);\n      spec = _objectSpread({}, spec, {\n        left: targetLeft\n      });\n      var trackStyle = (0, _innerSliderUtils.getTrackCSS)(spec);\n\n      if (setTrackStyle || _react[\"default\"].Children.count(_this.props.children) !== _react[\"default\"].Children.count(spec.children)) {\n        updatedState[\"trackStyle\"] = trackStyle;\n      }\n\n      _this.setState(updatedState, callback);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"ssrInit\", function () {\n      if (_this.props.variableWidth) {\n        var _trackWidth = 0,\n            _trackLeft = 0;\n        var childrenWidths = [];\n        var preClones = (0, _innerSliderUtils.getPreClones)(_objectSpread({}, _this.props, {}, _this.state, {\n          slideCount: _this.props.children.length\n        }));\n        var postClones = (0, _innerSliderUtils.getPostClones)(_objectSpread({}, _this.props, {}, _this.state, {\n          slideCount: _this.props.children.length\n        }));\n\n        _this.props.children.forEach(function (child) {\n          childrenWidths.push(child.props.style.width);\n          _trackWidth += child.props.style.width;\n        });\n\n        for (var i = 0; i < preClones; i++) {\n          _trackLeft += childrenWidths[childrenWidths.length - 1 - i];\n          _trackWidth += childrenWidths[childrenWidths.length - 1 - i];\n        }\n\n        for (var _i = 0; _i < postClones; _i++) {\n          _trackWidth += childrenWidths[_i];\n        }\n\n        for (var _i2 = 0; _i2 < _this.state.currentSlide; _i2++) {\n          _trackLeft += childrenWidths[_i2];\n        }\n\n        var _trackStyle = {\n          width: _trackWidth + \"px\",\n          left: -_trackLeft + \"px\"\n        };\n\n        if (_this.props.centerMode) {\n          var currentWidth = \"\".concat(childrenWidths[_this.state.currentSlide], \"px\");\n          _trackStyle.left = \"calc(\".concat(_trackStyle.left, \" + (100% - \").concat(currentWidth, \") / 2 ) \");\n        }\n\n        return {\n          trackStyle: _trackStyle\n        };\n      }\n\n      var childrenCount = _react[\"default\"].Children.count(_this.props.children);\n\n      var spec = _objectSpread({}, _this.props, {}, _this.state, {\n        slideCount: childrenCount\n      });\n\n      var slideCount = (0, _innerSliderUtils.getPreClones)(spec) + (0, _innerSliderUtils.getPostClones)(spec) + childrenCount;\n      var trackWidth = 100 / _this.props.slidesToShow * slideCount;\n      var slideWidth = 100 / slideCount;\n      var trackLeft = -slideWidth * ((0, _innerSliderUtils.getPreClones)(spec) + _this.state.currentSlide) * trackWidth / 100;\n\n      if (_this.props.centerMode) {\n        trackLeft += (100 - slideWidth * trackWidth / 100) / 2;\n      }\n\n      var trackStyle = {\n        width: trackWidth + \"%\",\n        left: trackLeft + \"%\"\n      };\n      return {\n        slideWidth: slideWidth + \"%\",\n        trackStyle: trackStyle\n      };\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"checkImagesLoad\", function () {\n      var images = _this.list.querySelectorAll(\".slick-slide img\");\n\n      var imagesCount = images.length,\n          loadedCount = 0;\n      Array.prototype.forEach.call(images, function (image) {\n        var handler = function handler() {\n          return ++loadedCount && loadedCount >= imagesCount && _this.onWindowResized();\n        };\n\n        if (!image.onclick) {\n          image.onclick = function () {\n            return image.parentNode.focus();\n          };\n        } else {\n          var prevClickHandler = image.onclick;\n\n          image.onclick = function () {\n            prevClickHandler();\n            image.parentNode.focus();\n          };\n        }\n\n        if (!image.onload) {\n          if (_this.props.lazyLoad) {\n            image.onload = function () {\n              _this.adaptHeight();\n\n              _this.callbackTimers.push(setTimeout(_this.onWindowResized, _this.props.speed));\n            };\n          } else {\n            image.onload = handler;\n\n            image.onerror = function () {\n              handler();\n              _this.props.onLazyLoadError && _this.props.onLazyLoadError();\n            };\n          }\n        }\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"progressiveLazyLoad\", function () {\n      var slidesToLoad = [];\n\n      var spec = _objectSpread({}, _this.props, {}, _this.state);\n\n      for (var index = _this.state.currentSlide; index < _this.state.slideCount + (0, _innerSliderUtils.getPostClones)(spec); index++) {\n        if (_this.state.lazyLoadedList.indexOf(index) < 0) {\n          slidesToLoad.push(index);\n          break;\n        }\n      }\n\n      for (var _index = _this.state.currentSlide - 1; _index >= -(0, _innerSliderUtils.getPreClones)(spec); _index--) {\n        if (_this.state.lazyLoadedList.indexOf(_index) < 0) {\n          slidesToLoad.push(_index);\n          break;\n        }\n      }\n\n      if (slidesToLoad.length > 0) {\n        _this.setState(function (state) {\n          return {\n            lazyLoadedList: state.lazyLoadedList.concat(slidesToLoad)\n          };\n        });\n\n        if (_this.props.onLazyLoad) {\n          _this.props.onLazyLoad(slidesToLoad);\n        }\n      } else {\n        if (_this.lazyLoadTimer) {\n          clearInterval(_this.lazyLoadTimer);\n          delete _this.lazyLoadTimer;\n        }\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"slideHandler\", function (index) {\n      var dontAnimate = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n      var _this$props = _this.props,\n          asNavFor = _this$props.asNavFor,\n          beforeChange = _this$props.beforeChange,\n          onLazyLoad = _this$props.onLazyLoad,\n          speed = _this$props.speed,\n          afterChange = _this$props.afterChange; // capture currentslide before state is updated\n\n      var currentSlide = _this.state.currentSlide;\n\n      var _slideHandler = (0, _innerSliderUtils.slideHandler)(_objectSpread({\n        index: index\n      }, _this.props, {}, _this.state, {\n        trackRef: _this.track,\n        useCSS: _this.props.useCSS && !dontAnimate\n      })),\n          state = _slideHandler.state,\n          nextState = _slideHandler.nextState;\n\n      if (!state) return;\n      beforeChange && beforeChange(currentSlide, state.currentSlide);\n      var slidesToLoad = state.lazyLoadedList.filter(function (value) {\n        return _this.state.lazyLoadedList.indexOf(value) < 0;\n      });\n      onLazyLoad && slidesToLoad.length > 0 && onLazyLoad(slidesToLoad);\n\n      if (!_this.props.waitForAnimate && _this.animationEndCallback) {\n        clearTimeout(_this.animationEndCallback);\n        afterChange && afterChange(currentSlide);\n        delete _this.animationEndCallback;\n      }\n\n      _this.setState(state, function () {\n        // asNavForIndex check is to avoid recursive calls of slideHandler in waitForAnimate=false mode\n        if (asNavFor && _this.asNavForIndex !== index) {\n          _this.asNavForIndex = index;\n          asNavFor.innerSlider.slideHandler(index);\n        }\n\n        if (!nextState) return;\n        _this.animationEndCallback = setTimeout(function () {\n          var animating = nextState.animating,\n              firstBatch = _objectWithoutProperties(nextState, [\"animating\"]);\n\n          _this.setState(firstBatch, function () {\n            _this.callbackTimers.push(setTimeout(function () {\n              return _this.setState({\n                animating: animating\n              });\n            }, 10));\n\n            afterChange && afterChange(state.currentSlide);\n            delete _this.animationEndCallback;\n          });\n        }, speed);\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"changeSlide\", function (options) {\n      var dontAnimate = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n      var spec = _objectSpread({}, _this.props, {}, _this.state);\n\n      var targetSlide = (0, _innerSliderUtils.changeSlide)(spec, options);\n      if (targetSlide !== 0 && !targetSlide) return;\n\n      if (dontAnimate === true) {\n        _this.slideHandler(targetSlide, dontAnimate);\n      } else {\n        _this.slideHandler(targetSlide);\n      }\n\n      _this.props.autoplay && _this.autoPlay(\"update\");\n\n      if (_this.props.focusOnSelect) {\n        var nodes = _this.list.querySelectorAll(\".slick-current\");\n\n        nodes[0] && nodes[0].focus();\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"clickHandler\", function (e) {\n      if (_this.clickable === false) {\n        e.stopPropagation();\n        e.preventDefault();\n      }\n\n      _this.clickable = true;\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"keyHandler\", function (e) {\n      var dir = (0, _innerSliderUtils.keyHandler)(e, _this.props.accessibility, _this.props.rtl);\n      dir !== \"\" && _this.changeSlide({\n        message: dir\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"selectHandler\", function (options) {\n      _this.changeSlide(options);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"disableBodyScroll\", function () {\n      var preventDefault = function preventDefault(e) {\n        e = e || window.event;\n        if (e.preventDefault) e.preventDefault();\n        e.returnValue = false;\n      };\n\n      window.ontouchmove = preventDefault;\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"enableBodyScroll\", function () {\n      window.ontouchmove = null;\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"swipeStart\", function (e) {\n      if (_this.props.verticalSwiping) {\n        _this.disableBodyScroll();\n      }\n\n      var state = (0, _innerSliderUtils.swipeStart)(e, _this.props.swipe, _this.props.draggable);\n      state !== \"\" && _this.setState(state);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"swipeMove\", function (e) {\n      var state = (0, _innerSliderUtils.swipeMove)(e, _objectSpread({}, _this.props, {}, _this.state, {\n        trackRef: _this.track,\n        listRef: _this.list,\n        slideIndex: _this.state.currentSlide\n      }));\n      if (!state) return;\n\n      if (state[\"swiping\"]) {\n        _this.clickable = false;\n      }\n\n      _this.setState(state);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"swipeEnd\", function (e) {\n      var state = (0, _innerSliderUtils.swipeEnd)(e, _objectSpread({}, _this.props, {}, _this.state, {\n        trackRef: _this.track,\n        listRef: _this.list,\n        slideIndex: _this.state.currentSlide\n      }));\n      if (!state) return;\n      var triggerSlideHandler = state[\"triggerSlideHandler\"];\n      delete state[\"triggerSlideHandler\"];\n\n      _this.setState(state);\n\n      if (triggerSlideHandler === undefined) return;\n\n      _this.slideHandler(triggerSlideHandler);\n\n      if (_this.props.verticalSwiping) {\n        _this.enableBodyScroll();\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"touchEnd\", function (e) {\n      _this.swipeEnd(e);\n\n      _this.clickable = true;\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"slickPrev\", function () {\n      // this and fellow methods are wrapped in setTimeout\n      // to make sure initialize setState has happened before\n      // any of such methods are called\n      _this.callbackTimers.push(setTimeout(function () {\n        return _this.changeSlide({\n          message: \"previous\"\n        });\n      }, 0));\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"slickNext\", function () {\n      _this.callbackTimers.push(setTimeout(function () {\n        return _this.changeSlide({\n          message: \"next\"\n        });\n      }, 0));\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"slickGoTo\", function (slide) {\n      var dontAnimate = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n      slide = Number(slide);\n      if (isNaN(slide)) return \"\";\n\n      _this.callbackTimers.push(setTimeout(function () {\n        return _this.changeSlide({\n          message: \"index\",\n          index: slide,\n          currentSlide: _this.state.currentSlide\n        }, dontAnimate);\n      }, 0));\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"play\", function () {\n      var nextIndex;\n\n      if (_this.props.rtl) {\n        nextIndex = _this.state.currentSlide - _this.props.slidesToScroll;\n      } else {\n        if ((0, _innerSliderUtils.canGoNext)(_objectSpread({}, _this.props, {}, _this.state))) {\n          nextIndex = _this.state.currentSlide + _this.props.slidesToScroll;\n        } else {\n          return false;\n        }\n      }\n\n      _this.slideHandler(nextIndex);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"autoPlay\", function (playType) {\n      if (_this.autoplayTimer) {\n        clearInterval(_this.autoplayTimer);\n      }\n\n      var autoplaying = _this.state.autoplaying;\n\n      if (playType === \"update\") {\n        if (autoplaying === \"hovered\" || autoplaying === \"focused\" || autoplaying === \"paused\") {\n          return;\n        }\n      } else if (playType === \"leave\") {\n        if (autoplaying === \"paused\" || autoplaying === \"focused\") {\n          return;\n        }\n      } else if (playType === \"blur\") {\n        if (autoplaying === \"paused\" || autoplaying === \"hovered\") {\n          return;\n        }\n      }\n\n      _this.autoplayTimer = setInterval(_this.play, _this.props.autoplaySpeed + 50);\n\n      _this.setState({\n        autoplaying: \"playing\"\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"pause\", function (pauseType) {\n      if (_this.autoplayTimer) {\n        clearInterval(_this.autoplayTimer);\n        _this.autoplayTimer = null;\n      }\n\n      var autoplaying = _this.state.autoplaying;\n\n      if (pauseType === \"paused\") {\n        _this.setState({\n          autoplaying: \"paused\"\n        });\n      } else if (pauseType === \"focused\") {\n        if (autoplaying === \"hovered\" || autoplaying === \"playing\") {\n          _this.setState({\n            autoplaying: \"focused\"\n          });\n        }\n      } else {\n        // pauseType  is 'hovered'\n        if (autoplaying === \"playing\") {\n          _this.setState({\n            autoplaying: \"hovered\"\n          });\n        }\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onDotsOver\", function () {\n      return _this.props.autoplay && _this.pause(\"hovered\");\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onDotsLeave\", function () {\n      return _this.props.autoplay && _this.state.autoplaying === \"hovered\" && _this.autoPlay(\"leave\");\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onTrackOver\", function () {\n      return _this.props.autoplay && _this.pause(\"hovered\");\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onTrackLeave\", function () {\n      return _this.props.autoplay && _this.state.autoplaying === \"hovered\" && _this.autoPlay(\"leave\");\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onSlideFocus\", function () {\n      return _this.props.autoplay && _this.pause(\"focused\");\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onSlideBlur\", function () {\n      return _this.props.autoplay && _this.state.autoplaying === \"focused\" && _this.autoPlay(\"blur\");\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"render\", function () {\n      var className = (0, _classnames[\"default\"])(\"slick-slider\", _this.props.className, {\n        \"slick-vertical\": _this.props.vertical,\n        \"slick-initialized\": true\n      });\n\n      var spec = _objectSpread({}, _this.props, {}, _this.state);\n\n      var trackProps = (0, _innerSliderUtils.extractObject)(spec, [\"fade\", \"cssEase\", \"speed\", \"infinite\", \"centerMode\", \"focusOnSelect\", \"currentSlide\", \"lazyLoad\", \"lazyLoadedList\", \"rtl\", \"slideWidth\", \"slideHeight\", \"listHeight\", \"vertical\", \"slidesToShow\", \"slidesToScroll\", \"slideCount\", \"trackStyle\", \"variableWidth\", \"unslick\", \"centerPadding\", \"targetSlide\", \"useCSS\"]);\n      var pauseOnHover = _this.props.pauseOnHover;\n      trackProps = _objectSpread({}, trackProps, {\n        onMouseEnter: pauseOnHover ? _this.onTrackOver : null,\n        onMouseLeave: pauseOnHover ? _this.onTrackLeave : null,\n        onMouseOver: pauseOnHover ? _this.onTrackOver : null,\n        focusOnSelect: _this.props.focusOnSelect && _this.clickable ? _this.selectHandler : null\n      });\n      var dots;\n\n      if (_this.props.dots === true && _this.state.slideCount >= _this.props.slidesToShow) {\n        var dotProps = (0, _innerSliderUtils.extractObject)(spec, [\"dotsClass\", \"slideCount\", \"slidesToShow\", \"currentSlide\", \"slidesToScroll\", \"clickHandler\", \"children\", \"customPaging\", \"infinite\", \"appendDots\"]);\n        var pauseOnDotsHover = _this.props.pauseOnDotsHover;\n        dotProps = _objectSpread({}, dotProps, {\n          clickHandler: _this.changeSlide,\n          onMouseEnter: pauseOnDotsHover ? _this.onDotsLeave : null,\n          onMouseOver: pauseOnDotsHover ? _this.onDotsOver : null,\n          onMouseLeave: pauseOnDotsHover ? _this.onDotsLeave : null\n        });\n        dots = _react[\"default\"].createElement(_dots.Dots, dotProps);\n      }\n\n      var prevArrow, nextArrow;\n      var arrowProps = (0, _innerSliderUtils.extractObject)(spec, [\"infinite\", \"centerMode\", \"currentSlide\", \"slideCount\", \"slidesToShow\", \"prevArrow\", \"nextArrow\"]);\n      arrowProps.clickHandler = _this.changeSlide;\n\n      if (_this.props.arrows) {\n        prevArrow = _react[\"default\"].createElement(_arrows.PrevArrow, arrowProps);\n        nextArrow = _react[\"default\"].createElement(_arrows.NextArrow, arrowProps);\n      }\n\n      var verticalHeightStyle = null;\n\n      if (_this.props.vertical) {\n        verticalHeightStyle = {\n          height: _this.state.listHeight\n        };\n      }\n\n      var centerPaddingStyle = null;\n\n      if (_this.props.vertical === false) {\n        if (_this.props.centerMode === true) {\n          centerPaddingStyle = {\n            padding: \"0px \" + _this.props.centerPadding\n          };\n        }\n      } else {\n        if (_this.props.centerMode === true) {\n          centerPaddingStyle = {\n            padding: _this.props.centerPadding + \" 0px\"\n          };\n        }\n      }\n\n      var listStyle = _objectSpread({}, verticalHeightStyle, {}, centerPaddingStyle);\n\n      var touchMove = _this.props.touchMove;\n      var listProps = {\n        className: \"slick-list\",\n        style: listStyle,\n        onClick: _this.clickHandler,\n        onMouseDown: touchMove ? _this.swipeStart : null,\n        onMouseMove: _this.state.dragging && touchMove ? _this.swipeMove : null,\n        onMouseUp: touchMove ? _this.swipeEnd : null,\n        onMouseLeave: _this.state.dragging && touchMove ? _this.swipeEnd : null,\n        onTouchStart: touchMove ? _this.swipeStart : null,\n        onTouchMove: _this.state.dragging && touchMove ? _this.swipeMove : null,\n        onTouchEnd: touchMove ? _this.touchEnd : null,\n        onTouchCancel: _this.state.dragging && touchMove ? _this.swipeEnd : null,\n        onKeyDown: _this.props.accessibility ? _this.keyHandler : null\n      };\n      var innerSliderProps = {\n        className: className,\n        dir: \"ltr\",\n        style: _this.props.style\n      };\n\n      if (_this.props.unslick) {\n        listProps = {\n          className: \"slick-list\"\n        };\n        innerSliderProps = {\n          className: className\n        };\n      }\n\n      return _react[\"default\"].createElement(\"div\", innerSliderProps, !_this.props.unslick ? prevArrow : \"\", _react[\"default\"].createElement(\"div\", _extends({\n        ref: _this.listRefHandler\n      }, listProps), _react[\"default\"].createElement(_track.Track, _extends({\n        ref: _this.trackRefHandler\n      }, trackProps), _this.props.children)), !_this.props.unslick ? nextArrow : \"\", !_this.props.unslick ? dots : \"\");\n    });\n\n    _this.list = null;\n    _this.track = null;\n    _this.state = _objectSpread({}, _initialState[\"default\"], {\n      currentSlide: _this.props.initialSlide,\n      slideCount: _react[\"default\"].Children.count(_this.props.children)\n    });\n    _this.callbackTimers = [];\n    _this.clickable = true;\n    _this.debouncedResize = null;\n\n    var ssrState = _this.ssrInit();\n\n    _this.state = _objectSpread({}, _this.state, {}, ssrState);\n    return _this;\n  }\n\n  _createClass(InnerSlider, [{\n    key: \"didPropsChange\",\n    value: function didPropsChange(prevProps) {\n      var setTrackStyle = false;\n\n      for (var _i3 = 0, _Object$keys = Object.keys(this.props); _i3 < _Object$keys.length; _i3++) {\n        var key = _Object$keys[_i3];\n\n        if (!prevProps.hasOwnProperty(key)) {\n          setTrackStyle = true;\n          break;\n        }\n\n        if (_typeof(prevProps[key]) === \"object\" || typeof prevProps[key] === \"function\") {\n          continue;\n        }\n\n        if (prevProps[key] !== this.props[key]) {\n          setTrackStyle = true;\n          break;\n        }\n      }\n\n      return setTrackStyle || _react[\"default\"].Children.count(this.props.children) !== _react[\"default\"].Children.count(prevProps.children);\n    }\n  }]);\n\n  return InnerSlider;\n}(_react[\"default\"].Component);\n\nexports.InnerSlider = InnerSlider;","var QueryHandler = require('./QueryHandler');\n\nvar each = require('./Util').each;\n/**\n * Represents a single media query, manages it's state and registered handlers for this query\n *\n * @constructor\n * @param {string} query the media query string\n * @param {boolean} [isUnconditional=false] whether the media query should run regardless of whether the conditions are met. Primarily for helping older browsers deal with mobile-first design\n */\n\n\nfunction MediaQuery(query, isUnconditional) {\n  this.query = query;\n  this.isUnconditional = isUnconditional;\n  this.handlers = [];\n  this.mql = window.matchMedia(query);\n  var self = this;\n\n  this.listener = function (mql) {\n    // Chrome passes an MediaQueryListEvent object, while other browsers pass MediaQueryList directly\n    self.mql = mql.currentTarget || mql;\n    self.assess();\n  };\n\n  this.mql.addListener(this.listener);\n}\n\nMediaQuery.prototype = {\n  constuctor: MediaQuery,\n\n  /**\n   * add a handler for this query, triggering if already active\n   *\n   * @param {object} handler\n   * @param {function} handler.match callback for when query is activated\n   * @param {function} [handler.unmatch] callback for when query is deactivated\n   * @param {function} [handler.setup] callback for immediate execution when a query handler is registered\n   * @param {boolean} [handler.deferSetup=false] should the setup callback be deferred until the first time the handler is matched?\n   */\n  addHandler: function addHandler(handler) {\n    var qh = new QueryHandler(handler);\n    this.handlers.push(qh);\n    this.matches() && qh.on();\n  },\n\n  /**\n   * removes the given handler from the collection, and calls it's destroy methods\n   *\n   * @param {object || function} handler the handler to remove\n   */\n  removeHandler: function removeHandler(handler) {\n    var handlers = this.handlers;\n    each(handlers, function (h, i) {\n      if (h.equals(handler)) {\n        h.destroy();\n        return !handlers.splice(i, 1); //remove from array and exit each early\n      }\n    });\n  },\n\n  /**\n   * Determine whether the media query should be considered a match\n   *\n   * @return {Boolean} true if media query can be considered a match, false otherwise\n   */\n  matches: function matches() {\n    return this.mql.matches || this.isUnconditional;\n  },\n\n  /**\n   * Clears all handlers and unbinds events\n   */\n  clear: function clear() {\n    each(this.handlers, function (handler) {\n      handler.destroy();\n    });\n    this.mql.removeListener(this.listener);\n    this.handlers.length = 0; //clear array\n  },\n\n  /*\n      * Assesses the query, turning on all handlers if it matches, turning them off if it doesn't match\n      */\n  assess: function assess() {\n    var action = this.matches() ? 'on' : 'off';\n    each(this.handlers, function (handler) {\n      handler[action]();\n    });\n  }\n};\nmodule.exports = MediaQuery;","var win;\n\nif (typeof window !== \"undefined\") {\n  win = window;\n} else if (typeof global !== \"undefined\") {\n  win = global;\n} else if (typeof self !== \"undefined\") {\n  win = self;\n} else {\n  win = {};\n}\n\nmodule.exports = win;","var MediaQuery = require('./MediaQuery');\n\nvar Util = require('./Util');\n\nvar each = Util.each;\nvar isFunction = Util.isFunction;\nvar isArray = Util.isArray;\n/**\n * Allows for registration of query handlers.\n * Manages the query handler's state and is responsible for wiring up browser events\n *\n * @constructor\n */\n\nfunction MediaQueryDispatch() {\n  if (!window.matchMedia) {\n    throw new Error('matchMedia not present, legacy browsers require a polyfill');\n  }\n\n  this.queries = {};\n  this.browserIsIncapable = !window.matchMedia('only all').matches;\n}\n\nMediaQueryDispatch.prototype = {\n  constructor: MediaQueryDispatch,\n\n  /**\n   * Registers a handler for the given media query\n   *\n   * @param {string} q the media query\n   * @param {object || Array || Function} options either a single query handler object, a function, or an array of query handlers\n   * @param {function} options.match fired when query matched\n   * @param {function} [options.unmatch] fired when a query is no longer matched\n   * @param {function} [options.setup] fired when handler first triggered\n   * @param {boolean} [options.deferSetup=false] whether setup should be run immediately or deferred until query is first matched\n   * @param {boolean} [shouldDegrade=false] whether this particular media query should always run on incapable browsers\n   */\n  register: function register(q, options, shouldDegrade) {\n    var queries = this.queries,\n        isUnconditional = shouldDegrade && this.browserIsIncapable;\n\n    if (!queries[q]) {\n      queries[q] = new MediaQuery(q, isUnconditional);\n    } //normalise to object in an array\n\n\n    if (isFunction(options)) {\n      options = {\n        match: options\n      };\n    }\n\n    if (!isArray(options)) {\n      options = [options];\n    }\n\n    each(options, function (handler) {\n      if (isFunction(handler)) {\n        handler = {\n          match: handler\n        };\n      }\n\n      queries[q].addHandler(handler);\n    });\n    return this;\n  },\n\n  /**\n   * unregisters a query and all it's handlers, or a specific handler for a query\n   *\n   * @param {string} q the media query to target\n   * @param {object || function} [handler] specific handler to unregister\n   */\n  unregister: function unregister(q, handler) {\n    var query = this.queries[q];\n\n    if (query) {\n      if (handler) {\n        query.removeHandler(handler);\n      } else {\n        query.clear();\n        delete this.queries[q];\n      }\n    }\n\n    return this;\n  }\n};\nmodule.exports = MediaQueryDispatch;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.clamp = clamp;\nexports.canUseDOM = exports.slidesOnLeft = exports.slidesOnRight = exports.siblingDirection = exports.getTotalSlides = exports.getPostClones = exports.getPreClones = exports.getTrackLeft = exports.getTrackAnimateCSS = exports.getTrackCSS = exports.checkSpecKeys = exports.getSlideCount = exports.checkNavigable = exports.getNavigableIndexes = exports.swipeEnd = exports.swipeMove = exports.swipeStart = exports.keyHandler = exports.changeSlide = exports.slideHandler = exports.initializedState = exports.extractObject = exports.canGoNext = exports.getSwipeDirection = exports.getHeight = exports.getWidth = exports.lazySlidesOnRight = exports.lazySlidesOnLeft = exports.lazyEndIndex = exports.lazyStartIndex = exports.getRequiredLazySlides = exports.getOnDemandLazySlides = void 0;\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    \"default\": obj\n  };\n}\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(source, true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(source).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction clamp(number, lowerBound, upperBound) {\n  return Math.max(lowerBound, Math.min(number, upperBound));\n}\n\nvar getOnDemandLazySlides = function getOnDemandLazySlides(spec) {\n  var onDemandSlides = [];\n  var startIndex = lazyStartIndex(spec);\n  var endIndex = lazyEndIndex(spec);\n\n  for (var slideIndex = startIndex; slideIndex < endIndex; slideIndex++) {\n    if (spec.lazyLoadedList.indexOf(slideIndex) < 0) {\n      onDemandSlides.push(slideIndex);\n    }\n  }\n\n  return onDemandSlides;\n}; // return list of slides that need to be present\n\n\nexports.getOnDemandLazySlides = getOnDemandLazySlides;\n\nvar getRequiredLazySlides = function getRequiredLazySlides(spec) {\n  var requiredSlides = [];\n  var startIndex = lazyStartIndex(spec);\n  var endIndex = lazyEndIndex(spec);\n\n  for (var slideIndex = startIndex; slideIndex < endIndex; slideIndex++) {\n    requiredSlides.push(slideIndex);\n  }\n\n  return requiredSlides;\n}; // startIndex that needs to be present\n\n\nexports.getRequiredLazySlides = getRequiredLazySlides;\n\nvar lazyStartIndex = function lazyStartIndex(spec) {\n  return spec.currentSlide - lazySlidesOnLeft(spec);\n};\n\nexports.lazyStartIndex = lazyStartIndex;\n\nvar lazyEndIndex = function lazyEndIndex(spec) {\n  return spec.currentSlide + lazySlidesOnRight(spec);\n};\n\nexports.lazyEndIndex = lazyEndIndex;\n\nvar lazySlidesOnLeft = function lazySlidesOnLeft(spec) {\n  return spec.centerMode ? Math.floor(spec.slidesToShow / 2) + (parseInt(spec.centerPadding) > 0 ? 1 : 0) : 0;\n};\n\nexports.lazySlidesOnLeft = lazySlidesOnLeft;\n\nvar lazySlidesOnRight = function lazySlidesOnRight(spec) {\n  return spec.centerMode ? Math.floor((spec.slidesToShow - 1) / 2) + 1 + (parseInt(spec.centerPadding) > 0 ? 1 : 0) : spec.slidesToShow;\n}; // get width of an element\n\n\nexports.lazySlidesOnRight = lazySlidesOnRight;\n\nvar getWidth = function getWidth(elem) {\n  return elem && elem.offsetWidth || 0;\n};\n\nexports.getWidth = getWidth;\n\nvar getHeight = function getHeight(elem) {\n  return elem && elem.offsetHeight || 0;\n};\n\nexports.getHeight = getHeight;\n\nvar getSwipeDirection = function getSwipeDirection(touchObject) {\n  var verticalSwiping = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n  var xDist, yDist, r, swipeAngle;\n  xDist = touchObject.startX - touchObject.curX;\n  yDist = touchObject.startY - touchObject.curY;\n  r = Math.atan2(yDist, xDist);\n  swipeAngle = Math.round(r * 180 / Math.PI);\n\n  if (swipeAngle < 0) {\n    swipeAngle = 360 - Math.abs(swipeAngle);\n  }\n\n  if (swipeAngle <= 45 && swipeAngle >= 0 || swipeAngle <= 360 && swipeAngle >= 315) {\n    return \"left\";\n  }\n\n  if (swipeAngle >= 135 && swipeAngle <= 225) {\n    return \"right\";\n  }\n\n  if (verticalSwiping === true) {\n    if (swipeAngle >= 35 && swipeAngle <= 135) {\n      return \"up\";\n    } else {\n      return \"down\";\n    }\n  }\n\n  return \"vertical\";\n}; // whether or not we can go next\n\n\nexports.getSwipeDirection = getSwipeDirection;\n\nvar canGoNext = function canGoNext(spec) {\n  var canGo = true;\n\n  if (!spec.infinite) {\n    if (spec.centerMode && spec.currentSlide >= spec.slideCount - 1) {\n      canGo = false;\n    } else if (spec.slideCount <= spec.slidesToShow || spec.currentSlide >= spec.slideCount - spec.slidesToShow) {\n      canGo = false;\n    }\n  }\n\n  return canGo;\n}; // given an object and a list of keys, return new object with given keys\n\n\nexports.canGoNext = canGoNext;\n\nvar extractObject = function extractObject(spec, keys) {\n  var newObject = {};\n  keys.forEach(function (key) {\n    return newObject[key] = spec[key];\n  });\n  return newObject;\n}; // get initialized state\n\n\nexports.extractObject = extractObject;\n\nvar initializedState = function initializedState(spec) {\n  // spec also contains listRef, trackRef\n  var slideCount = _react[\"default\"].Children.count(spec.children);\n\n  var listNode = spec.listRef;\n  var listWidth = Math.ceil(getWidth(listNode));\n  var trackNode = spec.trackRef && spec.trackRef.node;\n  var trackWidth = Math.ceil(getWidth(trackNode));\n  var slideWidth;\n\n  if (!spec.vertical) {\n    var centerPaddingAdj = spec.centerMode && parseInt(spec.centerPadding) * 2;\n\n    if (typeof spec.centerPadding === \"string\" && spec.centerPadding.slice(-1) === \"%\") {\n      centerPaddingAdj *= listWidth / 100;\n    }\n\n    slideWidth = Math.ceil((listWidth - centerPaddingAdj) / spec.slidesToShow);\n  } else {\n    slideWidth = listWidth;\n  }\n\n  var slideHeight = listNode && getHeight(listNode.querySelector('[data-index=\"0\"]'));\n  var listHeight = slideHeight * spec.slidesToShow;\n  var currentSlide = spec.currentSlide === undefined ? spec.initialSlide : spec.currentSlide;\n\n  if (spec.rtl && spec.currentSlide === undefined) {\n    currentSlide = slideCount - 1 - spec.initialSlide;\n  }\n\n  var lazyLoadedList = spec.lazyLoadedList || [];\n  var slidesToLoad = getOnDemandLazySlides(_objectSpread({}, spec, {\n    currentSlide: currentSlide,\n    lazyLoadedList: lazyLoadedList\n  }));\n  lazyLoadedList.concat(slidesToLoad);\n  var state = {\n    slideCount: slideCount,\n    slideWidth: slideWidth,\n    listWidth: listWidth,\n    trackWidth: trackWidth,\n    currentSlide: currentSlide,\n    slideHeight: slideHeight,\n    listHeight: listHeight,\n    lazyLoadedList: lazyLoadedList\n  };\n\n  if (spec.autoplaying === null && spec.autoplay) {\n    state[\"autoplaying\"] = \"playing\";\n  }\n\n  return state;\n};\n\nexports.initializedState = initializedState;\n\nvar slideHandler = function slideHandler(spec) {\n  var waitForAnimate = spec.waitForAnimate,\n      animating = spec.animating,\n      fade = spec.fade,\n      infinite = spec.infinite,\n      index = spec.index,\n      slideCount = spec.slideCount,\n      lazyLoadedList = spec.lazyLoadedList,\n      lazyLoad = spec.lazyLoad,\n      currentSlide = spec.currentSlide,\n      centerMode = spec.centerMode,\n      slidesToScroll = spec.slidesToScroll,\n      slidesToShow = spec.slidesToShow,\n      useCSS = spec.useCSS;\n  if (waitForAnimate && animating) return {};\n  var animationSlide = index,\n      finalSlide,\n      animationLeft,\n      finalLeft;\n  var state = {},\n      nextState = {};\n  var targetSlide = infinite ? index : clamp(index, 0, slideCount - 1);\n\n  if (fade) {\n    if (!infinite && (index < 0 || index >= slideCount)) return {};\n\n    if (index < 0) {\n      animationSlide = index + slideCount;\n    } else if (index >= slideCount) {\n      animationSlide = index - slideCount;\n    }\n\n    if (lazyLoad && lazyLoadedList.indexOf(animationSlide) < 0) {\n      lazyLoadedList.push(animationSlide);\n    }\n\n    state = {\n      animating: true,\n      currentSlide: animationSlide,\n      lazyLoadedList: lazyLoadedList\n    };\n    nextState = {\n      animating: false\n    };\n  } else {\n    finalSlide = animationSlide;\n\n    if (animationSlide < 0) {\n      finalSlide = animationSlide + slideCount;\n      if (!infinite) finalSlide = 0;else if (slideCount % slidesToScroll !== 0) finalSlide = slideCount - slideCount % slidesToScroll;\n    } else if (!canGoNext(spec) && animationSlide > currentSlide) {\n      animationSlide = finalSlide = currentSlide;\n    } else if (centerMode && animationSlide >= slideCount) {\n      animationSlide = infinite ? slideCount : slideCount - 1;\n      finalSlide = infinite ? 0 : slideCount - 1;\n    } else if (animationSlide >= slideCount) {\n      finalSlide = animationSlide - slideCount;\n      if (!infinite) finalSlide = slideCount - slidesToShow;else if (slideCount % slidesToScroll !== 0) finalSlide = 0;\n    }\n\n    if (!infinite && animationSlide + slidesToShow >= slideCount) {\n      finalSlide = slideCount - slidesToShow;\n    }\n\n    animationLeft = getTrackLeft(_objectSpread({}, spec, {\n      slideIndex: animationSlide\n    }));\n    finalLeft = getTrackLeft(_objectSpread({}, spec, {\n      slideIndex: finalSlide\n    }));\n\n    if (!infinite) {\n      if (animationLeft === finalLeft) animationSlide = finalSlide;\n      animationLeft = finalLeft;\n    }\n\n    lazyLoad && lazyLoadedList.concat(getOnDemandLazySlides(_objectSpread({}, spec, {\n      currentSlide: animationSlide\n    })));\n\n    if (!useCSS) {\n      state = {\n        currentSlide: finalSlide,\n        trackStyle: getTrackCSS(_objectSpread({}, spec, {\n          left: finalLeft\n        })),\n        lazyLoadedList: lazyLoadedList,\n        targetSlide: targetSlide\n      };\n    } else {\n      state = {\n        animating: true,\n        currentSlide: finalSlide,\n        trackStyle: getTrackAnimateCSS(_objectSpread({}, spec, {\n          left: animationLeft\n        })),\n        lazyLoadedList: lazyLoadedList,\n        targetSlide: targetSlide\n      };\n      nextState = {\n        animating: false,\n        currentSlide: finalSlide,\n        trackStyle: getTrackCSS(_objectSpread({}, spec, {\n          left: finalLeft\n        })),\n        swipeLeft: null,\n        targetSlide: targetSlide\n      };\n    }\n  }\n\n  return {\n    state: state,\n    nextState: nextState\n  };\n};\n\nexports.slideHandler = slideHandler;\n\nvar changeSlide = function changeSlide(spec, options) {\n  var indexOffset, previousInt, slideOffset, unevenOffset, targetSlide;\n  var slidesToScroll = spec.slidesToScroll,\n      slidesToShow = spec.slidesToShow,\n      slideCount = spec.slideCount,\n      currentSlide = spec.currentSlide,\n      previousTargetSlide = spec.targetSlide,\n      lazyLoad = spec.lazyLoad,\n      infinite = spec.infinite;\n  unevenOffset = slideCount % slidesToScroll !== 0;\n  indexOffset = unevenOffset ? 0 : (slideCount - currentSlide) % slidesToScroll;\n\n  if (options.message === \"previous\") {\n    slideOffset = indexOffset === 0 ? slidesToScroll : slidesToShow - indexOffset;\n    targetSlide = currentSlide - slideOffset;\n\n    if (lazyLoad && !infinite) {\n      previousInt = currentSlide - slideOffset;\n      targetSlide = previousInt === -1 ? slideCount - 1 : previousInt;\n    }\n\n    if (!infinite) {\n      targetSlide = previousTargetSlide - slidesToScroll;\n    }\n  } else if (options.message === \"next\") {\n    slideOffset = indexOffset === 0 ? slidesToScroll : indexOffset;\n    targetSlide = currentSlide + slideOffset;\n\n    if (lazyLoad && !infinite) {\n      targetSlide = (currentSlide + slidesToScroll) % slideCount + indexOffset;\n    }\n\n    if (!infinite) {\n      targetSlide = previousTargetSlide + slidesToScroll;\n    }\n  } else if (options.message === \"dots\") {\n    // Click on dots\n    targetSlide = options.index * options.slidesToScroll;\n  } else if (options.message === \"children\") {\n    // Click on the slides\n    targetSlide = options.index;\n\n    if (infinite) {\n      var direction = siblingDirection(_objectSpread({}, spec, {\n        targetSlide: targetSlide\n      }));\n\n      if (targetSlide > options.currentSlide && direction === \"left\") {\n        targetSlide = targetSlide - slideCount;\n      } else if (targetSlide < options.currentSlide && direction === \"right\") {\n        targetSlide = targetSlide + slideCount;\n      }\n    }\n  } else if (options.message === \"index\") {\n    targetSlide = Number(options.index);\n  }\n\n  return targetSlide;\n};\n\nexports.changeSlide = changeSlide;\n\nvar keyHandler = function keyHandler(e, accessibility, rtl) {\n  if (e.target.tagName.match(\"TEXTAREA|INPUT|SELECT\") || !accessibility) return \"\";\n  if (e.keyCode === 37) return rtl ? \"next\" : \"previous\";\n  if (e.keyCode === 39) return rtl ? \"previous\" : \"next\";\n  return \"\";\n};\n\nexports.keyHandler = keyHandler;\n\nvar swipeStart = function swipeStart(e, swipe, draggable) {\n  e.target.tagName === \"IMG\" && e.preventDefault();\n  if (!swipe || !draggable && e.type.indexOf(\"mouse\") !== -1) return \"\";\n  return {\n    dragging: true,\n    touchObject: {\n      startX: e.touches ? e.touches[0].pageX : e.clientX,\n      startY: e.touches ? e.touches[0].pageY : e.clientY,\n      curX: e.touches ? e.touches[0].pageX : e.clientX,\n      curY: e.touches ? e.touches[0].pageY : e.clientY\n    }\n  };\n};\n\nexports.swipeStart = swipeStart;\n\nvar swipeMove = function swipeMove(e, spec) {\n  // spec also contains, trackRef and slideIndex\n  var scrolling = spec.scrolling,\n      animating = spec.animating,\n      vertical = spec.vertical,\n      swipeToSlide = spec.swipeToSlide,\n      verticalSwiping = spec.verticalSwiping,\n      rtl = spec.rtl,\n      currentSlide = spec.currentSlide,\n      edgeFriction = spec.edgeFriction,\n      edgeDragged = spec.edgeDragged,\n      onEdge = spec.onEdge,\n      swiped = spec.swiped,\n      swiping = spec.swiping,\n      slideCount = spec.slideCount,\n      slidesToScroll = spec.slidesToScroll,\n      infinite = spec.infinite,\n      touchObject = spec.touchObject,\n      swipeEvent = spec.swipeEvent,\n      listHeight = spec.listHeight,\n      listWidth = spec.listWidth;\n  if (scrolling) return;\n  if (animating) return e.preventDefault();\n  if (vertical && swipeToSlide && verticalSwiping) e.preventDefault();\n  var swipeLeft,\n      state = {};\n  var curLeft = getTrackLeft(spec);\n  touchObject.curX = e.touches ? e.touches[0].pageX : e.clientX;\n  touchObject.curY = e.touches ? e.touches[0].pageY : e.clientY;\n  touchObject.swipeLength = Math.round(Math.sqrt(Math.pow(touchObject.curX - touchObject.startX, 2)));\n  var verticalSwipeLength = Math.round(Math.sqrt(Math.pow(touchObject.curY - touchObject.startY, 2)));\n\n  if (!verticalSwiping && !swiping && verticalSwipeLength > 10) {\n    return {\n      scrolling: true\n    };\n  }\n\n  if (verticalSwiping) touchObject.swipeLength = verticalSwipeLength;\n  var positionOffset = (!rtl ? 1 : -1) * (touchObject.curX > touchObject.startX ? 1 : -1);\n  if (verticalSwiping) positionOffset = touchObject.curY > touchObject.startY ? 1 : -1;\n  var dotCount = Math.ceil(slideCount / slidesToScroll);\n  var swipeDirection = getSwipeDirection(spec.touchObject, verticalSwiping);\n  var touchSwipeLength = touchObject.swipeLength;\n\n  if (!infinite) {\n    if (currentSlide === 0 && swipeDirection === \"right\" || currentSlide + 1 >= dotCount && swipeDirection === \"left\" || !canGoNext(spec) && swipeDirection === \"left\") {\n      touchSwipeLength = touchObject.swipeLength * edgeFriction;\n\n      if (edgeDragged === false && onEdge) {\n        onEdge(swipeDirection);\n        state[\"edgeDragged\"] = true;\n      }\n    }\n  }\n\n  if (!swiped && swipeEvent) {\n    swipeEvent(swipeDirection);\n    state[\"swiped\"] = true;\n  }\n\n  if (!vertical) {\n    if (!rtl) {\n      swipeLeft = curLeft + touchSwipeLength * positionOffset;\n    } else {\n      swipeLeft = curLeft - touchSwipeLength * positionOffset;\n    }\n  } else {\n    swipeLeft = curLeft + touchSwipeLength * (listHeight / listWidth) * positionOffset;\n  }\n\n  if (verticalSwiping) {\n    swipeLeft = curLeft + touchSwipeLength * positionOffset;\n  }\n\n  state = _objectSpread({}, state, {\n    touchObject: touchObject,\n    swipeLeft: swipeLeft,\n    trackStyle: getTrackCSS(_objectSpread({}, spec, {\n      left: swipeLeft\n    }))\n  });\n\n  if (Math.abs(touchObject.curX - touchObject.startX) < Math.abs(touchObject.curY - touchObject.startY) * 0.8) {\n    return state;\n  }\n\n  if (touchObject.swipeLength > 10) {\n    state[\"swiping\"] = true;\n    e.preventDefault();\n  }\n\n  return state;\n};\n\nexports.swipeMove = swipeMove;\n\nvar swipeEnd = function swipeEnd(e, spec) {\n  var dragging = spec.dragging,\n      swipe = spec.swipe,\n      touchObject = spec.touchObject,\n      listWidth = spec.listWidth,\n      touchThreshold = spec.touchThreshold,\n      verticalSwiping = spec.verticalSwiping,\n      listHeight = spec.listHeight,\n      swipeToSlide = spec.swipeToSlide,\n      scrolling = spec.scrolling,\n      onSwipe = spec.onSwipe,\n      targetSlide = spec.targetSlide,\n      currentSlide = spec.currentSlide,\n      infinite = spec.infinite;\n\n  if (!dragging) {\n    if (swipe) e.preventDefault();\n    return {};\n  }\n\n  var minSwipe = verticalSwiping ? listHeight / touchThreshold : listWidth / touchThreshold;\n  var swipeDirection = getSwipeDirection(touchObject, verticalSwiping); // reset the state of touch related state variables.\n\n  var state = {\n    dragging: false,\n    edgeDragged: false,\n    scrolling: false,\n    swiping: false,\n    swiped: false,\n    swipeLeft: null,\n    touchObject: {}\n  };\n\n  if (scrolling) {\n    return state;\n  }\n\n  if (!touchObject.swipeLength) {\n    return state;\n  }\n\n  if (touchObject.swipeLength > minSwipe) {\n    e.preventDefault();\n\n    if (onSwipe) {\n      onSwipe(swipeDirection);\n    }\n\n    var slideCount, newSlide;\n    var activeSlide = infinite ? currentSlide : targetSlide;\n\n    switch (swipeDirection) {\n      case \"left\":\n      case \"up\":\n        newSlide = activeSlide + getSlideCount(spec);\n        slideCount = swipeToSlide ? checkNavigable(spec, newSlide) : newSlide;\n        state[\"currentDirection\"] = 0;\n        break;\n\n      case \"right\":\n      case \"down\":\n        newSlide = activeSlide - getSlideCount(spec);\n        slideCount = swipeToSlide ? checkNavigable(spec, newSlide) : newSlide;\n        state[\"currentDirection\"] = 1;\n        break;\n\n      default:\n        slideCount = activeSlide;\n    }\n\n    state[\"triggerSlideHandler\"] = slideCount;\n  } else {\n    // Adjust the track back to it's original position.\n    var currentLeft = getTrackLeft(spec);\n    state[\"trackStyle\"] = getTrackAnimateCSS(_objectSpread({}, spec, {\n      left: currentLeft\n    }));\n  }\n\n  return state;\n};\n\nexports.swipeEnd = swipeEnd;\n\nvar getNavigableIndexes = function getNavigableIndexes(spec) {\n  var max = spec.infinite ? spec.slideCount * 2 : spec.slideCount;\n  var breakpoint = spec.infinite ? spec.slidesToShow * -1 : 0;\n  var counter = spec.infinite ? spec.slidesToShow * -1 : 0;\n  var indexes = [];\n\n  while (breakpoint < max) {\n    indexes.push(breakpoint);\n    breakpoint = counter + spec.slidesToScroll;\n    counter += Math.min(spec.slidesToScroll, spec.slidesToShow);\n  }\n\n  return indexes;\n};\n\nexports.getNavigableIndexes = getNavigableIndexes;\n\nvar checkNavigable = function checkNavigable(spec, index) {\n  var navigables = getNavigableIndexes(spec);\n  var prevNavigable = 0;\n\n  if (index > navigables[navigables.length - 1]) {\n    index = navigables[navigables.length - 1];\n  } else {\n    for (var n in navigables) {\n      if (index < navigables[n]) {\n        index = prevNavigable;\n        break;\n      }\n\n      prevNavigable = navigables[n];\n    }\n  }\n\n  return index;\n};\n\nexports.checkNavigable = checkNavigable;\n\nvar getSlideCount = function getSlideCount(spec) {\n  var centerOffset = spec.centerMode ? spec.slideWidth * Math.floor(spec.slidesToShow / 2) : 0;\n\n  if (spec.swipeToSlide) {\n    var swipedSlide;\n    var slickList = spec.listRef;\n    var slides = slickList.querySelectorAll(\".slick-slide\");\n    Array.from(slides).every(function (slide) {\n      if (!spec.vertical) {\n        if (slide.offsetLeft - centerOffset + getWidth(slide) / 2 > spec.swipeLeft * -1) {\n          swipedSlide = slide;\n          return false;\n        }\n      } else {\n        if (slide.offsetTop + getHeight(slide) / 2 > spec.swipeLeft * -1) {\n          swipedSlide = slide;\n          return false;\n        }\n      }\n\n      return true;\n    });\n\n    if (!swipedSlide) {\n      return 0;\n    }\n\n    var currentIndex = spec.rtl === true ? spec.slideCount - spec.currentSlide : spec.currentSlide;\n    var slidesTraversed = Math.abs(swipedSlide.dataset.index - currentIndex) || 1;\n    return slidesTraversed;\n  } else {\n    return spec.slidesToScroll;\n  }\n};\n\nexports.getSlideCount = getSlideCount;\n\nvar checkSpecKeys = function checkSpecKeys(spec, keysArray) {\n  return keysArray.reduce(function (value, key) {\n    return value && spec.hasOwnProperty(key);\n  }, true) ? null : console.error(\"Keys Missing:\", spec);\n};\n\nexports.checkSpecKeys = checkSpecKeys;\n\nvar getTrackCSS = function getTrackCSS(spec) {\n  checkSpecKeys(spec, [\"left\", \"variableWidth\", \"slideCount\", \"slidesToShow\", \"slideWidth\"]);\n  var trackWidth, trackHeight;\n  var trackChildren = spec.slideCount + 2 * spec.slidesToShow;\n\n  if (!spec.vertical) {\n    trackWidth = getTotalSlides(spec) * spec.slideWidth;\n  } else {\n    trackHeight = trackChildren * spec.slideHeight;\n  }\n\n  var style = {\n    opacity: 1,\n    transition: \"\",\n    WebkitTransition: \"\"\n  };\n\n  if (spec.useTransform) {\n    var WebkitTransform = !spec.vertical ? \"translate3d(\" + spec.left + \"px, 0px, 0px)\" : \"translate3d(0px, \" + spec.left + \"px, 0px)\";\n    var transform = !spec.vertical ? \"translate3d(\" + spec.left + \"px, 0px, 0px)\" : \"translate3d(0px, \" + spec.left + \"px, 0px)\";\n    var msTransform = !spec.vertical ? \"translateX(\" + spec.left + \"px)\" : \"translateY(\" + spec.left + \"px)\";\n    style = _objectSpread({}, style, {\n      WebkitTransform: WebkitTransform,\n      transform: transform,\n      msTransform: msTransform\n    });\n  } else {\n    if (spec.vertical) {\n      style[\"top\"] = spec.left;\n    } else {\n      style[\"left\"] = spec.left;\n    }\n  }\n\n  if (spec.fade) style = {\n    opacity: 1\n  };\n  if (trackWidth) style.width = trackWidth;\n  if (trackHeight) style.height = trackHeight; // Fallback for IE8\n\n  if (window && !window.addEventListener && window.attachEvent) {\n    if (!spec.vertical) {\n      style.marginLeft = spec.left + \"px\";\n    } else {\n      style.marginTop = spec.left + \"px\";\n    }\n  }\n\n  return style;\n};\n\nexports.getTrackCSS = getTrackCSS;\n\nvar getTrackAnimateCSS = function getTrackAnimateCSS(spec) {\n  checkSpecKeys(spec, [\"left\", \"variableWidth\", \"slideCount\", \"slidesToShow\", \"slideWidth\", \"speed\", \"cssEase\"]);\n  var style = getTrackCSS(spec); // useCSS is true by default so it can be undefined\n\n  if (spec.useTransform) {\n    style.WebkitTransition = \"-webkit-transform \" + spec.speed + \"ms \" + spec.cssEase;\n    style.transition = \"transform \" + spec.speed + \"ms \" + spec.cssEase;\n  } else {\n    if (spec.vertical) {\n      style.transition = \"top \" + spec.speed + \"ms \" + spec.cssEase;\n    } else {\n      style.transition = \"left \" + spec.speed + \"ms \" + spec.cssEase;\n    }\n  }\n\n  return style;\n};\n\nexports.getTrackAnimateCSS = getTrackAnimateCSS;\n\nvar getTrackLeft = function getTrackLeft(spec) {\n  if (spec.unslick) {\n    return 0;\n  }\n\n  checkSpecKeys(spec, [\"slideIndex\", \"trackRef\", \"infinite\", \"centerMode\", \"slideCount\", \"slidesToShow\", \"slidesToScroll\", \"slideWidth\", \"listWidth\", \"variableWidth\", \"slideHeight\"]);\n  var slideIndex = spec.slideIndex,\n      trackRef = spec.trackRef,\n      infinite = spec.infinite,\n      centerMode = spec.centerMode,\n      slideCount = spec.slideCount,\n      slidesToShow = spec.slidesToShow,\n      slidesToScroll = spec.slidesToScroll,\n      slideWidth = spec.slideWidth,\n      listWidth = spec.listWidth,\n      variableWidth = spec.variableWidth,\n      slideHeight = spec.slideHeight,\n      fade = spec.fade,\n      vertical = spec.vertical;\n  var slideOffset = 0;\n  var targetLeft;\n  var targetSlide;\n  var verticalOffset = 0;\n\n  if (fade || spec.slideCount === 1) {\n    return 0;\n  }\n\n  var slidesToOffset = 0;\n\n  if (infinite) {\n    slidesToOffset = -getPreClones(spec); // bring active slide to the beginning of visual area\n    // if next scroll doesn't have enough children, just reach till the end of original slides instead of shifting slidesToScroll children\n\n    if (slideCount % slidesToScroll !== 0 && slideIndex + slidesToScroll > slideCount) {\n      slidesToOffset = -(slideIndex > slideCount ? slidesToShow - (slideIndex - slideCount) : slideCount % slidesToScroll);\n    } // shift current slide to center of the frame\n\n\n    if (centerMode) {\n      slidesToOffset += parseInt(slidesToShow / 2);\n    }\n  } else {\n    if (slideCount % slidesToScroll !== 0 && slideIndex + slidesToScroll > slideCount) {\n      slidesToOffset = slidesToShow - slideCount % slidesToScroll;\n    }\n\n    if (centerMode) {\n      slidesToOffset = parseInt(slidesToShow / 2);\n    }\n  }\n\n  slideOffset = slidesToOffset * slideWidth;\n  verticalOffset = slidesToOffset * slideHeight;\n\n  if (!vertical) {\n    targetLeft = slideIndex * slideWidth * -1 + slideOffset;\n  } else {\n    targetLeft = slideIndex * slideHeight * -1 + verticalOffset;\n  }\n\n  if (variableWidth === true) {\n    var targetSlideIndex;\n    var trackElem = trackRef && trackRef.node;\n    targetSlideIndex = slideIndex + getPreClones(spec);\n    targetSlide = trackElem && trackElem.childNodes[targetSlideIndex];\n    targetLeft = targetSlide ? targetSlide.offsetLeft * -1 : 0;\n\n    if (centerMode === true) {\n      targetSlideIndex = infinite ? slideIndex + getPreClones(spec) : slideIndex;\n      targetSlide = trackElem && trackElem.children[targetSlideIndex];\n      targetLeft = 0;\n\n      for (var slide = 0; slide < targetSlideIndex; slide++) {\n        targetLeft -= trackElem && trackElem.children[slide] && trackElem.children[slide].offsetWidth;\n      }\n\n      targetLeft -= parseInt(spec.centerPadding);\n      targetLeft += targetSlide && (listWidth - targetSlide.offsetWidth) / 2;\n    }\n  }\n\n  return targetLeft;\n};\n\nexports.getTrackLeft = getTrackLeft;\n\nvar getPreClones = function getPreClones(spec) {\n  if (spec.unslick || !spec.infinite) {\n    return 0;\n  }\n\n  if (spec.variableWidth) {\n    return spec.slideCount;\n  }\n\n  return spec.slidesToShow + (spec.centerMode ? 1 : 0);\n};\n\nexports.getPreClones = getPreClones;\n\nvar getPostClones = function getPostClones(spec) {\n  if (spec.unslick || !spec.infinite) {\n    return 0;\n  }\n\n  return spec.slideCount;\n};\n\nexports.getPostClones = getPostClones;\n\nvar getTotalSlides = function getTotalSlides(spec) {\n  return spec.slideCount === 1 ? 1 : getPreClones(spec) + spec.slideCount + getPostClones(spec);\n};\n\nexports.getTotalSlides = getTotalSlides;\n\nvar siblingDirection = function siblingDirection(spec) {\n  if (spec.targetSlide > spec.currentSlide) {\n    if (spec.targetSlide > spec.currentSlide + slidesOnRight(spec)) {\n      return \"left\";\n    }\n\n    return \"right\";\n  } else {\n    if (spec.targetSlide < spec.currentSlide - slidesOnLeft(spec)) {\n      return \"right\";\n    }\n\n    return \"left\";\n  }\n};\n\nexports.siblingDirection = siblingDirection;\n\nvar slidesOnRight = function slidesOnRight(_ref) {\n  var slidesToShow = _ref.slidesToShow,\n      centerMode = _ref.centerMode,\n      rtl = _ref.rtl,\n      centerPadding = _ref.centerPadding; // returns no of slides on the right of active slide\n\n  if (centerMode) {\n    var right = (slidesToShow - 1) / 2 + 1;\n    if (parseInt(centerPadding) > 0) right += 1;\n    if (rtl && slidesToShow % 2 === 0) right += 1;\n    return right;\n  }\n\n  if (rtl) {\n    return 0;\n  }\n\n  return slidesToShow - 1;\n};\n\nexports.slidesOnRight = slidesOnRight;\n\nvar slidesOnLeft = function slidesOnLeft(_ref2) {\n  var slidesToShow = _ref2.slidesToShow,\n      centerMode = _ref2.centerMode,\n      rtl = _ref2.rtl,\n      centerPadding = _ref2.centerPadding; // returns no of slides on the left of active slide\n\n  if (centerMode) {\n    var left = (slidesToShow - 1) / 2 + 1;\n    if (parseInt(centerPadding) > 0) left += 1;\n    if (!rtl && slidesToShow % 2 === 0) left += 1;\n    return left;\n  }\n\n  if (rtl) {\n    return slidesToShow - 1;\n  }\n\n  return 0;\n};\n\nexports.slidesOnLeft = slidesOnLeft;\n\nvar canUseDOM = function canUseDOM() {\n  return !!(typeof window !== \"undefined\" && window.document && window.document.createElement);\n};\n\nexports.canUseDOM = canUseDOM;"],"sourceRoot":""}